{"version":3,"sources":["webpack:///./src/Phrasebook/index.vue","webpack:///./src/Phrasebook/PhraseCard.vue","webpack:///./src/Phrasebook/PhraseCard.vue?0f23","webpack:///./src/Phrasebook/PhraseCard.vue?dc76","webpack:///./src/Phrasebook/main.ts","webpack:///./src/Phrasebook/index.vue?dcc3","webpack:///./src/Phrasebook/index.vue?b05c","webpack:///./src/Phrasebook/index.vue?82b7","webpack:///./src/components/Notes/index.vue","webpack:///./src/components/Notes/index.vue?4c77","webpack:///./src/components/Notes/index.vue?7695","webpack:///./src/Phrasebook/PhraseCard.vue?c036"],"names":["class","corpus","searching","icon","query","type","placeholder","section","style","select","s","key","id","value","name","phrases","ps","p","text","preview","is-on","phrase","phrasebooks","n","lect","copy","glossed","translation","contextTranslation","blocks","b","i","ref","el","push","block","notes","components","Context","Block","Notes","props","String","default","Object","undefined","setup","context","filter","visible","map","display","join","navigator","clipboard","writeText","render","__scopeId","initialize","PhraseCard","reduce","c","entity","Set","immediate","result","index","includes","length","_section","_phrase","pieces","j","Array","isWrapped","start","end","toPiece","patterns","slice","separator","split"],"mappings":"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","file":"js/chunk-10ead328.8809b5e5.js","sourcesContent":["<template>\n  <div v-if=\"corpus\" class=\"section col-1\">\n    <div class=\"col-1\">\n      <div class=\"row-1\">\n        <toggle v-model=\"searching\" icon=\"search\" />\n        <input\n          v-if=\"searching\"\n          v-model=\"query\"\n          class=\"flex\"\n          type=\"text\"\n          placeholder=\"Search all phrases...\"\n        />\n        <h2 v-else class=\"col-1 flex\">\n          <select\n            v-model=\"section\"\n            style=\"flex: none\"\n            @change=\"select(section)\"\n          >\n            <option v-for=\"s in corpus\" :key=\"s.id\" :value=\"s\">\n              {{ s.name }}\n            </option>\n          </select>\n        </h2>\n      </div>\n      <div class=\"scroll\">\n        <div v-if=\"searching\" class=\"col\">\n          <div v-for=\"(ps, s) of phrases\" :key=\"s\" class=\"col\">\n            <h2>{{ corpus[s].name }}</h2>\n            <div class=\"col-0\">\n              <btn\n                v-for=\"p in ps\"\n                :key=\"p\"\n                :text=\"corpus[s].phrases[p].preview\"\n                :is-on=\"phrase === corpus[s].phrases[p]\"\n                @click=\"select(corpus[s], corpus[s].phrases[p])\"\n              />\n            </div>\n          </div>\n        </div>\n        <div v-else class=\"col-0\">\n          <btn\n            v-for=\"p in phrases\"\n            :key=\"p.id\"\n            :text=\"p.preview\"\n            :is-on=\"phrase === p\"\n            @click=\"select(null, p)\"\n          />\n        </div>\n      </div>\n    </div>\n    <div v-if=\"phrase\" class=\"col-1\">\n      <PhraseCard :key=\"phrase.id\" :phrase=\"phrase\" />\n      <PhraseCard\n        v-for=\"(p, n) of phrasebooks\"\n        :key=\"n + '--' + phrase.id\"\n        :lect=\"n\"\n        :phrase=\"p[phrase.id]\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport PhraseCard from \"./PhraseCard.vue\";\n\nimport { computed, ref, watch, defineComponent, provide } from \"vue\";\n\nimport { corpus, section, phrase, phrasebooks, initialize } from \"./main\";\nimport { Context, CorpusPhrase, CorpusSection } from \"./types\";\n\nexport default defineComponent({\n  components: { PhraseCard },\n  setup() {\n    initialize();\n\n    const context = ref({} as Context);\n    watch(\n      phrase,\n      (phrase) => {\n        if (phrase.context)\n          context.value = phrase.context.reduce((c, { entity }) => {\n            c[entity] = new Set();\n            return c;\n          }, {} as Context);\n      },\n      { immediate: true }\n    );\n\n    provide(\"context\", context);\n\n    const searching = ref(false);\n    const query = ref(\"\");\n\n    const phrases = computed(() =>\n      searching.value\n        ? corpus.value.reduce((result, section, index) => {\n            result[index] = section.phrases\n              .map((phrase, index) => [phrase, index] as [CorpusPhrase, number])\n              .filter(([phrase]) => phrase.preview.includes(query.value))\n              .map(([, index]) => index);\n            if (!result[index].length) delete result[index];\n            return result;\n          }, {} as Record<number, number[]>)\n        : section.value?.phrases\n    );\n    function select(_section?: CorpusSection, _phrase?: CorpusPhrase) {\n      if (_section) section.value = _section;\n      phrase.value = _phrase ?? section.value.phrases[0];\n    }\n\n    return {\n      searching,\n      query,\n      corpus,\n      section,\n      phrase,\n      select,\n      phrases,\n      phrasebooks,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.section {\n  display: grid;\n  grid-template-columns: 288px minmax(0, 1fr);\n  gap: map-get($margins, \"double\");\n  > :first-child {\n    max-height: 640px;\n  }\n}\n@media only screen and (max-width: $mobile-width) {\n  .section {\n    > :first-child {\n      max-height: 320px;\n    }\n    grid-template-columns: 100%;\n  }\n}\n</style>\n","<template>\n  <div v-if=\"phrase\" class=\"col-1 card\">\n    <div class=\"row-1 small wrap\" style=\"width: 100%\">\n      <template v-if=\"lect\">\n        <btn icon=\"content_copy\" @click=\"copy\" />\n        <toggle v-model=\"glossed\" icon=\"layers\" />\n        <h2 class=\"flex\">{{ lect }}</h2>\n      </template>\n      <Context :translation=\"contextTranslation\" :blocks=\"blocks\" />\n    </div>\n    <div class=\"row wrap flex\">\n      <Block\n        v-for=\"(b, i) in phrase.blocks\"\n        :ref=\"(el) => blocks.push(el)\"\n        :key=\"i\"\n        :glossed=\"glossed\"\n        :block=\"b\"\n      />\n    </div>\n    <Notes class=\"text-caption\" :notes=\"phrase.notes\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Context from \"./Context/index.vue\";\nimport Block from \"./Block/index.vue\";\nimport Notes from \"@/components/Notes/index.vue\";\n\nimport { computed, defineComponent, PropType, reactive, ref } from \"vue\";\n\nimport { Phrase, BlockVue } from \"./types\";\n\nexport default defineComponent({\n  components: { Context, Block, Notes },\n  props: {\n    lect: { type: String, default: \"\" },\n    phrase: { type: Object as PropType<Phrase>, default: undefined },\n  },\n  setup(props) {\n    const glossed = ref(false);\n    const contextTranslation = computed(() =>\n      props.lect ? props.phrase.context : undefined\n    );\n\n    const blocks = reactive([] as BlockVue[]);\n    const text = computed(() =>\n      blocks\n        .filter((b) => b?.visible)\n        .map((b) => b.display.text)\n        .join(\" \")\n    );\n    function copy() {\n      navigator.clipboard.writeText(text.value);\n    }\n\n    return { glossed, blocks, copy, contextTranslation };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.card {\n  align-items: flex-start;\n}\n</style>\n","\nimport Context from \"./Context/index.vue\";\nimport Block from \"./Block/index.vue\";\nimport Notes from \"@/components/Notes/index.vue\";\n\nimport { computed, defineComponent, PropType, reactive, ref } from \"vue\";\n\nimport { Phrase, BlockVue } from \"./types\";\n\nexport default defineComponent({\n  components: { Context, Block, Notes },\n  props: {\n    lect: { type: String, default: \"\" },\n    phrase: { type: Object as PropType<Phrase>, default: undefined },\n  },\n  setup(props) {\n    const glossed = ref(false);\n    const contextTranslation = computed(() =>\n      props.lect ? props.phrase.context : undefined\n    );\n\n    const blocks = reactive([] as BlockVue[]);\n    const text = computed(() =>\n      blocks\n        .filter((b) => b?.visible)\n        .map((b) => b.display.text)\n        .join(\" \")\n    );\n    function copy() {\n      navigator.clipboard.writeText(text.value);\n    }\n\n    return { glossed, blocks, copy, contextTranslation };\n  },\n});\n","import { render } from \"./PhraseCard.vue?vue&type=template&id=343cc6d0&scoped=true\"\nimport script from \"./PhraseCard.vue?vue&type=script&lang=ts\"\nexport * from \"./PhraseCard.vue?vue&type=script&lang=ts\"\n\nimport \"./PhraseCard.vue?vue&type=style&index=0&id=343cc6d0&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-343cc6d0\"\n\nexport default script","import { getInitializer, loadJSON, loadLectsJSON } from \"@/store\";\nimport { shallowRef } from \"vue\";\nimport { CorpusPhrase, CorpusSection, Phrasebook } from \"./types\";\n\nexport const corpus = shallowRef<CorpusSection[]>([]);\nexport const phrasebooks = shallowRef<Record<string, Phrasebook>>();\nexport const section = shallowRef({} as CorpusSection);\nexport const phrase = shallowRef({} as CorpusPhrase);\n\nexport const initialize = getInitializer(async () => {\n  corpus.value = await loadJSON(\"phrasebook\");\n  phrasebooks.value = await loadLectsJSON<Phrasebook>(\"phrasebook\");\n\n  section.value = corpus.value[0];\n  phrase.value = section.value.phrases[0];\n});\n","\nimport PhraseCard from \"./PhraseCard.vue\";\n\nimport { computed, ref, watch, defineComponent, provide } from \"vue\";\n\nimport { corpus, section, phrase, phrasebooks, initialize } from \"./main\";\nimport { Context, CorpusPhrase, CorpusSection } from \"./types\";\n\nexport default defineComponent({\n  components: { PhraseCard },\n  setup() {\n    initialize();\n\n    const context = ref({} as Context);\n    watch(\n      phrase,\n      (phrase) => {\n        if (phrase.context)\n          context.value = phrase.context.reduce((c, { entity }) => {\n            c[entity] = new Set();\n            return c;\n          }, {} as Context);\n      },\n      { immediate: true }\n    );\n\n    provide(\"context\", context);\n\n    const searching = ref(false);\n    const query = ref(\"\");\n\n    const phrases = computed(() =>\n      searching.value\n        ? corpus.value.reduce((result, section, index) => {\n            result[index] = section.phrases\n              .map((phrase, index) => [phrase, index] as [CorpusPhrase, number])\n              .filter(([phrase]) => phrase.preview.includes(query.value))\n              .map(([, index]) => index);\n            if (!result[index].length) delete result[index];\n            return result;\n          }, {} as Record<number, number[]>)\n        : section.value?.phrases\n    );\n    function select(_section?: CorpusSection, _phrase?: CorpusPhrase) {\n      if (_section) section.value = _section;\n      phrase.value = _phrase ?? section.value.phrases[0];\n    }\n\n    return {\n      searching,\n      query,\n      corpus,\n      section,\n      phrase,\n      select,\n      phrases,\n      phrasebooks,\n    };\n  },\n});\n","import { render } from \"./index.vue?vue&type=template&id=0c4856cc&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=0c4856cc&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0c4856cc\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=0c4856cc&lang=scss&scoped=true\"","<template>\n  <div v-if=\"notes.length\" class=\"col\">\n    <p v-for=\"(ps, i) in pieces\" :key=\"i\">\n      <template v-for=\"({ text, display }, j) in ps\" :key=\"j\">\n        <span v-if=\"display === 'plain'\">{{ text }}</span>\n        <span v-else-if=\"display === 'highlight'\" class=\"highlight-font\">{{\n          text\n        }}</span>\n        <b v-else-if=\"display === 'grapheme'\">{{ text }}</b>\n        <span v-else class=\"text-ipa\">{{ text }}</span>\n      </template>\n    </p>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, PropType, defineComponent } from \"vue\";\nimport { PieceDisplay, Piece } from \"./types\";\n\nexport default defineComponent({\n  props: {\n    notes: { type: Array as PropType<string[]>, default: () => [] },\n  },\n  setup(props) {\n    function isWrapped(text: string, start: string, end: string) {\n      return text[0] === start && text[text.length - 1] === end;\n    }\n    function toPiece(text: string): Piece {\n      const patterns = [\n        [\"*\", \"*\", \"highlight\"],\n        [\"/\", \"/\", \"phoneme\"],\n        [\"<\", \">\", \"grapheme\"],\n      ] as [string, string, PieceDisplay][];\n\n      for (const [start, end, display] of patterns) {\n        if (isWrapped(text, start, end))\n          return { text: text.slice(1, -1), display };\n      }\n      return { text, display: \"plain\" };\n    }\n    const pieces = computed(() => {\n      const separator = /(\\/[^/]+\\/|<[^<>]+>|\\*[^*]+\\*)/g;\n      return props.notes.map((n) => n.split(separator).map((n) => toPiece(n)));\n    });\n    return { pieces };\n  },\n});\n</script>\n","\nimport { computed, PropType, defineComponent } from \"vue\";\nimport { PieceDisplay, Piece } from \"./types\";\n\nexport default defineComponent({\n  props: {\n    notes: { type: Array as PropType<string[]>, default: () => [] },\n  },\n  setup(props) {\n    function isWrapped(text: string, start: string, end: string) {\n      return text[0] === start && text[text.length - 1] === end;\n    }\n    function toPiece(text: string): Piece {\n      const patterns = [\n        [\"*\", \"*\", \"highlight\"],\n        [\"/\", \"/\", \"phoneme\"],\n        [\"<\", \">\", \"grapheme\"],\n      ] as [string, string, PieceDisplay][];\n\n      for (const [start, end, display] of patterns) {\n        if (isWrapped(text, start, end))\n          return { text: text.slice(1, -1), display };\n      }\n      return { text, display: \"plain\" };\n    }\n    const pieces = computed(() => {\n      const separator = /(\\/[^/]+\\/|<[^<>]+>|\\*[^*]+\\*)/g;\n      return props.notes.map((n) => n.split(separator).map((n) => toPiece(n)));\n    });\n    return { pieces };\n  },\n});\n","import { render } from \"./index.vue?vue&type=template&id=3ab02e56\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PhraseCard.vue?vue&type=style&index=0&id=343cc6d0&lang=scss&scoped=true\""],"sourceRoot":""}