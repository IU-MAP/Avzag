(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b3d486b"],{"0753":function(e,t,c){},"3c94":function(e,t,c){"use strict";c.r(t);c("b0c0");var n=c("7a23"),r=Object(n["N"])("data-v-4221d6a9");Object(n["u"])("data-v-4221d6a9");var a={key:0,class:"section col-1"},l={class:"col-1"},o={class:"row"},u={key:1,class:"col-1 flex"},s={key:0,class:"scroll col phrases"},i={class:"col-0"},b={key:1,class:"scroll col-0 phrases"};Object(n["s"])();var d=r((function(e,t,c,r,d,j){var O=Object(n["A"])("toggle"),p=Object(n["A"])("InputQuery"),v=Object(n["A"])("btn"),f=Object(n["A"])("PhraseCard");return e.corpus?(Object(n["r"])(),Object(n["d"])("div",a,[Object(n["g"])("div",l,[Object(n["g"])("div",o,[Object(n["g"])(O,{modelValue:e.searching,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searching=t}),icon:"search"},null,8,["modelValue"]),e.searching?(Object(n["r"])(),Object(n["d"])(p,{key:0,modelValue:e.query,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.query=t}),placeholder:"Search in English & translations"},null,8,["modelValue"])):(Object(n["r"])(),Object(n["d"])("h2",u,[Object(n["M"])(Object(n["g"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.section=t}),style:{flex:"none"},onChange:t[4]||(t[4]=function(t){return e.select(e.section)})},[(Object(n["r"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(e.corpus,(function(e){return Object(n["r"])(),Object(n["d"])("option",{key:e.id,value:e},Object(n["C"])(e.name),9,["value"])})),128))],544),[[n["G"],e.section]])]))]),e.searching?(Object(n["r"])(),Object(n["d"])("div",s,[(Object(n["r"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(e.phrases,(function(t,c){return Object(n["r"])(),Object(n["d"])(n["a"],{key:c},[Object(n["g"])("h2",null,Object(n["C"])(e.corpus[c].name),1),Object(n["g"])("div",i,[(Object(n["r"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(t,(function(t){return Object(n["r"])(),Object(n["d"])(v,{key:t,text:e.corpus[c].phrases[t].name,"is-on":e.phrase===e.corpus[c].phrases[t],onClick:function(n){return e.select(e.corpus[c],e.corpus[c].phrases[t])}},null,8,["text","is-on","onClick"])})),128))])],64)})),128))])):(Object(n["r"])(),Object(n["d"])("div",b,[(Object(n["r"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(e.phrases,(function(t){return Object(n["r"])(),Object(n["d"])(v,{key:t.id,text:t.name,"is-on":e.phrase===t,onClick:function(c){return e.select(null,t)}},null,8,["text","is-on","onClick"])})),128))]))]),e.phrase?(Object(n["r"])(),Object(n["d"])("div",{key:e.phrase.id,class:"col-1"},[Object(n["g"])(f,{phrase:e.phrase},null,8,["phrase"]),(Object(n["r"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(e.phrasebooks,(function(t,c){return Object(n["r"])(),Object(n["d"])(f,{key:c,lect:c,path:e.path,phrase:t[e.phrase.id]},null,8,["lect","path","phrase"])})),128))])):Object(n["e"])("",!0)])):Object(n["e"])("",!0)})),j=(c("a623"),c("4de4"),c("a15b"),c("d81d"),c("13d5"),Object(n["N"])("data-v-523c8b64"));Object(n["u"])("data-v-523c8b64");var O={key:0,class:"col card flag"},p={key:0,class:"row small wrap",style:{width:"100%"}},v={class:"flex"},f={class:"row"},h={class:"row wrap flex"};Object(n["s"])();var k=j((function(e,t,c,r,a,l){var o=Object(n["A"])("Flag"),u=Object(n["A"])("toggle"),s=Object(n["A"])("btn"),i=Object(n["A"])("Context"),b=Object(n["A"])("Seeker"),d=Object(n["A"])("Block"),j=Object(n["A"])("Notes");return e.phrase?(Object(n["r"])(),Object(n["d"])("div",O,[Object(n["g"])(o,{lect:e.lect,class:"blur"},null,8,["lect"]),e.lect?(Object(n["r"])(),Object(n["d"])("div",p,[Object(n["g"])("h2",v,Object(n["C"])(e.lect),1),Object(n["g"])("div",f,[Object(n["g"])(u,{modelValue:e.playing,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.playing=t}),icon:"play_arrow"},null,8,["modelValue"]),Object(n["g"])(s,{icon:"content_copy",onClick:e.copy},null,8,["onClick"]),Object(n["g"])(u,{modelValue:e.glossed,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.glossed=t}),icon:"layers"},null,8,["modelValue"])])])):Object(n["e"])("",!0),Object(n["g"])(i,{translation:e.lect?e.phrase.context:null,blocks:e.vblocks},null,8,["translation","blocks"]),Object(n["g"])("div",h,[(Object(n["r"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(e.phrase.blocks,(function(t,c){var r,a;return Object(n["r"])(),Object(n["d"])("div",{key:c,class:"blocks row seeker"},[null!==(r=e.vblocks[c])&&void 0!==r&&r.state?(Object(n["r"])(),Object(n["d"])(b,{key:0,check:e.playing,seek:null===(a=e.player.queue[c])||void 0===a?void 0:a.seek},null,8,["check","seek"])):Object(n["e"])("",!0),Object(n["g"])(d,{block:t,glossed:e.glossed,onUpdate:function(t){return e.vblocks[c]=t}},null,8,["block","glossed","onUpdate"])])})),128))]),Object(n["g"])(j,{class:"text-caption",notes:e.phrase.notes},null,8,["notes"])])):Object(n["e"])("",!0)})),g=(c("498a"),c("5794")),y=c("72e9"),m=c("d9c7"),x=c("f929"),w=c("9458"),C=c("e7de"),A=Object(n["h"])({components:{Context:g["a"],Block:y["a"],Notes:m["a"],Flag:x["a"],Seeker:w["a"]},props:{lect:{type:String,default:""},path:{type:String,default:""},phrase:{type:Object,default:void 0}},setup:function(e){var t=Object(n["x"])(!1),c=Object(n["v"])([]),r=Object(n["b"])((function(){return c.filter((function(e){var t=e.state;return t})).map((function(e){var t=e.text,c=e.state;return(null!==c&&void 0!==c&&c.noSpace?"":" ")+t})).join("").trim()}));function a(){navigator.clipboard.writeText(r.value)}var l=Object(n["b"])({get:function(){return C["a"].key===e.lect},set:function(t){t?C["a"].play(e.lect,c.map((function(e){var t,c=e.state,n=e.text;return null===(null===c||void 0===c?void 0:c.audio)?null:null!==(t=null===c||void 0===c?void 0:c.audio)&&void 0!==t?t:n.toLowerCase()})).map((function(t){return null===t?"":e.path+(null!==t&&void 0!==t?t:"")}))):C["a"].stop()}});return{glossed:t,vblocks:c,copy:a,player:C["a"],playing:l}}});c("727e");A.render=k,A.__scopeId="data-v-523c8b64";var V=A,S=c("80b3"),U=(c("99af"),c("5db7"),c("73d9"),c("07ac"),c("96cf"),c("1da1")),B=c("2909"),_=c("3a0b"),q=Object(n["B"])([]),I=Object(n["B"])(),N=Object(n["B"])(),J=Object(n["B"])(),M=Object(n["x"])([]);function F(e){return e.flatMap((function(e){return e.map((function(e){return e.text.plain.replaceAll("*","")}))}))}function L(){if(I.value){var e=Object.values(I.value);M.value=q.value.map((function(t){var c=t.phrases;return c.map((function(t){var c=t.id,n=t.name,r=t.blocks;return[n].concat(Object(B["a"])(F(r)),Object(B["a"])(e.flatMap((function(e){var t,n;return F(null!==(t=null===(n=e[c])||void 0===n?void 0:n.blocks)&&void 0!==t?t:[])})))).join(" ").toLowerCase()}))}))}}var P=Object(_["a"])(Object(U["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(_["b"])("phrasebook");case 2:return q.value=e.sent,e.next=5,Object(_["c"])("phrasebook");case 5:I.value=e.sent,L(),N.value=q.value[0],J.value=N.value.phrases[0];case 9:case"end":return e.stop()}}),e)})))),Q=c("7ec3"),R=c("d53c"),E=Object(n["h"])({components:{PhraseCard:V,InputQuery:S["a"]},setup:function(){P();var e=Object(n["x"])({});Object(n["J"])(J,(function(t){return Object(Q["c"])(e,null===t||void 0===t?void 0:t.context)}),{immediate:!0}),Object(n["t"])("context",e);var t=Object(n["b"])((function(){var e,t,c=["phrasebook",null===(e=N.value)||void 0===e?void 0:e.name,null===(t=J.value)||void 0===t?void 0:t.name];return c.every((function(e){return e}))?c.map((function(e){return e+"/"})).join(""):""})),c=Object(n["x"])(!1),r=Object(n["x"])({}),a=Object(n["b"])((function(){var e;return c.value?q.value.reduce((function(e,t,c){return e[c]=t.phrases.map((function(e,t){return t})).filter((function(e){return Object(R["a"])(M.value[c][e],r.value)})).map((function(e){return e})),e[c].length||delete e[c],e}),{}):null===(e=N.value)||void 0===e?void 0:e.phrases}));function l(e,t){var c;e&&(N.value=e),J.value=null!==t&&void 0!==t?t:null===(c=N.value)||void 0===c?void 0:c.phrases[0]}return{searching:c,query:r,corpus:q,section:N,phrase:J,select:l,phrases:a,phrasebooks:I,path:t}}});c("78c1");E.render=d,E.__scopeId="data-v-4221d6a9";t["default"]=E},"498a":function(e,t,c){"use strict";var n=c("23e7"),r=c("58a8").trim,a=c("c8d2");n({target:"String",proto:!0,forced:a("trim")},{trim:function(){return r(this)}})},"727e":function(e,t,c){"use strict";c("c05a")},"78c1":function(e,t,c){"use strict";c("0753")},a623:function(e,t,c){"use strict";var n=c("23e7"),r=c("b727").every,a=c("a640"),l=c("ae40"),o=a("every"),u=l("every");n({target:"Array",proto:!0,forced:!o||!u},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},c05a:function(e,t,c){},c8d2:function(e,t,c){var n=c("d039"),r=c("5899"),a="​᠎";e.exports=function(e){return n((function(){return!!r[e]()||a[e]()!=a||r[e].name!==e}))}}}]);