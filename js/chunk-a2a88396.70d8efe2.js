(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a2a88396"],{"04d4":function(e,t,n){"use strict";var o=n("7a23");function c(e,t,n,c,a,r){var i=Object(o["A"])("btn");return Object(o["r"])(),Object(o["d"])(i,{class:"highlight-font-alert",icon:e.icon,text:e.text,onClick:e.confirm},null,8,["icon","text","onClick"])}var a=Object(o["h"])({props:{message:{type:String,default:"Delete?"},icon:{type:String,default:"delete"},text:{type:String,default:""}},emits:["confirm"],setup:function(e,t){var n=t.emit;function o(){window.confirm(e.message)&&n("confirm")}return{confirm:o}}});a.render=c;t["a"]=a},"22e9":function(e,t,n){"use strict";n("2adb")},"230a":function(e,t,n){},"2adb":function(e,t,n){},"428a":function(e,t,n){"use strict";var o=n("7a23"),c=Object(o["N"])("data-v-79fb7e88");Object(o["u"])("data-v-79fb7e88");var a={class:"row-1 wrap blocks"};Object(o["s"])();var r=c((function(e,t,n,r,i,u){var l=Object(o["A"])("ArrayControl"),d=Object(o["A"])("Context"),s=Object(o["A"])("btn"),b=Object(o["A"])("Block"),f=Object(o["A"])("EditorCard");return e.mphrase?(Object(o["r"])(),Object(o["d"])(f,{key:0,icon:"widgets",header:"Blocks"},{header:c((function(){return[Object(o["g"])(l,{modelValue:e.blocks,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.blocks=t}),item:e.block,"onUpdate:item":t[2]||(t[2]=function(t){return e.block=t}),add:function(){return[e.newState()]},copy:"",shift:"",remove:""},null,8,["modelValue","item","add"])]})),default:c((function(){return[Object(o["g"])(d,{translation:e.phrase.id?null:e.phrase.context},null,8,["translation"]),Object(o["g"])("div",a,[(Object(o["r"])(!0),Object(o["d"])(o["a"],null,Object(o["y"])(e.blocks,(function(t,n){return Object(o["r"])(),Object(o["d"])("div",{key:n+"--"+Math.random(),class:"row"},[Object(o["g"])(s,{icon:"edit","is-on":e.block===t,onClick:function(n){return e.block=t}},null,8,["is-on","onClick"]),Object(o["g"])(b,{block:t},null,8,["block"])])})),128))])]})),_:1})):Object(o["e"])("",!0)})),i=n("b5cc"),u=n("7694"),l=n("5794"),d=n("72e9"),s=n("7ec3"),b=Object(o["h"])({name:"OrderEditor",components:{ArrayControl:i["a"],EditorCard:u["a"],Context:l["a"],Block:d["a"]},props:{modelValue:{type:Array,default:void 0},phrase:{type:Object,default:void 0}},emits:["update:modelValue","update:phrase"],setup:function(e,t){var n=t.emit,c=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),a=Object(o["b"])({get:function(){return e.phrase},set:function(e){return n("update:modelValue",e)}}),r=Object(o["b"])({get:function(){return a.value.blocks},set:function(e){return a.value.blocks=e}});return{mphrase:a,blocks:r,block:c,newState:s["e"]}}});n("22e9");b.render=r,b.__scopeId="data-v-79fb7e88";t["a"]=b},7577:function(e,t,n){"use strict";n("230a")},7694:function(e,t,n){"use strict";var o=n("7a23"),c=Object(o["N"])("data-v-a8e2d0ea");Object(o["u"])("data-v-a8e2d0ea");var a={class:"col"},r={class:"row header wrap"},i={class:"icon"},u={class:"flex"},l=Object(o["g"])("hr",null,null,-1),d={key:0,class:"text-caption text-faded"},s={class:"col"};Object(o["s"])();var b=c((function(e,t,n,c,b,f){return Object(o["r"])(),Object(o["d"])("div",a,[Object(o["g"])("div",r,[Object(o["g"])("p",i,Object(o["C"])(e.icon),1),Object(o["g"])("h2",u,Object(o["C"])(e.header),1),Object(o["z"])(e.$slots,"header")]),l,e.caption?(Object(o["r"])(),Object(o["d"])("p",d,[Object(o["z"])(e.$slots,"caption")])):Object(o["e"])("",!0),Object(o["g"])("div",s,[Object(o["z"])(e.$slots,"default")])])})),f=Object(o["h"])({name:"EditorCard",props:{button:{type:String,default:"add"},icon:{type:String,default:""},header:{type:String,default:""}},emits:["action"],setup:function(e,t){var n=t.emit,o=t.slots;return{emit:n,caption:o.caption}}});n("7577");f.render=b,f.__scopeId="data-v-a8e2d0ea";t["a"]=f},9362:function(e,t,n){"use strict";var o=n("7a23"),c={key:0,class:"block col-2"},a={class:"row wrap"},r={class:"row"};function i(e,t,n,i,u,l){var d=Object(o["A"])("ArrayControl"),s=Object(o["A"])("VState"),b=Object(o["A"])("EditorCard"),f=Object(o["A"])("ConditionsEditor"),O=Object(o["A"])("TransitionEditor"),j=Object(o["A"])("TextsEditor"),p=Object(o["A"])("btn"),m=Object(o["A"])("toggle");return e.block?(Object(o["r"])(),Object(o["d"])("div",c,[Object(o["g"])(b,{icon:"account_tree",header:"States"},{header:Object(o["L"])((function(){return[Object(o["g"])(d,{modelValue:e.block,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.block=t}),item:e.state,"onUpdate:item":t[2]||(t[2]=function(t){return e.state=t}),add:e.newState,copy:"",shift:"",remove:""},null,8,["modelValue","item","add"])]})),default:Object(o["L"])((function(){return[Object(o["g"])("div",a,[(Object(o["r"])(!0),Object(o["d"])(o["a"],null,Object(o["y"])(e.block,(function(t,n){return Object(o["r"])(),Object(o["d"])("button",{key:n,class:"select-"+(e.state===t),onClick:function(n){return e.state=t}},[Object(o["g"])(s,{state:t},null,8,["state"])],10,["onClick"])})),128))])]})),_:1}),e.state?(Object(o["r"])(),Object(o["d"])(o["a"],{key:0},[Object(o["g"])(f,{modelValue:e.state.conditions,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.state.conditions=t})},null,8,["modelValue"]),Object(o["g"])(O,{modelValue:e.state.transition,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.state.transition=t}),states:e.block},null,8,["modelValue","states"]),Object(o["g"])(j,{modelValue:e.state.texts,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.state.texts=t})},null,8,["modelValue"]),Object(o["g"])(b,{icon:"miscellaneous_services",header:"miscellaneous"},{header:Object(o["L"])((function(){return[Object(o["g"])("div",r,[Object(o["g"])(p,{icon:"music_off","is-on":null===e.state.audio,onClick:t[6]||(t[6]=function(t){return e.state.audio=null===e.state.audio?"":null})},null,8,["is-on"]),Object(o["g"])(m,{modelValue:e.state.implicit,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.state.implicit=t}),icon:"opacity"},null,8,["modelValue"]),Object(o["g"])(m,{modelValue:e.state.noSpace,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.state.noSpace=t}),icon:"compress"},null,8,["modelValue"])])]})),default:Object(o["L"])((function(){return[null!==e.state.audio?Object(o["M"])((Object(o["r"])(),Object(o["d"])("input",{key:0,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.state.audio=t}),type:"text",placeholder:"audio filename override, by default - plain text value"},null,512)),[[o["H"],e.state.audio]]):Object(o["e"])("",!0)]})),_:1})],64)):Object(o["e"])("",!0)])):Object(o["e"])("",!0)}var u=n("b5cc"),l=n("7694"),d=Object(o["N"])("data-v-d7cc147e");Object(o["u"])("data-v-d7cc147e");var s=Object(o["f"])("TODO brief explanation"),b={class:"row wrap"};Object(o["s"])();var f=d((function(e,t,n,c,a,r){var i=Object(o["A"])("btn"),u=Object(o["A"])("EditorCard");return Object(o["r"])(),Object(o["d"])(u,{icon:"tune",header:"conditions"},{header:d((function(){return[Object(o["g"])(i,{icon:"clear",onClick:t[1]||(t[1]=function(t){return e.conditions={}})})]})),caption:d((function(){return[s]})),default:d((function(){return[Object(o["g"])("div",b,[(Object(o["r"])(!0),Object(o["d"])(o["a"],null,Object(o["y"])(e.tags,(function(t,n){var c=t.entity,a=t.tag,r=t.color,i=t.select;return Object(o["r"])(),Object(o["d"])("button",{key:c+"--"+a,class:"select-"+i,onClick:function(t){return e.toggle(n)}},[Object(o["g"])("span",{class:r},Object(o["C"])(a),3)],10,["onClick"])})),128))])]})),_:1})})),O=(n("5db7"),n("d81d"),n("73d9"),n("b64b"),n("3835")),j=Object(o["h"])({name:"ConditionsEditor",components:{EditorCard:l["a"]},props:{modelValue:{type:Object,default:void 0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,c=Object(o["k"])("contextSource",{}),a=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),r=Object(o["x"])([]);function i(e){if(r.value){var t=r.value[e],n=t.flag,o=t.entity,c=t.tag;void 0===n?(a.value[o]||(a.value[o]={}),a.value[o][c]=!0):n?a.value[o][c]=!1:(delete a.value[o][c],Object.keys(a.value[o]).length||delete a.value[o])}}return Object(o["J"])([c,a],(function(e){var t=Object(O["a"])(e,2),n=t[0],o=t[1];n&&o&&(r.value=n.flatMap((function(e,t){var n=e.entity,c=e.tags;return c.map((function(e){var c,a=null===(c=o[n])||void 0===c?void 0:c[e];return{tag:e,entity:n,color:"colored-dot-"+t,select:void 0===a?"false":(a?"":"alt-")+"true",flag:a}}))})))}),{immediate:!0,deep:!0}),{context:c,conditions:a,tags:r,toggle:i}}});n("a83f");j.render=f,j.__scopeId="data-v-d7cc147e";var p=j,m=(n("caad"),n("2532"),{class:"row"}),v={key:0,class:"row wrap"};function g(e,t,n,c,a,r){var i=Object(o["A"])("btn"),u=Object(o["A"])("VState"),l=Object(o["A"])("EditorCard");return Object(o["r"])(),Object(o["d"])(l,{icon:"alt_route",header:"transition"},{header:Object(o["L"])((function(){return[Object(o["g"])("div",m,[Object(o["g"])(i,{icon:"block","is-on":0===e.mode,onClick:t[1]||(t[1]=function(t){return e.mode=0})},null,8,["is-on"]),Object(o["g"])(i,{icon:"arrow_forward","is-on":1===e.mode,onClick:t[2]||(t[2]=function(t){return e.mode=1})},null,8,["is-on"]),Object(o["g"])(i,{icon:"star_outline","is-on":2===e.mode,onClick:t[3]||(t[3]=function(t){return e.mode=2})},null,8,["is-on"])])]})),default:Object(o["L"])((function(){return[2===e.mode?(Object(o["r"])(),Object(o["d"])("div",v,[(Object(o["r"])(!0),Object(o["d"])(o["a"],null,Object(o["y"])(e.states,(function(t,n){return Object(o["r"])(),Object(o["d"])("button",{key:n,class:["col","select-"+e.transition.includes(n)],onClick:function(t){return e.toggle(n)}},[Object(o["g"])(u,{state:t},null,8,["state"])],10,["onClick"])})),128))])):Object(o["e"])("",!0)]})),_:1})}n("c975"),n("a434");var h=n("af66"),y=Object(o["h"])({name:"TransitionEditor",components:{EditorCard:l["a"],VState:h["a"]},props:{modelValue:{type:[Array,String],default:void 0},states:{type:Array,default:function(){return[]}}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,c=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),a=Object(o["b"])({get:function(){return c.value?"next"===c.value?1:2:0},set:function(e){return c.value=e?1===e?"next":[]:void 0}});function r(e){if(Array.isArray(c.value)){var t=c.value.indexOf(e);t<0?c.value.push(e):c.value.splice(t,1)}}return{transition:c,mode:a,toggle:r}}});y.render=g;var k=y,V={class:"col"};function C(e,t,n,c,a,r){var i=Object(o["A"])("ArrayControl"),u=Object(o["A"])("btn"),l=Object(o["A"])("EditorCard");return Object(o["r"])(),Object(o["d"])(l,{icon:"format_color_text",header:"texts"},{header:Object(o["L"])((function(){return[Object(o["g"])(i,{modelValue:e.texts,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.texts=t}),add:{}},null,8,["modelValue"])]})),default:Object(o["L"])((function(){return[Object(o["g"])("div",V,[(Object(o["r"])(!0),Object(o["d"])(o["a"],null,Object(o["y"])(e.texts,(function(t,n){return Object(o["r"])(),Object(o["d"])("div",{key:n,class:"row"},[Object(o["g"])(u,{icon:"palette",onClick:function(t){return e.toggle(n)}},null,8,["onClick"]),Object(o["g"])("div",{class:["row",e.highlights[n]]},[Object(o["M"])(Object(o["g"])("input",{"onUpdate:modelValue":function(e){return t.plain=e},type:"text",placeholder:"plain"},null,8,["onUpdate:modelValue"]),[[o["H"],t.plain]]),Object(o["M"])(Object(o["g"])("input",{"onUpdate:modelValue":function(e){return t.ipa=e},class:"text-ipa",type:"text",placeholder:"ipa"},null,8,["onUpdate:modelValue"]),[[o["H"],t.ipa]]),Object(o["M"])(Object(o["g"])("input",{"onUpdate:modelValue":function(e){return t.gloss=e},type:"text",placeholder:"gloss"},null,8,["onUpdate:modelValue"]),[[o["H"],t.gloss]])],2),Object(o["g"])(u,{icon:"clear",onClick:function(t){return e.texts.splice(n,1)}},null,8,["onClick"])])})),128))])]})),_:1})}var x=Object(o["h"])({name:"TextsEditor",components:{EditorCard:l["a"],ArrayControl:u["a"]},props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,c=Object(o["k"])("context",{}),a=Object(o["b"])((function(){return Object.keys(c.value)})),r=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),i=Object(o["b"])((function(){var e;return null===(e=r.value)||void 0===e?void 0:e.map((function(e){var t=e.highlight;return!0===t?"b":"colored-"+a.value.indexOf(null!==t&&void 0!==t?t:"")}))}));function u(e){var t=r.value[e];if(!0===t.highlight)t.highlight=a.value[0];else if(t.highlight){var n,o=a.value.indexOf(null!==(n=t.highlight)&&void 0!==n?n:"");t.highlight=a.value[o+1],t.highlight||delete t.highlight}else t.highlight=!0}return{texts:r,highlights:i,toggle:u}}});x.render=C;var w=x,A=n("7ec3"),S=Object(o["h"])({name:"BlockEditor",components:{ArrayControl:u["a"],EditorCard:l["a"],ConditionsEditor:p,TransitionEditor:k,VState:h["a"],TextsEditor:w},props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,c=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),a=Object(o["x"])(void 0);return{newState:A["e"],state:a,block:c}}});S.render=i;t["a"]=S},9392:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return u}));var o=n("7a23"),c={defaultFile:{},storage:"",filename:""},a=Object(o["x"])();function r(){a.value=JSON.parse(JSON.stringify(c.defaultFile))}function i(){localStorage[c.storage]=JSON.stringify(a.value)}function u(e){Object.assign(c,e);try{a.value=JSON.parse(localStorage[c.storage])}catch(t){r()}return Object(o["J"])(a,i,{deep:!0}),a}},a434:function(e,t,n){"use strict";var o=n("23e7"),c=n("23cb"),a=n("a691"),r=n("50c4"),i=n("7b0b"),u=n("65f0"),l=n("8418"),d=n("1dde"),s=n("ae40"),b=d("splice"),f=s("splice",{ACCESSORS:!0,0:0,1:2}),O=Math.max,j=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!b||!f},{splice:function(e,t){var n,o,d,s,b,f,v=i(this),g=r(v.length),h=c(e,g),y=arguments.length;if(0===y?n=o=0:1===y?(n=0,o=g-h):(n=y-2,o=j(O(a(t),0),g-h)),g+n-o>p)throw TypeError(m);for(d=u(v,o),s=0;s<o;s++)b=h+s,b in v&&l(d,s,v[b]);if(d.length=o,n<o){for(s=h;s<g-o;s++)b=s+o,f=s+n,b in v?v[f]=v[b]:delete v[f];for(s=g;s>g-o+n;s--)delete v[s-1]}else if(n>o)for(s=g-o;s>h;s--)b=s+o-1,f=s+n-1,b in v?v[f]=v[b]:delete v[f];for(s=0;s<n;s++)v[s+h]=arguments[s+2];return v.length=g-o+n,d}})},a83f:function(e,t,n){"use strict";n("b56e")},b56e:function(e,t,n){},b5cc:function(e,t,n){"use strict";var o=n("7a23"),c={class:"row"};function a(e,t,n,a,r,i){var u=Object(o["A"])("btn"),l=Object(o["A"])("ConfirmButton");return Object(o["r"])(),Object(o["d"])("div",c,[void 0!==e.add?(Object(o["r"])(),Object(o["d"])(u,{key:0,icon:"add",onClick:e.action.add},null,8,["onClick"])):Object(o["e"])("",!0),e.array&&e.item?(Object(o["r"])(),Object(o["d"])(o["a"],{key:1},[e.copy?(Object(o["r"])(),Object(o["d"])(u,{key:0,icon:"queue",onClick:e.action.copy},null,8,["onClick"])):Object(o["e"])("",!0),e.shift?(Object(o["r"])(),Object(o["d"])(u,{key:1,icon:"keyboard_arrow_right",onClick:t[1]||(t[1]=function(t){return e.action.shift(1)})})):e.shiftTwo?(Object(o["r"])(),Object(o["d"])(o["a"],{key:2},[Object(o["g"])(u,{icon:"keyboard_arrow_up",onClick:t[2]||(t[2]=function(t){return e.action.shift(-1)})}),Object(o["g"])(u,{icon:"keyboard_arrow_down",onClick:t[3]||(t[3]=function(t){return e.action.shift(1)})})],64)):Object(o["e"])("",!0),e.remove?(Object(o["r"])(),Object(o["d"])(l,{key:3,onConfirm:e.action.remove},null,8,["onConfirm"])):Object(o["e"])("",!0)],64)):Object(o["e"])("",!0)])}n("c975"),n("a434"),n("a9e3"),n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n("96cf");var i=n("1da1"),u=n("04d4"),l=Object(o["h"])({name:"ArrayControl",components:{ConfirmButton:u["a"]},props:{modelValue:{type:Array,default:function(){}},item:{type:Object,default:void 0},add:{type:[Number,String,Object,Function],default:void 0},copy:Boolean,shift:Boolean,shiftTwo:Boolean,remove:Boolean},emits:["update:modelValue","update:item"],setup:function(e,t){var n=t.emit,c=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}});function a(){n("update:item",c.value?c.value[c.value.length-1]:void 0)}function u(){return l.apply(this,arguments)}function l(){return l=Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.add,void 0!==!n){t.next=3;break}return t.abrupt("return");case 3:if(c.value){t.next=7;break}return c.value=[],t.next=7,Object(o["m"])();case 7:n="function"===typeof n?n():"object"===r(n)?JSON.parse(JSON.stringify(n)):n,c.value.push(n),a();case 10:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function d(){var t=JSON.parse(JSON.stringify(Object(o["D"])(e.item)));c.value.push(t),a()}function s(t){var n=c.value.length,a=e.item,r=c.value.indexOf(Object(o["D"])(a)),i=(r+t+n)%n;c.value.splice(r,1),c.value.splice(i,0,a)}function b(){var t=c.value.indexOf(Object(o["D"])(e.item));c.value.splice(t,1),a()}return Object(o["J"])(c,a,{immediate:!0}),{array:c,action:{add:u,copy:d,shift:s,remove:b}}}});l.render=a;t["a"]=l}}]);