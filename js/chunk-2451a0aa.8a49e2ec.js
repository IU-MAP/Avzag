(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2451a0aa"],{"04d4":function(t,e,n){"use strict";var c=n("7a23");function o(t,e,n,o,r,a){var i=Object(c["B"])("btn");return Object(c["t"])(),Object(c["d"])(i,{class:"highlight-font-alert",icon:t.icon,text:t.text,onClick:t.confirm},null,8,["icon","text","onClick"])}var r=Object(c["i"])({props:{message:{type:String,default:"Delete?"},icon:{type:String,default:"delete"},text:{type:String,default:""}},emits:["confirm"],setup:function(t,e){var n=e.emit;function c(){window.confirm(t.message)&&n("confirm")}return{confirm:c}}});r.render=o;e["a"]=r},"07ac":function(t,e,n){var c=n("23e7"),o=n("6f53").values;c({target:"Object",stat:!0},{values:function(t){return o(t)}})},"0a68":function(t,e,n){"use strict";n("3266")},1584:function(t,e,n){"use strict";n("759a")},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var c=n("6b75");function o(t){if(Array.isArray(t))return Object(c["a"])(t)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var a=n("06c5");function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return o(t)||r(t)||Object(a["a"])(t)||i()}},"293e":function(t,e,n){"use strict";n("8b20")},3266:function(t,e,n){},"3b5b":function(t,e,n){},"428a":function(t,e,n){"use strict";var c=n("7a23"),o={class:"row-1 wrap block-editor"};function r(t,e,n,r,a,i){var u=Object(c["B"])("ArrayControl"),l=Object(c["B"])("Context"),d=Object(c["B"])("btn"),s=Object(c["B"])("Block"),b=Object(c["B"])("EditorCard");return t.mphrase?(Object(c["t"])(),Object(c["d"])(b,{key:0,icon:"widgets",header:"Blocks"},{header:Object(c["L"])((function(){return[Object(c["h"])(u,{modelValue:t.blocks,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.blocks=e}),item:t.block,"onUpdate:item":e[2]||(e[2]=function(e){return t.block=e}),add:function(){return[t.newState()]},copy:"",shift:"",remove:""},null,8,["modelValue","item","add"])]})),default:Object(c["L"])((function(){return[t.phrase.id?(Object(c["t"])(),Object(c["d"])(l,{key:0})):(Object(c["t"])(),Object(c["d"])(l,{key:1,blocks:t.vblocks,translation:t.phrase.context},null,8,["blocks","translation"])),Object(c["h"])("div",o,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.blocks,(function(e,n){return Object(c["t"])(),Object(c["d"])("div",{key:n+"--"+Math.random(),class:"row"},[Object(c["h"])(d,{icon:"edit","is-on":t.block===e,onClick:function(n){return t.block=e}},null,8,["is-on","onClick"]),Object(c["h"])(s,{ref:function(e){return e?t.vblocks.push(e):null},block:e},null,8,["block"])])})),128))])]})),_:1})):Object(c["e"])("",!0)}var a=n("b5cc"),i=n("7694"),u=n("5794"),l=n("72e9"),d=n("7ec3"),s=Object(c["i"])({name:"OrderEditor",components:{ArrayControl:a["a"],EditorCard:i["a"],Context:u["a"],Block:l["a"]},props:{modelValue:{type:Array,default:void 0},phrase:{type:Object,default:void 0}},emits:["update:modelValue","update:phrase"],setup:function(t,e){var n=e.emit,o=Object(c["b"])({get:function(){return t.phrase},set:function(t){return n("update:modelValue",t)}}),r=Object(c["b"])({get:function(){return o.value.blocks},set:function(t){return o.value.blocks=t}}),a=Object(c["b"])({get:function(){return t.modelValue},set:function(t){return n("update:modelValue",t)}}),i=Object(c["y"])([]);return Object(c["p"])((function(){return i.value=[]})),{mphrase:o,blocks:r,vblocks:i,block:a,newState:d["e"]}}});s.render=r;e["a"]=s},"45fc":function(t,e,n){"use strict";var c=n("23e7"),o=n("b727").some,r=n("a640"),a=n("ae40"),i=r("some"),u=a("some");c({target:"Array",proto:!0,forced:!i||!u},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"4d5a":function(t,e,n){"use strict";n("5917")},5794:function(t,e,n){"use strict";var c=n("7a23"),o=Object(c["N"])("data-v-caacf090");Object(c["w"])("data-v-caacf090");var r={class:"row text-caption wrap"},a=Object(c["h"])("div",{class:"icon"},"info",-1),i=Object(c["g"])("…");Object(c["u"])();var u=o((function(t,e,n,o,u,l){return Object(c["t"])(),Object(c["d"])("div",r,[a,t.any?(Object(c["t"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["z"])(t.translated,(function(t,e){return Object(c["t"])(),Object(c["d"])(c["a"],{key:e},[t.length?(Object(c["t"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["z"])(t,(function(t){return Object(c["t"])(),Object(c["d"])("p",{key:t+"--"+e,class:"colored-dot-"+e},Object(c["D"])(t),3)})),128)):Object(c["e"])("",!0)],64)})),128)):(Object(c["t"])(),Object(c["d"])(c["a"],{key:1},[i],64))])})),l=(n("4de4"),n("4160"),n("d81d"),n("45fc"),n("4fad"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0"),n("2909")),d=n("3835"),s=n("b85c"),b=Object(c["i"])({name:"Context",props:{translation:{type:Object,default:function(){return{}}},blocks:{type:Array,default:function(){return[]}}},setup:function(t){var e=Object(c["l"])("context",{}),n=Object(c["b"])((function(){var e,n={},c=Object(s["a"])(t.blocks);try{for(c.s();!(e=c.n()).done;){var o=e.value.state,r=null===o||void 0===o?void 0:o.conditions;r&&Object.entries(r).forEach((function(t){var e=Object(d["a"])(t,2),c=e[0],o=e[1];return Object.entries(o).forEach((function(t){var e=Object(d["a"])(t,1),o=e[0];n[c]||(n[c]=new Set),n[c].add(o)}))}))}}catch(a){c.e(a)}finally{c.f()}return n}));function o(t,e){return(null===t||void 0===t?void 0:t[e])||e}var r=Object(c["b"])((function(){return Object.entries(e.value).map((function(e){var c=Object(d["a"])(e,2),r=c[0],a=c[1];return Object(l["a"])(a).filter((function(t){var e;return!(null!==(e=n.value[r])&&void 0!==e&&e.has(t))})).map((function(e){var n;return o(null===(n=t.translation)||void 0===n?void 0:n[r],e)}))}))})),a=Object(c["b"])((function(){return r.value.some((function(t){return null===t||void 0===t?void 0:t.length}))}));return{translated:r,any:a}}});n("4d5a");b.render=u,b.__scopeId="data-v-caacf090";e["a"]=b},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var c=n("1d80"),o=n("5899"),r="["+o+"]",a=RegExp("^"+r+r+"*"),i=RegExp(r+r+"*$"),u=function(t){return function(e){var n=String(c(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(i,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},5917:function(t,e,n){},"5db7":function(t,e,n){"use strict";var c=n("23e7"),o=n("a2bf"),r=n("7b0b"),a=n("50c4"),i=n("1c0b"),u=n("65f0");c({target:"Array",proto:!0},{flatMap:function(t){var e,n=r(this),c=a(n.length);return i(t),e=u(n,0),e.length=o(e,n,n,c,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},"72e9":function(t,e,n){"use strict";var c=n("7a23"),o=Object(c["N"])("data-v-354bd589"),r=o((function(t,e,n,o,r,a){var i=Object(c["B"])("VState");return t.state?Object(c["M"])((Object(c["t"])(),Object(c["d"])("button",{key:0,class:["small",{disabled:t.disabled,glossed:t.glossed}],onClick:e[2]||(e[2]=function(){return t.move&&t.move.apply(t,arguments)})},[Object(c["h"])(i,{glossed:t.glossed,state:t.state,onText:e[1]||(e[1]=function(e){return t.text=e})},null,8,["glossed","state"])],2)),[[c["I"],t.text]]):Object(c["e"])("",!0)})),a=(n("c975"),n("af66")),i=n("7ec3"),u=Object(c["i"])({name:"Block",components:{VState:a["a"]},props:{block:{type:Array,default:void 0},glossed:Boolean},emits:["update:modelValue"],setup:function(t){var e=Object(c["y"])(),n=Object(c["b"])((function(){var t;return!(null!==(t=e.value)&&void 0!==t&&t.transition)})),o=Object(c["y"])(""),r=Object(c["l"])("context",{});function a(t){var n;Object(c["E"])(t)!==Object(c["E"])(e.value)&&(Object(i["a"])(r,null===(n=e.value)||void 0===n?void 0:n.conditions,!1),Object(i["a"])(r,null===t||void 0===t?void 0:t.conditions,!0),e.value=t)}function u(){var o,u;if(!n.value){var l,d=null===(o=e.value)||void 0===o?void 0:o.transition,s=t.block;if("next"===d){var b=e.value?s.indexOf(Object(c["E"])(e.value)):-1;l=s[(b+1)%s.length]}else d&&(l=Object(i["d"])(d,s,r.value));a(l),Object(i["b"])(null===(u=l)||void 0===u?void 0:u.conditions,r.value)[0]<0&&(e.value=void 0)}}return Object(c["J"])(r,(function(e){var n=Object(i["d"])(void 0,t.block,e);a(n)}),{immediate:!0,deep:!0}),{move:u,state:e,disabled:n,text:o}}});n("92f8");u.render=r,u.__scopeId="data-v-354bd589";e["a"]=u},"73d9":function(t,e,n){var c=n("44d2");c("flatMap")},"759a":function(t,e,n){},7694:function(t,e,n){"use strict";var c=n("7a23"),o=Object(c["N"])("data-v-4097eb6a");Object(c["w"])("data-v-4097eb6a");var r={class:"col"},a={class:"row card-0"},i={class:"icon"},u={class:"flex"},l={key:0,class:"text-caption text-faded"},d={class:"col"};Object(c["u"])();var s=o((function(t,e,n,o,s,b){return Object(c["t"])(),Object(c["d"])("div",r,[Object(c["h"])("div",a,[Object(c["h"])("p",i,Object(c["D"])(t.icon),1),Object(c["h"])("h2",u,Object(c["D"])(t.header),1),Object(c["A"])(t.$slots,"header")]),t.caption?(Object(c["t"])(),Object(c["d"])("p",l,[Object(c["A"])(t.$slots,"caption")])):Object(c["e"])("",!0),Object(c["h"])("div",d,[Object(c["A"])(t.$slots,"default")])])})),b=Object(c["i"])({name:"EditorCard",props:{button:{type:String,default:"add"},icon:{type:String,default:""},header:{type:String,default:""}},emits:["action"],setup:function(t,e){var n=e.emit,c=e.slots;return{emit:n,caption:c.caption}}});n("0a68");b.render=s,b.__scopeId="data-v-4097eb6a";e["a"]=b},"7ec3":function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return u}));n("4160"),n("d81d"),n("4fad"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0");var c=n("3835");function o(){return{texts:[{plain:"new state"}],transition:"next",conditions:{}}}function r(t,e){e&&(t.value={},e.forEach((function(e){var n=e.entity;return t.value[n]=new Set})))}function a(t,e){if(!t)return[1,0];for(var n=0,o=0,r=0,a=Object.entries(t);r<a.length;r++)for(var i=Object(c["a"])(a[r],2),u=i[0],l=i[1],d=0,s=Object.entries(l);d<s.length;d++){var b,f=Object(c["a"])(s[d],2),O=f[0],j=f[1],v=null===(b=e[u])||void 0===b?void 0:b.has(O);if(!j&&!v)return[-1,0];v&&(n+=1),o+=1}return[n/(o||1),o]}function i(t,e,n){var o,r,i=-1,u=0,l=null!==(o=null===t||void 0===t?void 0:t.map((function(t){return e[t]})))&&void 0!==o?o:e;return l.forEach((function(t){var e=a(t.conditions,n),o=Object(c["a"])(e,2),l=o[0],d=o[1];(1===i?1===l&&d>u:l>i)&&(r=t,i=l,u=d)})),r}function u(t,e,n){e&&t.value&&Object.entries(e).forEach((function(e){var o=Object(c["a"])(e,2),r=o[0],a=o[1];return Object.entries(a).forEach((function(e){var o=Object(c["a"])(e,2),a=o[0],i=o[1],u=t.value[r];i&&u&&(n?u.add(a):u.delete(a))}))}))}},"8b20":function(t,e,n){},"92f8":function(t,e,n){"use strict";n("3b5b")},9362:function(t,e,n){"use strict";var c=n("7a23"),o={key:0,class:"block col-2"},r={class:"row-1 wrap block-editor"};function a(t,e,n,a,i,u){var l=Object(c["B"])("toggle"),d=Object(c["B"])("ArrayControl"),s=Object(c["B"])("btn"),b=Object(c["B"])("VState"),f=Object(c["B"])("EditorCard"),O=Object(c["B"])("TextsEditor"),j=Object(c["B"])("ConditionsEditor"),v=Object(c["B"])("TransitionEditor");return t.block?(Object(c["t"])(),Object(c["d"])("div",o,[Object(c["h"])(f,{icon:"account_tree",header:"States"},{header:Object(c["L"])((function(){return[Object(c["h"])(l,{modelValue:t.glossed,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.glossed=e}),icon:"layers"},null,8,["modelValue"]),Object(c["h"])(d,{modelValue:t.block,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.block=e}),item:t.state,"onUpdate:item":e[3]||(e[3]=function(e){return t.state=e}),add:t.newState,copy:"",shift:"",remove:""},null,8,["modelValue","item","add"])]})),default:Object(c["L"])((function(){return[Object(c["h"])("div",r,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.block,(function(e,n){return Object(c["t"])(),Object(c["d"])("div",{key:n,class:"row"},[Object(c["h"])(s,{icon:"edit","is-on":t.state===e,onClick:function(n){return t.state=e}},null,8,["is-on","onClick"]),Object(c["h"])(b,{state:e,glossed:t.glossed},null,8,["state","glossed"])])})),128))])]})),_:1}),t.state?(Object(c["t"])(),Object(c["d"])(c["a"],{key:0},[Object(c["h"])(O,{modelValue:t.state.texts,"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.state.texts=e})},null,8,["modelValue"]),Object(c["h"])(j,{modelValue:t.state.conditions,"onUpdate:modelValue":e[5]||(e[5]=function(e){return t.state.conditions=e})},null,8,["modelValue"]),Object(c["h"])(v,{modelValue:t.state.transition,"onUpdate:modelValue":e[6]||(e[6]=function(e){return t.state.transition=e}),states:t.block},null,8,["modelValue","states"])],64)):Object(c["e"])("",!0)])):Object(c["e"])("",!0)}var i=n("b5cc"),u=n("7694"),l=Object(c["N"])("data-v-1f417055");Object(c["w"])("data-v-1f417055");var d=Object(c["g"])("TODO brief explanation"),s={class:"row-1 block-editor wrap"};Object(c["u"])();var b=l((function(t,e,n,o,r,a){var i=Object(c["B"])("btn"),u=Object(c["B"])("EditorCard");return Object(c["t"])(),Object(c["d"])(u,{icon:"tune",header:"conditions"},Object(c["f"])({caption:l((function(){return[d]})),default:l((function(){return[Object(c["h"])("div",s,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.tags,(function(e,n){var o=e.entity,r=e.tag,a=e.color,u=e.icon;return Object(c["t"])(),Object(c["d"])(i,{key:o+"--"+r,class:a,icon:u,text:r,onClick:function(e){return t.toggle(n)}},null,8,["class","icon","text","onClick"])})),128))])]})),_:2},[t.conditions?{name:"header",fn:l((function(){return[Object(c["h"])(i,{icon:"clear",onClick:e[1]||(e[1]=function(e){return t.conditions={}})})]}))}:void 0]),1024)})),f=(n("5db7"),n("d81d"),n("73d9"),n("b64b"),n("3835")),O=Object(c["i"])({name:"ConditionsEditor",components:{EditorCard:u["a"]},props:{modelValue:{type:Object,default:void 0}},emits:["update:modelValue"],setup:function(t,e){var n=e.emit,o=Object(c["l"])("contextSource",{}),r=Object(c["b"])({get:function(){return t.modelValue},set:function(t){return n("update:modelValue",t)}}),a=Object(c["y"])([]);function i(t){if(a.value){var e=a.value[t],n=e.flag,c=e.entity,o=e.tag;void 0===n?(r.value[c]||(r.value[c]={}),r.value[c][o]=!0):n?r.value[c][o]=!1:(delete r.value[c][o],Object.keys(r.value[c]).length||delete r.value[c])}}return Object(c["J"])([o,r],(function(t){var e=Object(f["a"])(t,2),n=e[0],c=e[1];n&&c&&(a.value=n.flatMap((function(t,e){var n=t.entity,o=t.tags;return o.map((function(t){var o,r=null===(o=c[n])||void 0===o?void 0:o[t],a=void 0===r?"arrow_right":r?"send":"lock";return{tag:t,entity:n,icon:a,color:"colored-dot-"+e,flag:r}}))})))}),{immediate:!0,deep:!0}),{context:o,conditions:r,tags:a,toggle:i}}});n("1584");O.render=b,O.__scopeId="data-v-1f417055";var j=O,v=(n("caad"),n("2532"),{class:"row"}),p={key:0,class:"row-1 wrap block-editor"};function m(t,e,n,o,r,a){var i=Object(c["B"])("btn"),u=Object(c["B"])("VState"),l=Object(c["B"])("EditorCard");return Object(c["t"])(),Object(c["d"])(l,{icon:"alt_route",header:"transition"},{header:Object(c["L"])((function(){return[Object(c["h"])("div",v,[Object(c["h"])(i,{icon:"block","is-on":0===t.mode,onClick:e[1]||(e[1]=function(e){return t.mode=0})},null,8,["is-on"]),Object(c["h"])(i,{icon:"arrow_forward","is-on":1===t.mode,onClick:e[2]||(e[2]=function(e){return t.mode=1})},null,8,["is-on"]),Object(c["h"])(i,{icon:"star_outline","is-on":2===t.mode,onClick:e[3]||(e[3]=function(e){return t.mode=2})},null,8,["is-on"])])]})),default:Object(c["L"])((function(){return[2===t.mode?(Object(c["t"])(),Object(c["d"])("div",p,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.states,(function(e,n){return Object(c["t"])(),Object(c["d"])("div",{key:n,class:"row"},[Object(c["h"])(i,{icon:"check","is-on":t.transition.includes(n),onClick:function(e){return t.toggle(n)}},null,8,["is-on","onClick"]),Object(c["h"])(u,{state:e},null,8,["state"])])})),128))])):Object(c["e"])("",!0)]})),_:1})}n("c975"),n("a434");var y=n("af66"),h=Object(c["i"])({name:"TransitionEditor",components:{EditorCard:u["a"],VState:y["a"]},props:{modelValue:{type:[Array,String],default:void 0},states:{type:Array,default:function(){return[]}}},emits:["update:modelValue"],setup:function(t,e){var n=e.emit,o=Object(c["b"])({get:function(){return t.modelValue},set:function(t){return n("update:modelValue",t)}}),r=Object(c["b"])({get:function(){return o.value?"next"===o.value?1:2:0},set:function(t){return o.value=t?1===t?"next":[]:void 0}});function a(t){if(Array.isArray(o.value)){var e=o.value.indexOf(t);e<0?o.value.push(t):o.value.splice(e,1)}}return{transition:o,mode:r,toggle:a}}});h.render=m;var g=h,k={class:"col"};function x(t,e,n,o,r,a){var i=Object(c["B"])("ArrayControl"),u=Object(c["B"])("btn"),l=Object(c["B"])("EditorCard");return Object(c["t"])(),Object(c["d"])(l,{icon:"format_color_text",header:"texts"},{header:Object(c["L"])((function(){return[Object(c["h"])(i,{modelValue:t.texts,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.texts=e}),add:{}},null,8,["modelValue"])]})),default:Object(c["L"])((function(){return[Object(c["h"])("div",k,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.texts,(function(e,n){return Object(c["t"])(),Object(c["d"])("div",{key:n,class:"row"},[Object(c["h"])(u,{icon:"palette",onClick:function(e){return t.toggle(n)}},null,8,["onClick"]),Object(c["h"])("div",{class:["row",t.colors[n]]},[Object(c["M"])(Object(c["h"])("input",{"onUpdate:modelValue":function(t){return e.plain=t},type:"text",placeholder:"plain"},null,8,["onUpdate:modelValue"]),[[c["H"],e.plain]]),Object(c["M"])(Object(c["h"])("input",{"onUpdate:modelValue":function(t){return e.ipa=t},class:"text-ipa",type:"text",placeholder:"ipa"},null,8,["onUpdate:modelValue"]),[[c["H"],e.ipa]]),Object(c["M"])(Object(c["h"])("input",{"onUpdate:modelValue":function(t){return e.gloss=t},type:"text",placeholder:"gloss"},null,8,["onUpdate:modelValue"]),[[c["H"],e.gloss]])],2),Object(c["h"])(u,{icon:"clear",onClick:function(e){return t.texts.splice(n,1)}},null,8,["onClick"])])})),128))])]})),_:1})}var C=Object(c["i"])({name:"TextsEditor",components:{EditorCard:u["a"],ArrayControl:i["a"]},props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup:function(t,e){var n=e.emit,o=Object(c["l"])("context",{}),r=Object(c["b"])((function(){return Object.keys(o.value)})),a=Object(c["b"])({get:function(){return t.modelValue},set:function(t){return n("update:modelValue",t)}}),i=Object(c["b"])((function(){var t;return null===(t=a.value)||void 0===t?void 0:t.map((function(t){var e=t.entity;return r.value.indexOf(null!==e&&void 0!==e?e:"")})).map((function(t){return"colored-"+t}))}));function u(t){var e,n=a.value[t],c=r.value.indexOf(null!==(e=n.entity)&&void 0!==e?e:"");n.entity=r.value[c+1]}return{texts:a,colors:i,toggle:u}}});C.render=x;var V=C,w=n("7ec3"),E=Object(c["i"])({name:"BlockEditor",components:{ArrayControl:i["a"],EditorCard:u["a"],ConditionsEditor:j,TransitionEditor:g,VState:y["a"],TextsEditor:V},props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup:function(t,e){var n=e.emit,o=Object(c["b"])({get:function(){return t.modelValue},set:function(t){return n("update:modelValue",t)}}),r=Object(c["y"])(void 0),a=Object(c["y"])(!1);return Object(c["J"])(o,(function(t){return r.value=null===t||void 0===t?void 0:t[t.length-1]}),{immediate:!0}),{newState:w["e"],glossed:a,state:r,block:o}}});E.render=a;e["a"]=E},9392:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return u}));var c=n("7a23"),o={defaultFile:{},storage:"",filename:""},r=Object(c["y"])();function a(){r.value=JSON.parse(JSON.stringify(o.defaultFile))}function i(){localStorage[o.storage]=JSON.stringify(r.value)}function u(t){Object.assign(o,t);try{r.value=JSON.parse(localStorage[o.storage])}catch(e){a()}return Object(c["J"])(r,i,{deep:!0}),r}},a15b:function(t,e,n){"use strict";var c=n("23e7"),o=n("44ad"),r=n("fc6a"),a=n("a640"),i=[].join,u=o!=Object,l=a("join",",");c({target:"Array",proto:!0,forced:u||!l},{join:function(t){return i.call(r(this),void 0===t?",":t)}})},a2bf:function(t,e,n){"use strict";var c=n("e8b5"),o=n("50c4"),r=n("0366"),a=function(t,e,n,i,u,l,d,s){var b,f=u,O=0,j=!!d&&r(d,s,3);while(O<i){if(O in n){if(b=j?j(n[O],O,e):n[O],l>0&&c(b))f=a(t,e,b,o(b.length),f,l-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[f]=b}f++}O++}return f};t.exports=a},a434:function(t,e,n){"use strict";var c=n("23e7"),o=n("23cb"),r=n("a691"),a=n("50c4"),i=n("7b0b"),u=n("65f0"),l=n("8418"),d=n("1dde"),s=n("ae40"),b=d("splice"),f=s("splice",{ACCESSORS:!0,0:0,1:2}),O=Math.max,j=Math.min,v=9007199254740991,p="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!b||!f},{splice:function(t,e){var n,c,d,s,b,f,m=i(this),y=a(m.length),h=o(t,y),g=arguments.length;if(0===g?n=c=0:1===g?(n=0,c=y-h):(n=g-2,c=j(O(r(e),0),y-h)),y+n-c>v)throw TypeError(p);for(d=u(m,c),s=0;s<c;s++)b=h+s,b in m&&l(d,s,m[b]);if(d.length=c,n<c){for(s=h;s<y-c;s++)b=s+c,f=s+n,b in m?m[f]=m[b]:delete m[f];for(s=y;s>y-c+n;s--)delete m[s-1]}else if(n>c)for(s=y-c;s>h;s--)b=s+c-1,f=s+n-1,b in m?m[f]=m[b]:delete m[f];for(s=0;s<n;s++)m[s+h]=arguments[s+2];return m.length=y-c+n,d}})},a9e3:function(t,e,n){"use strict";var c=n("83ab"),o=n("da84"),r=n("94ca"),a=n("6eeb"),i=n("5135"),u=n("c6b6"),l=n("7156"),d=n("c04e"),s=n("d039"),b=n("7c73"),f=n("241c").f,O=n("06cf").f,j=n("9bf2").f,v=n("58a8").trim,p="Number",m=o[p],y=m.prototype,h=u(b(y))==p,g=function(t){var e,n,c,o,r,a,i,u,l=d(t,!1);if("string"==typeof l&&l.length>2)if(l=v(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:c=2,o=49;break;case 79:case 111:c=8,o=55;break;default:return+l}for(r=l.slice(2),a=r.length,i=0;i<a;i++)if(u=r.charCodeAt(i),u<48||u>o)return NaN;return parseInt(r,c)}return+l};if(r(p,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var k,x=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof x&&(h?s((function(){y.valueOf.call(n)})):u(n)!=p)?l(new m(g(e)),n,x):g(e)},C=c?f(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),V=0;C.length>V;V++)i(m,k=C[V])&&!i(x,k)&&j(x,k,O(m,k));x.prototype=y,y.constructor=x,a(o,p,x)}},af66:function(t,e,n){"use strict";var c=n("7a23"),o=Object(c["N"])("data-v-661aca89");Object(c["w"])("data-v-661aca89");var r={class:"segments"},a={class:"row dashes"};Object(c["u"])();var i=o((function(t,e,n,o,i,u){return Object(c["t"])(),Object(c["d"])("div",{class:["display row",{glossed:t.canGloss}]},[Object(c["h"])("div",r,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.types,(function(e,n){return Object(c["t"])(),Object(c["d"])("p",{key:e,class:"text-"+e},[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.texts[n],(function(e,n){return Object(c["t"])(),Object(c["d"])("span",{key:n,class:t.textColors[n]},Object(c["D"])(e),3)})),128))],2)})),128))]),Object(c["h"])("div",a,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.dashColors,(function(t,e){return Object(c["t"])(),Object(c["d"])("p",{key:e,class:t},null,2)})),128))])],2)})),u=(n("4de4"),n("c975"),n("a15b"),n("d81d"),n("45fc"),n("4fad"),n("b64b"),n("07ac"),n("3835")),l=Object(c["i"])({name:"State",props:{state:{type:Object,default:function(){return{}}},glossed:{type:Boolean,default:!1}},emits:["text"],setup:function(t,e){var n=e.emit,o=Object(c["l"])("context",{}),r=Object(c["b"])((function(){return Object.keys(o.value)})),a=Object(c["b"])((function(){return t.glossed&&t.state.texts.some((function(t){var e=t.ipa,n=t.gloss;return e||n}))})),i=Object(c["b"])((function(){return a.value?["ipa","gloss"]:["plain"]})),l=Object(c["b"])((function(){return i.value.map((function(e){var n;return null===(n=t.state.texts)||void 0===n?void 0:n.map((function(t){return t[e]}))}))}));Object(c["J"])(l,(function(t){if(t){var e=t.map((function(t){return null===t||void 0===t?void 0:t.join("")})),c=1===e.length?e[0]:e.join("\n");n("text",c)}}),{immediate:!0,deep:!0});var d=Object(c["b"])((function(){return t.state.texts.map((function(t){var e=t.entity;return null!==e&&void 0!==e?e:""})).map((function(t){return r.value.indexOf(t)})).map((function(t){return"colored-"+t}))})),s=Object(c["b"])((function(){return t.state.transition&&t.state.conditions?Object.entries(t.state.conditions).filter((function(t){var e=Object(u["a"])(t,2),n=e[1];return Object.values(n).some((function(t){return t}))})).map((function(t){var e=Object(u["a"])(t,1),n=e[0];return r.value.indexOf(n)})).map((function(t){return"colored-back-"+t})):[]}));return{types:i,texts:l,canGloss:a,textColors:d,dashColors:s}}});n("293e");l.render=i,l.__scopeId="data-v-661aca89";e["a"]=l},b5cc:function(t,e,n){"use strict";var c=n("7a23"),o={class:"row"},r={key:1,class:"row-0"};function a(t,e,n,a,i,u){var l=Object(c["B"])("btn"),d=Object(c["B"])("ConfirmButton");return Object(c["t"])(),Object(c["d"])("div",o,[void 0!==t.add?(Object(c["t"])(),Object(c["d"])(l,{key:0,icon:"add",onClick:t.action.add},null,8,["onClick"])):Object(c["e"])("",!0),t.array&&t.item?(Object(c["t"])(),Object(c["d"])(c["a"],{key:1},[t.copy?(Object(c["t"])(),Object(c["d"])(l,{key:0,icon:"queue",onClick:t.action.copy},null,8,["onClick"])):Object(c["e"])("",!0),t.shift?(Object(c["t"])(),Object(c["d"])("div",r,[Object(c["h"])(l,{icon:"keyboard_arrow_up",onClick:e[1]||(e[1]=function(e){return t.action.shift(-1)})}),Object(c["h"])(l,{icon:"keyboard_arrow_down",onClick:e[2]||(e[2]=function(e){return t.action.shift(1)})})])):Object(c["e"])("",!0),t.remove?(Object(c["t"])(),Object(c["d"])(d,{key:2,onConfirm:t.action.remove},null,8,["onConfirm"])):Object(c["e"])("",!0)],64)):Object(c["e"])("",!0)])}n("c975"),n("a434"),n("a9e3"),n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}n("96cf");var u=n("1da1"),l=n("04d4"),d=Object(c["i"])({name:"ArrayControl",components:{ConfirmButton:l["a"]},props:{modelValue:{type:Array,default:function(){}},item:{type:Object,default:void 0},add:{type:[Number,String,Object,Function],default:void 0},copy:Boolean,shift:Boolean,remove:Boolean},emits:["update:modelValue","update:item"],setup:function(t,e){var n=e.emit,o=Object(c["b"])({get:function(){return t.modelValue},set:function(t){return n("update:modelValue",t)}});function r(){n("update:item",o.value[o.value.length-1])}function a(){return l.apply(this,arguments)}function l(){return l=Object(u["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.add,void 0!==!n){e.next=3;break}return e.abrupt("return");case 3:if(o.value){e.next=7;break}return o.value=[],e.next=7,Object(c["n"])();case 7:n="function"===typeof n?n():"object"===i(n)?JSON.parse(JSON.stringify(n)):n,o.value.push(n),r();case 10:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function d(){var e=JSON.parse(JSON.stringify(Object(c["E"])(t.item)));o.value.push(e),r()}function s(e){var n=o.value.length,r=t.item,a=o.value.indexOf(Object(c["E"])(r)),i=(a+e+n)%n;o.value.splice(a,1),o.value.splice(i,0,r)}function b(){var e=o.value.indexOf(Object(c["E"])(t.item));o.value.splice(e,1),r()}return Object(c["J"])(o,(function(t){t&&r()}),{immediate:!0}),{array:o,action:{add:a,copy:d,shift:s,remove:b}}}});d.render=a;e["a"]=d},b64b:function(t,e,n){var c=n("23e7"),o=n("7b0b"),r=n("df75"),a=n("d039"),i=a((function(){r(1)}));c({target:"Object",stat:!0,forced:i},{keys:function(t){return r(o(t))}})},c975:function(t,e,n){"use strict";var c=n("23e7"),o=n("4d64").indexOf,r=n("a640"),a=n("ae40"),i=[].indexOf,u=!!i&&1/[1].indexOf(1,-0)<0,l=r("indexOf"),d=a("indexOf",{ACCESSORS:!0,1:0});c({target:"Array",proto:!0,forced:u||!l||!d},{indexOf:function(t){return u?i.apply(this,arguments)||0:o(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-2451a0aa.8a49e2ec.js.map