{"version":3,"sources":["webpack:///./src/Phrasebook/PhraseCard.vue","webpack:///./src/Phrasebook/PhraseCard.vue?0f23","webpack:///./src/Phrasebook/PhraseCard.vue?dc76","webpack:///./src/Phrasebook/index.vue","webpack:///./src/Phrasebook/main.ts","webpack:///./src/Phrasebook/index.vue?dcc3","webpack:///./src/Phrasebook/index.vue?b05c","webpack:///./src/Phrasebook/PhraseCard.vue?680c","webpack:///./src/components/Notes/index.vue","webpack:///./src/components/Notes/index.vue?4c77","webpack:///./src/components/Notes/index.vue?7695","webpack:///./src/Phrasebook/index.vue?00bf"],"names":["class","style","phrase","editor","lect","icon","copy","glossed","translation","contextTranslation","blocks","b","i","ref","el","push","key","block","notes","components","Context","Block","Notes","props","type","String","default","Object","undefined","Boolean","setup","context","text","filter","visible","map","display","join","navigator","clipboard","writeText","value","render","__scopeId","corpus","searching","query","placeholder","section","select","s","id","name","phrases","ps","p","is-on","phrasebooks","n","initialize","PhraseCard","immediate","reduce","result","index","includes","length","_section","_phrase","pieces","j","Array","isWrapped","start","end","toPiece","patterns","slice","separator","split"],"mappings":"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","file":"js/chunk-d0048418.1fa8e69c.js","sourcesContent":["<template>\n  <div v-if=\"phrase\" class=\"col-1\" :class=\"{ card: !editor }\">\n    <div class=\"row-1 small wrap\" style=\"width: 100%\">\n      <template v-if=\"lect\">\n        <btn icon=\"content_copy\" @click=\"copy\" />\n        <toggle v-model=\"glossed\" icon=\"layers\" />\n        <h2 class=\"flex\">{{ lect }}</h2>\n      </template>\n      <Context\n        :translation=\"contextTranslation\"\n        :blocks=\"editor ? [] : blocks\"\n      />\n    </div>\n    <div class=\"row wrap flex\">\n      <Block\n        v-for=\"(b, i) in phrase.blocks\"\n        :ref=\"(el) => blocks.push(el)\"\n        :key=\"i\"\n        :glossed=\"glossed\"\n        :block=\"b\"\n      />\n    </div>\n    <Notes class=\"text-caption\" :notes=\"phrase.notes\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Context from \"./Context/index.vue\";\nimport Block from \"./Block/index.vue\";\nimport Notes from \"@/components/Notes/index.vue\";\n\nimport { computed, defineComponent, PropType, reactive, ref } from \"vue\";\n\nimport { Phrase, BlockVue } from \"./types\";\n\nexport default defineComponent({\n  components: { Context, Block, Notes },\n  props: {\n    lect: { type: String, default: \"\" },\n    phrase: { type: Object as PropType<Phrase>, default: undefined },\n    editor: Boolean,\n  },\n  setup(props) {\n    const glossed = ref(false);\n    const contextTranslation = computed(() =>\n      props.lect ? props.phrase.context : undefined\n    );\n\n    const blocks = reactive([] as BlockVue[]);\n    const text = computed(() =>\n      blocks\n        .filter((b) => b?.visible)\n        .map((b) => b.display.text)\n        .join(\" \")\n    );\n    function copy() {\n      navigator.clipboard.writeText(text.value);\n    }\n\n    return { glossed, blocks, copy, contextTranslation };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.card {\n  align-items: flex-start;\n}\n</style>\n","\nimport Context from \"./Context/index.vue\";\nimport Block from \"./Block/index.vue\";\nimport Notes from \"@/components/Notes/index.vue\";\n\nimport { computed, defineComponent, PropType, reactive, ref } from \"vue\";\n\nimport { Phrase, BlockVue } from \"./types\";\n\nexport default defineComponent({\n  components: { Context, Block, Notes },\n  props: {\n    lect: { type: String, default: \"\" },\n    phrase: { type: Object as PropType<Phrase>, default: undefined },\n    editor: Boolean,\n  },\n  setup(props) {\n    const glossed = ref(false);\n    const contextTranslation = computed(() =>\n      props.lect ? props.phrase.context : undefined\n    );\n\n    const blocks = reactive([] as BlockVue[]);\n    const text = computed(() =>\n      blocks\n        .filter((b) => b?.visible)\n        .map((b) => b.display.text)\n        .join(\" \")\n    );\n    function copy() {\n      navigator.clipboard.writeText(text.value);\n    }\n\n    return { glossed, blocks, copy, contextTranslation };\n  },\n});\n","import { render } from \"./PhraseCard.vue?vue&type=template&id=111069ae&scoped=true\"\nimport script from \"./PhraseCard.vue?vue&type=script&lang=ts\"\nexport * from \"./PhraseCard.vue?vue&type=script&lang=ts\"\n\nimport \"./PhraseCard.vue?vue&type=style&index=0&id=111069ae&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-111069ae\"\n\nexport default script","<template>\n  <div v-if=\"corpus\" class=\"section col-1\">\n    <div class=\"col-1\">\n      <div class=\"row-1\">\n        <toggle v-model=\"searching\" icon=\"search\" />\n        <input\n          v-if=\"searching\"\n          v-model=\"query\"\n          class=\"flex\"\n          type=\"text\"\n          placeholder=\"Search all phrases...\"\n        />\n        <h2 v-else class=\"col-1 flex\">\n          <select\n            v-model=\"section\"\n            style=\"flex: none\"\n            @change=\"select(section)\"\n          >\n            <option v-for=\"s in corpus\" :key=\"s.id\" :value=\"s\">\n              {{ s.name }}\n            </option>\n          </select>\n        </h2>\n      </div>\n      <div class=\"scroll\">\n        <div v-if=\"searching\" class=\"col\">\n          <div v-for=\"(ps, s) of phrases\" :key=\"s\" class=\"col\">\n            <h2>{{ corpus[s].name }}</h2>\n            <div class=\"col-0\">\n              <btn\n                v-for=\"p in ps\"\n                :key=\"p\"\n                :text=\"corpus[s].phrases[p].name\"\n                :is-on=\"phrase === corpus[s].phrases[p]\"\n                @click=\"select(corpus[s], corpus[s].phrases[p])\"\n              />\n            </div>\n          </div>\n        </div>\n        <div v-else class=\"col-0\">\n          <btn\n            v-for=\"p in phrases\"\n            :key=\"p.id\"\n            :text=\"p.name\"\n            :is-on=\"phrase === p\"\n            @click=\"select(null, p)\"\n          />\n        </div>\n      </div>\n    </div>\n    <div v-if=\"phrase\" :key=\"phrase.id\" class=\"col-1\">\n      <PhraseCard :phrase=\"phrase\" />\n      <PhraseCard\n        v-for=\"(p, n) of phrasebooks\"\n        :key=\"n\"\n        :lect=\"n\"\n        :phrase=\"p[phrase.id]\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport PhraseCard from \"./PhraseCard.vue\";\n\nimport { computed, ref, watch, defineComponent, provide, nextTick } from \"vue\";\n\nimport { corpus, section, phrase, phrasebooks, initialize } from \"./main\";\nimport { Context, CorpusPhrase, CorpusSection } from \"./types\";\nimport { createContext } from \"./utils\";\n\nexport default defineComponent({\n  components: { PhraseCard },\n  setup() {\n    initialize();\n\n    const context = ref({} as Context);\n    watch(\n      phrase,\n      (phrase) => nextTick(() => createContext(context, phrase.context)),\n      { immediate: true }\n    );\n\n    provide(\"context\", context);\n\n    const searching = ref(false);\n    const query = ref(\"\");\n\n    const phrases = computed(() =>\n      searching.value\n        ? corpus.value.reduce((result, section, index) => {\n            result[index] = section.phrases\n              .map((phrase, index) => [phrase, index] as [CorpusPhrase, number])\n              .filter(([phrase]) => phrase.name.includes(query.value))\n              .map(([, index]) => index);\n            if (!result[index].length) delete result[index];\n            return result;\n          }, {} as Record<number, number[]>)\n        : section.value?.phrases\n    );\n    function select(_section?: CorpusSection, _phrase?: CorpusPhrase) {\n      if (_section) section.value = _section;\n      phrase.value = _phrase ?? section.value.phrases[0];\n    }\n\n    return {\n      searching,\n      query,\n      corpus,\n      section,\n      phrase,\n      select,\n      phrases,\n      phrasebooks,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.section {\n  display: grid;\n  grid-template-columns: 288px minmax(0, 1fr);\n  gap: map-get($margins, \"double\");\n  > :first-child {\n    max-height: 640px;\n  }\n}\n@media only screen and (max-width: $mobile-width) {\n  .section {\n    > :first-child {\n      max-height: 320px;\n    }\n    grid-template-columns: 100%;\n  }\n}\n</style>\n","import { getInitializer, loadJSON, loadLectsJSON } from \"@/store\";\nimport { shallowRef } from \"vue\";\nimport { CorpusPhrase, CorpusSection, Phrasebook } from \"./types\";\n\nexport const corpus = shallowRef<CorpusSection[]>([]);\nexport const phrasebooks = shallowRef<Record<string, Phrasebook>>();\nexport const section = shallowRef({} as CorpusSection);\nexport const phrase = shallowRef({} as CorpusPhrase);\n\nexport const initialize = getInitializer(async () => {\n  corpus.value = await loadJSON(\"phrasebook\");\n  phrasebooks.value = await loadLectsJSON<Phrasebook>(\"phrasebook\");\n\n  section.value = corpus.value[0];\n  phrase.value = section.value.phrases[0];\n});\n","\nimport PhraseCard from \"./PhraseCard.vue\";\n\nimport { computed, ref, watch, defineComponent, provide, nextTick } from \"vue\";\n\nimport { corpus, section, phrase, phrasebooks, initialize } from \"./main\";\nimport { Context, CorpusPhrase, CorpusSection } from \"./types\";\nimport { createContext } from \"./utils\";\n\nexport default defineComponent({\n  components: { PhraseCard },\n  setup() {\n    initialize();\n\n    const context = ref({} as Context);\n    watch(\n      phrase,\n      (phrase) => nextTick(() => createContext(context, phrase.context)),\n      { immediate: true }\n    );\n\n    provide(\"context\", context);\n\n    const searching = ref(false);\n    const query = ref(\"\");\n\n    const phrases = computed(() =>\n      searching.value\n        ? corpus.value.reduce((result, section, index) => {\n            result[index] = section.phrases\n              .map((phrase, index) => [phrase, index] as [CorpusPhrase, number])\n              .filter(([phrase]) => phrase.name.includes(query.value))\n              .map(([, index]) => index);\n            if (!result[index].length) delete result[index];\n            return result;\n          }, {} as Record<number, number[]>)\n        : section.value?.phrases\n    );\n    function select(_section?: CorpusSection, _phrase?: CorpusPhrase) {\n      if (_section) section.value = _section;\n      phrase.value = _phrase ?? section.value.phrases[0];\n    }\n\n    return {\n      searching,\n      query,\n      corpus,\n      section,\n      phrase,\n      select,\n      phrases,\n      phrasebooks,\n    };\n  },\n});\n","import { render } from \"./index.vue?vue&type=template&id=df956346&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=df956346&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-df956346\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PhraseCard.vue?vue&type=style&index=0&id=111069ae&lang=scss&scoped=true\"","<template>\n  <div v-if=\"notes.length\" class=\"col\">\n    <p v-for=\"(ps, i) in pieces\" :key=\"i\">\n      <template v-for=\"({ text, display }, j) in ps\" :key=\"j\">\n        <span v-if=\"display === 'plain'\">{{ text }}</span>\n        <span v-else-if=\"display === 'highlight'\" class=\"highlight-font\">{{\n          text\n        }}</span>\n        <b v-else-if=\"display === 'grapheme'\">{{ text }}</b>\n        <span v-else class=\"text-ipa\">{{ text }}</span>\n      </template>\n    </p>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, PropType, defineComponent } from \"vue\";\nimport { PieceDisplay, Piece } from \"./types\";\n\nexport default defineComponent({\n  props: {\n    notes: { type: Array as PropType<string[]>, default: () => [] },\n  },\n  setup(props) {\n    function isWrapped(text: string, start: string, end: string) {\n      return text[0] === start && text[text.length - 1] === end;\n    }\n    function toPiece(text: string): Piece {\n      const patterns = [\n        [\"*\", \"*\", \"highlight\"],\n        [\"/\", \"/\", \"phoneme\"],\n        [\"<\", \">\", \"grapheme\"],\n      ] as [string, string, PieceDisplay][];\n\n      for (const [start, end, display] of patterns) {\n        if (isWrapped(text, start, end))\n          return { text: text.slice(1, -1), display };\n      }\n      return { text, display: \"plain\" };\n    }\n    const pieces = computed(() => {\n      const separator = /(\\/[^/]+\\/|<[^<>]+>|\\*[^*]+\\*)/g;\n      return props.notes.map((n) => n.split(separator).map((n) => toPiece(n)));\n    });\n    return { pieces };\n  },\n});\n</script>\n","\nimport { computed, PropType, defineComponent } from \"vue\";\nimport { PieceDisplay, Piece } from \"./types\";\n\nexport default defineComponent({\n  props: {\n    notes: { type: Array as PropType<string[]>, default: () => [] },\n  },\n  setup(props) {\n    function isWrapped(text: string, start: string, end: string) {\n      return text[0] === start && text[text.length - 1] === end;\n    }\n    function toPiece(text: string): Piece {\n      const patterns = [\n        [\"*\", \"*\", \"highlight\"],\n        [\"/\", \"/\", \"phoneme\"],\n        [\"<\", \">\", \"grapheme\"],\n      ] as [string, string, PieceDisplay][];\n\n      for (const [start, end, display] of patterns) {\n        if (isWrapped(text, start, end))\n          return { text: text.slice(1, -1), display };\n      }\n      return { text, display: \"plain\" };\n    }\n    const pieces = computed(() => {\n      const separator = /(\\/[^/]+\\/|<[^<>]+>|\\*[^*]+\\*)/g;\n      return props.notes.map((n) => n.split(separator).map((n) => toPiece(n)));\n    });\n    return { pieces };\n  },\n});\n","import { render } from \"./index.vue?vue&type=template&id=3ab02e56\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=df956346&lang=scss&scoped=true\""],"sourceRoot":""}