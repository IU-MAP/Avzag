(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-557f993b"],{"0e32":function(e,t,n){"use strict";var c=n("7a23");function o(e,t,n,o,a,l){var r=Object(c["A"])("btn"),u=Object(c["A"])("EditorCard");return Object(c["s"])(),Object(c["d"])(u,{icon:"sticky_note_2",header:"Notes",onAction:e.add},{caption:Object(c["K"])((function(){return[Object(c["z"])(e.$slots,"default")]})),default:Object(c["K"])((function(){return[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.notes,(function(t,n){return Object(c["s"])(),Object(c["d"])("div",{key:n,class:"row"},[Object(c["L"])(Object(c["h"])("input",{"onUpdate:modelValue":function(t){return e.notes[n]=t},type:"text"},null,8,["onUpdate:modelValue"]),[[c["G"],e.notes[n]]]),Object(c["h"])(r,{icon:"clear",onClick:function(t){return e.remove(n)}},null,8,["onClick"])])})),128))]})),_:1},8,["onAction"])}n("a434");var a=n("7694"),l=Object(c["i"])({components:{EditorCard:a["a"]},props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,o=Object(c["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}});function a(){o.value?o.value.push(""):o.value=[""]}function l(e){o.value&&o.value.splice(e,1)}return{notes:o,add:a,remove:l}}});l.render=o;t["a"]=l},"6b3f":function(e,t,n){},a1df:function(e,t,n){"use strict";n.r(t);n("b0c0");var c=n("7a23"),o=Object(c["M"])("data-v-38f05bb1");Object(c["v"])("data-v-38f05bb1");var a={key:0,class:"section col-2 small grid"},l={class:"col-2"},r={class:"col-1 wrap card"},u={class:"row-1"},i=Object(c["h"])("p",{class:"icon"},"topic",-1),s={class:"col-1 flex"},b={key:0,class:"row-1"},d=Object(c["h"])("p",{class:"icon"},"short_text",-1),O=Object(c["h"])("p",{class:"text-faded text-caption"}," The source corpus is loading from what is saved on Phrasebook Corpus editor page. ",-1),j={class:"row wrap"},f={class:"row-1 wrap block-editor"},v=Object(c["g"])(" You can add notes, for example, to explain certain grammatical rules. "),p=Object(c["g"])(" Translate the context keys (entites & tags) to provide full phrase localization. ");Object(c["t"])();var h=o((function(e,t,n,h,m,k){var x,y=Object(c["A"])("VContext"),V=Object(c["A"])("VBlock"),g=Object(c["A"])("ButtonAlert"),w=Object(c["A"])("btn"),C=Object(c["A"])("EditorCard"),A=Object(c["A"])("NotesEditor"),B=Object(c["A"])("ContextTranslationEditor"),E=Object(c["A"])("BlockEditor");return e.file&&e.corpus?(Object(c["s"])(),Object(c["d"])("div",a,[Object(c["h"])("div",l,[Object(c["h"])("div",r,[Object(c["h"])("div",u,[i,Object(c["h"])("h2",s,[Object(c["L"])(Object(c["h"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.section=t})},[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.corpus,(function(e){return Object(c["s"])(),Object(c["d"])("option",{key:e.name,value:e},Object(c["C"])(e.name),9,["value"])})),128))],512),[[c["F"],e.section]])])]),e.section?(Object(c["s"])(),Object(c["d"])("div",b,[d,Object(c["L"])(Object(c["h"])("select",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.phrase=t})},[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.section.phrases,(function(e){return Object(c["s"])(),Object(c["d"])("option",{key:e.id,value:e},Object(c["C"])(e.preview),9,["value"])})),128))],512),[[c["F"],e.phrase]])])):Object(c["e"])("",!0),O,null!==(x=e.phrase)&&void 0!==x&&x.blocks?(Object(c["s"])(),Object(c["d"])(c["a"],{key:1},[Object(c["h"])(y),Object(c["h"])("div",j,[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.phrase.blocks,(function(t,n){return Object(c["s"])(),Object(c["d"])(V,{key:e.phrase.id+"--"+n,block:t},null,8,["block"])})),128))])],64)):Object(c["e"])("",!0)]),e.translation?(Object(c["s"])(),Object(c["d"])(c["a"],{key:0},[Object(c["h"])(C,{icon:"account_tree",header:"Blocks",onAction:e.addBlock},Object(c["f"])({default:o((function(){return[Object(c["h"])(y,{translation:e.translation.context},null,8,["translation"]),Object(c["h"])("div",f,[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.translation.blocks,(function(t,n){return Object(c["s"])(),Object(c["d"])("div",{key:e.phrase.id+"--"+n,class:"row"},[Object(c["h"])(w,{icon:"edit","is-on":e.block===t,onClick:function(n){return e.block=t}},null,8,["is-on","onClick"]),Object(c["h"])(V,{block:t},null,8,["block"])])})),128))])]})),_:2},[e.block?{name:"header",fn:o((function(){return[Object(c["h"])(g,{onConfirm:e.removeBlock},null,8,["onConfirm"])]}))}:void 0]),1032,["onAction"]),Object(c["h"])(A,{modelValue:e.translation.notes,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.translation.notes=t})},{default:o((function(){return[v]})),_:1},8,["modelValue"]),Object(c["h"])(B,{modelValue:e.translation.context,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.translation.context=t})},{default:o((function(){return[p]})),_:1},8,["modelValue"])],64)):Object(c["e"])("",!0)]),e.block?(Object(c["s"])(),Object(c["d"])(E,{key:0,modelValue:e.block,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.block=t}),onRemove:e.removeBlock},null,8,["modelValue","onRemove"])):Object(c["e"])("",!0)])):Object(c["e"])("",!0)})),m=(n("4160"),n("c975"),n("a434"),n("d3b7"),n("ac1f"),n("6062"),n("3ca3"),n("1276"),n("159b"),n("ddb0"),n("3835")),k=n("7694"),x=n("898d"),y=n("0e32"),V=n("72e9"),g=n("9362"),w=n("5794"),C={class:"row wrap block-editor"},A={class:"col"},B={class:"text-caption"};function E(e,t,n,o,a,l){var r=Object(c["A"])("ButtonAlert"),u=Object(c["A"])("EditorCard");return Object(c["s"])(),Object(c["d"])(u,{button:e.translation?"":"queue",icon:"format_list_bulleted",header:"context translation",onAction:e.add},Object(c["f"])({caption:Object(c["K"])((function(){return[Object(c["z"])(e.$slots,"default")]})),default:Object(c["K"])((function(){return[e.translation?(Object(c["s"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["y"])(e.entities,(function(t,n){return Object(c["s"])(),Object(c["d"])("div",{key:n,class:"row wrap"},[Object(c["h"])("div",C,[Object(c["h"])("div",A,[Object(c["h"])("h2",{class:["text-caption",e.colors[n]]},Object(c["C"])(t[0]),3),Object(c["L"])(Object(c["h"])("input",{"onUpdate:modelValue":function(e){return t[1]=e},size:e.sizes[n].entity,type:"text"},null,8,["onUpdate:modelValue","size"]),[[c["G"],t[1]]])]),(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.tags[n],(function(t,o){return Object(c["s"])(),Object(c["d"])("div",{key:t[0],class:"col"},[Object(c["h"])("p",B,Object(c["C"])(t[0]),1),Object(c["L"])(Object(c["h"])("input",{"onUpdate:modelValue":function(e){return t[1]=e},size:e.sizes[n].tags[o],type:"text"},null,8,["onUpdate:modelValue","size"]),[[c["G"],t[1]]])])})),128))])])})),128)):Object(c["e"])("",!0)]})),_:2},[e.translation?{name:"header",fn:Object(c["K"])((function(){return[Object(c["h"])(r,{onConfirm:t[1]||(t[1]=function(t){return e.translation=null})})]}))}:void 0]),1032,["button","onAction"])}n("d81d"),n("4fad");var _=n("2909"),U=Object(c["i"])({name:"PhraseContextTranslationEditor",components:{ButtonAlert:x["a"],EditorCard:k["a"]},props:{modelValue:{type:Object,default:void 0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,o=Object(c["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),a=Object(c["l"])("contextSource",{}),l=Object(c["b"])((function(){var e;return null===(e=o.value)||void 0===e?void 0:e.map((function(e){return e.entity}))})),r=Object(c["b"])((function(){var e;return null===(e=o.value)||void 0===e?void 0:e.map((function(e){return e.tags}))})),u=Object(c["b"])((function(){var e;return null===(e=o.value)||void 0===e?void 0:e.map((function(e){var t=e.entity,n=e.tags;return{entity:Math.max(t[1].length,1),tags:n.map((function(e){return Math.max(e[1].length,1)}))}}))})),i=Object(c["b"])((function(){var e;return null===(e=l.value)||void 0===e?void 0:e.map((function(e,t){return"colored-dot-"+t}))}));function s(){o.value=Object.entries(a.value).map((function(e){var t=Object(m["a"])(e,2),n=t[0],c=t[1];return{entity:[n,""],tags:Object(_["a"])(c).map((function(e){return[e,""]}))}}))}return{translation:o,add:s,entities:l,tags:r,sizes:u,colors:i}}});U.render=E;var z=U,S=n("3a0b"),I=n("9392"),K=Object(c["i"])({components:{EditorCard:k["a"],ButtonAlert:x["a"],NotesEditor:y["a"],VBlock:V["a"],BlockEditor:g["a"],VContext:w["a"],ContextTranslationEditor:z},setup:function(){var e=Object(c["x"])([]);try{e.value=JSON.parse(localStorage["editor.phrasebookCorpus"])}catch(b){Object(S["b"])("phrasebook").then((function(t){return e.value=t}))}var t=Object(c["x"])({}),n=Object(c["x"])({}),o=Object(c["x"])({}),a=Object(c["x"])({}),l=Object(c["x"])({}),r=Object(c["x"])({}),u=Object(I["d"])({defaultFile:{},filename:"phrasebook",storage:"editor.phrasebook"});function i(){r.value=r.value={states:[{display:[{text:"new state"}],transition:"next"}]},o.value.blocks.push(r.value)}function s(){var e=Object(c["D"])(o.value.blocks),t=e.indexOf(Object(c["D"])(r.value));e.splice(t,1),r.value=e[e.length-1]}return Object(c["u"])("context",a),Object(c["u"])("contextSource",l),Object(c["I"])(e,(function(e){return t.value=e[e.length-1]}),{immediate:!0}),Object(c["I"])(t,(function(e){null!==e&&void 0!==e&&e.phrases&&(n.value=e.phrases[e.phrases.length-1])}),{immediate:!0}),Object(c["I"])([n,u],(function(e){var t=Object(m["a"])(e,1),n=t[0];n&&(u.value[n.id]||(u.value[n.id]={blocks:[]}),o.value=u.value[n.id],a.value={},l.value={},n.context.forEach((function(e){var t=e.entity,n=e.tags;a.value[t]=new Set,l.value[t]=new Set(n.split(" "))})))}),{immediate:!0}),Object(c["I"])(o,(function(e){null!==e&&void 0!==e&&e.blocks&&(r.value=e.blocks[e.blocks.length-1])}),{immediate:!0}),{file:u,corpus:e,section:t,phrase:n,translation:o,block:r,addBlock:i,removeBlock:s}}});n("de22"),n("b127");K.render=h,K.__scopeId="data-v-38f05bb1";t["default"]=K},b127:function(e,t,n){"use strict";n("eb98")},de22:function(e,t,n){"use strict";n("6b3f")},eb98:function(e,t,n){}}]);
//# sourceMappingURL=chunk-557f993b.25e9bd3b.js.map