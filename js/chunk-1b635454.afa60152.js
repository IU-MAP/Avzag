(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b635454"],{"1e10":function(e,t,n){"use strict";n("b738")},2909:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var c=n("6b75");function a(e){if(Array.isArray(e))return Object(c["a"])(e)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var o=n("06c5");function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){return a(e)||r(e)||Object(o["a"])(e)||u()}},"293e":function(e,t,n){"use strict";n("8b20")},"3c94":function(e,t,n){"use strict";n.r(t);n("b0c0");var c=n("7a23"),a=Object(c["O"])("data-v-71753b3c");Object(c["v"])("data-v-71753b3c");var r={key:0,class:"section col-1"},o={class:"col-1"},u={class:"row"},s={key:1,class:"col-1 flex"},i={class:"scroll"},l={key:0,class:"col"},b={class:"col-0"},d={key:1,class:"col-0"};Object(c["t"])();var O=a((function(e,t,n,a,O,j){var v=Object(c["B"])("toggle"),f=Object(c["B"])("btn"),p=Object(c["B"])("PhraseCard");return e.corpus?(Object(c["s"])(),Object(c["d"])("div",r,[Object(c["h"])("div",o,[Object(c["h"])("div",u,[Object(c["h"])(v,{modelValue:e.searching,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searching=t}),icon:"search"},null,8,["modelValue"]),e.searching?Object(c["N"])((Object(c["s"])(),Object(c["d"])("input",{key:0,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.query=t}),class:"flex",type:"text",placeholder:"Search all phrases..."},null,512)),[[c["I"],e.query]]):(Object(c["s"])(),Object(c["d"])("h2",s,[Object(c["N"])(Object(c["h"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.section=t}),style:{flex:"none"},onChange:t[4]||(t[4]=function(t){return e.select(e.section)})},[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.corpus,(function(e){return Object(c["s"])(),Object(c["d"])("option",{key:e.id,value:e},Object(c["D"])(e.name),9,["value"])})),128))],544),[[c["H"],e.section]])]))]),Object(c["h"])("div",i,[e.searching?(Object(c["s"])(),Object(c["d"])("div",l,[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.phrases,(function(t,n){return Object(c["s"])(),Object(c["d"])("div",{key:n,class:"col"},[Object(c["h"])("h2",null,Object(c["D"])(e.corpus[n].name),1),Object(c["h"])("div",b,[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t,(function(t){return Object(c["s"])(),Object(c["d"])(f,{key:t,text:e.corpus[n].phrases[t].name,"is-on":e.phrase===e.corpus[n].phrases[t],onClick:function(c){return e.select(e.corpus[n],e.corpus[n].phrases[t])}},null,8,["text","is-on","onClick"])})),128))])])})),128))])):(Object(c["s"])(),Object(c["d"])("div",d,[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.phrases,(function(t){return Object(c["s"])(),Object(c["d"])(f,{key:t.id,text:t.name,"is-on":e.phrase===t,onClick:function(n){return e.select(null,t)}},null,8,["text","is-on","onClick"])})),128))]))])]),e.phrase?(Object(c["s"])(),Object(c["d"])("div",{key:e.phrase.id,class:"col-1"},[Object(c["h"])(p,{phrase:e.phrase},null,8,["phrase"]),(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.phrasebooks,(function(t,n){return Object(c["s"])(),Object(c["d"])(p,{key:n,lect:n,phrase:t[e.phrase.id]},null,8,["lect","phrase"])})),128))])):Object(c["e"])("",!0)])):Object(c["e"])("",!0)})),j=(n("4de4"),n("caad"),n("d81d"),n("13d5"),n("2532"),n("3835")),v=Object(c["O"])("data-v-1a1f26ed");Object(c["v"])("data-v-1a1f26ed");var f={key:0,class:"col card flag"},p={key:0,class:"row small wrap",style:{width:"100%"}},h={class:"flex"},y={class:"row"},m={class:"row wrap flex"};Object(c["t"])();var k=v((function(e,t,n,a,r,o){var u=Object(c["B"])("Flag"),s=Object(c["B"])("toggle"),i=Object(c["B"])("btn"),l=Object(c["B"])("Context"),b=Object(c["B"])("Block"),d=Object(c["B"])("Notes");return e.phrase?(Object(c["s"])(),Object(c["d"])("div",f,[Object(c["h"])(u,{lect:e.lect,class:"blur"},null,8,["lect"]),e.lect?(Object(c["s"])(),Object(c["d"])("div",p,[Object(c["h"])("h2",h,Object(c["D"])(e.lect),1),Object(c["h"])("div",y,[Object(c["h"])(s,{modelValue:e.playing,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.playing=t}),icon:"play_arrow"},null,8,["modelValue"]),Object(c["h"])(i,{icon:"content_copy",onClick:e.copy},null,8,["onClick"]),Object(c["h"])(s,{modelValue:e.glossed,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.glossed=t}),icon:"layers"},null,8,["modelValue"])])])):Object(c["e"])("",!0),Object(c["h"])(l,{translation:e.lect?e.phrase.context:null,blocks:e.vblocks},null,8,["translation","blocks"]),Object(c["h"])("div",m,[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.phrase.blocks,(function(t,n){return Object(c["s"])(),Object(c["d"])("div",{key:n,class:"blocks row"},[Object(c["h"])("p",{class:"seeker",style:{width:e.seekers[n]}},null,4),Object(c["h"])(b,{block:t,glossed:e.glossed,onUpdate:function(t){return e.vblocks[n]=t}},null,8,["block","glossed","onUpdate"])])})),128))]),Object(c["h"])(d,{class:"text-caption",notes:e.phrase.notes},null,8,["notes"])])):Object(c["e"])("",!0)})),x=(n("a15b"),n("5794")),g=n("72e9"),w=n("d9c7"),C=n("f929"),B=n("e7de"),S=Object(c["i"])({components:{Context:x["a"],Block:g["a"],Notes:w["a"],Flag:C["a"]},props:{lect:{type:String,default:""},phrase:{type:Object,default:void 0}},setup:function(e){var t=Object(c["y"])(!1),n=Object(c["w"])([]),a=Object(c["b"])((function(){return n.filter((function(e){var t=e.state;return t})).map((function(e){var t=e.text;return t})).join(" ")}));function r(){navigator.clipboard.writeText(a.value)}var o=Object(c["b"])({get:function(){return B["a"].key===e.lect},set:function(t){t?B["a"].play(e.lect,n.map((function(e){var t=e.state;return null===t||void 0===t?void 0:t.texts.map((function(e){var t=e.plain;return t}))})).map((function(e){var t;return"phrasebook/"+(null!==(t=null===e||void 0===e?void 0:e.join(""))&&void 0!==t?t:"")}))):B["a"].stop()}}),u=Object(c["y"])([]);return Object(c["K"])([function(){return B["a"].seek},function(){return B["a"].current},o],(function(e,t){var n=Object(j["a"])(e,3),c=n[0],a=n[1],r=n[2],o=Object(j["a"])(t,2),s=o[1];s&&(u.value[s.i]="0"),r&&a&&(u.value[a.i]=100*c+"%")})),{glossed:t,vblocks:n,copy:r,playing:o,seekers:u}}});n("7aa5");S.render=k,S.__scopeId="data-v-1a1f26ed";var V=S,_=(n("96cf"),n("1da1")),z=n("3a0b"),E=Object(c["C"])([]),A=Object(c["C"])(),I=Object(c["C"])(),U=Object(c["C"])(),D=Object(z["a"])(Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(z["b"])("phrasebook");case 2:return E.value=e.sent,e.next=5,Object(z["c"])("phrasebook");case 5:A.value=e.sent,I.value=E.value[0],U.value=I.value.phrases[0];case 8:case"end":return e.stop()}}),e)})))),K=n("7ec3"),N=Object(c["i"])({components:{PhraseCard:V},setup:function(){D();var e=Object(c["y"])({});Object(c["K"])(U,(function(t){return Object(K["c"])(e,null===t||void 0===t?void 0:t.context)}),{immediate:!0}),Object(c["u"])("context",e);var t=Object(c["y"])(!1),n=Object(c["y"])(""),a=Object(c["b"])((function(){var e;return t.value?E.value.reduce((function(e,t,c){return e[c]=t.phrases.map((function(e,t){return[e,t]})).filter((function(e){var t=Object(j["a"])(e,1),c=t[0];return c.name.includes(n.value)})).map((function(e){var t=Object(j["a"])(e,2),n=t[1];return n})),e[c].length||delete e[c],e}),{}):null===(e=I.value)||void 0===e?void 0:e.phrases}));function r(e,t){var n;e&&(I.value=e),U.value=null!==t&&void 0!==t?t:null===(n=I.value)||void 0===n?void 0:n.phrases[0]}return{searching:t,query:n,corpus:E,section:I,phrase:U,select:r,phrases:a,phrasebooks:A}}});n("1e10");N.render=O,N.__scopeId="data-v-71753b3c";t["default"]=N},"45fc":function(e,t,n){"use strict";var c=n("23e7"),a=n("b727").some,r=n("a640"),o=n("ae40"),u=r("some"),s=o("some");c({target:"Array",proto:!0,forced:!u||!s},{some:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},5794:function(e,t,n){"use strict";var c=n("7a23"),a=Object(c["O"])("data-v-40007e60");Object(c["v"])("data-v-40007e60");var r={class:"row text-caption wrap"},o=Object(c["h"])("div",{class:"icon"},"info",-1),u=Object(c["g"])("â€¦");Object(c["t"])();var s=a((function(e,t,n,a,s,i){return Object(c["s"])(),Object(c["d"])("div",r,[o,e.any?(Object(c["s"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["z"])(e.translated,(function(e,t){return Object(c["s"])(),Object(c["d"])(c["a"],{key:t},[e.length?(Object(c["s"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["z"])(e,(function(e){return Object(c["s"])(),Object(c["d"])("p",{key:e+"--"+t,class:"colored-dot-"+t},Object(c["D"])(e),3)})),128)):Object(c["e"])("",!0)],64)})),128)):(Object(c["s"])(),Object(c["d"])(c["a"],{key:1},[u],64))])})),i=(n("4de4"),n("4160"),n("d81d"),n("45fc"),n("4fad"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0"),n("2909")),l=n("3835"),b=n("b85c"),d=Object(c["i"])({name:"Context",props:{translation:{type:Object,default:function(){return{}}},blocks:{type:Array,default:function(){return[]}}},setup:function(e){var t=Object(c["l"])("context",{}),n=Object(c["b"])((function(){var t,n={},c=Object(b["a"])(e.blocks);try{for(c.s();!(t=c.n()).done;){var a=t.value.state,r=null===a||void 0===a?void 0:a.conditions;r&&Object.entries(r).forEach((function(e){var t=Object(l["a"])(e,2),c=t[0],a=t[1];return Object.entries(a).forEach((function(e){var t=Object(l["a"])(e,1),a=t[0];n[c]||(n[c]=new Set),n[c].add(a)}))}))}}catch(o){c.e(o)}finally{c.f()}return n}));function a(e,t){return(null===e||void 0===e?void 0:e[t])||t}var r=Object(c["b"])((function(){return Object.entries(t.value).map((function(t){var c=Object(l["a"])(t,2),r=c[0],o=c[1];return Object(i["a"])(o).filter((function(e){var t;return!(null!==(t=n.value[r])&&void 0!==t&&t.has(e))})).map((function(t){var n;return a(null===(n=e.translation)||void 0===n?void 0:n[r],t)}))}))})),o=Object(c["b"])((function(){return r.value.some((function(e){return null===e||void 0===e?void 0:e.length}))}));return{translated:r,any:o}}});n("5e8b");d.render=s,d.__scopeId="data-v-40007e60";t["a"]=d},"5e8b":function(e,t,n){"use strict";n("cbef")},"72e9":function(e,t,n){"use strict";var c=n("7a23"),a=Object(c["O"])("data-v-380e7c9d"),r=a((function(e,t,n,a,r,o){var u=Object(c["B"])("VState");return e.state?Object(c["N"])((Object(c["s"])(),Object(c["d"])("button",{key:0,class:["small",{disabled:e.disabled,glossed:e.glossed}],onClick:t[2]||(t[2]=function(){return e.move&&e.move.apply(e,arguments)})},[Object(c["h"])(u,{glossed:e.glossed,state:e.state,onText:t[1]||(t[1]=function(t){return e.text=t})},null,8,["glossed","state"])],2)),[[c["J"],e.text]]):Object(c["e"])("",!0)})),o=(n("c975"),n("3835")),u=n("af66"),s=n("7ec3"),i=Object(c["i"])({name:"Block",components:{VState:u["a"]},props:{block:{type:Array,default:void 0},glossed:Boolean},emits:["update"],setup:function(e,t){var n=t.emit,a=Object(c["y"])(),r=Object(c["y"])("");Object(c["K"])([a,r],(function(e){var t=Object(o["a"])(e,2),c=t[0],a=t[1];return n("update",{state:c,text:a})}),{immediate:!0});var u=Object(c["b"])((function(){var e;return!(null!==(e=a.value)&&void 0!==e&&e.transition)})),i=Object(c["l"])("context",{});function l(e){var t;Object(c["E"])(e)!==Object(c["E"])(a.value)&&(Object(s["a"])(i,null===(t=a.value)||void 0===t?void 0:t.conditions,!1),Object(s["a"])(i,null===e||void 0===e?void 0:e.conditions,!0),a.value=e)}function b(){var t,n;if(!u.value){var r,o=null===(t=a.value)||void 0===t?void 0:t.transition,b=e.block;if("next"===o){var d=a.value?b.indexOf(Object(c["E"])(a.value)):-1;r=b[(d+1)%b.length]}else o&&(r=Object(s["d"])(o,b,i.value));l(r),Object(s["b"])(null===(n=r)||void 0===n?void 0:n.conditions,i.value)[0]<0&&(a.value=void 0)}}return Object(c["K"])(i,(function(t){var n=Object(s["d"])(void 0,e.block,t);l(n)}),{immediate:!0,deep:!0}),{move:b,state:a,disabled:u,text:r}}});n("dc2a");i.render=r,i.__scopeId="data-v-380e7c9d";t["a"]=i},"7aa5":function(e,t,n){"use strict";n("a93d")},"7ec3":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return s}));n("4160"),n("d81d"),n("4fad"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0");var c=n("3835");function a(){return{texts:[{plain:"new state"}],transition:"next",conditions:{}}}function r(e,t){t&&(e.value={},t.forEach((function(t){var n=t.entity;return e.value[n]=new Set})))}function o(e,t){if(!e)return[1,0];for(var n=0,a=0,r=0,o=Object.entries(e);r<o.length;r++)for(var u=Object(c["a"])(o[r],2),s=u[0],i=u[1],l=0,b=Object.entries(i);l<b.length;l++){var d,O=Object(c["a"])(b[l],2),j=O[0],v=O[1],f=null===(d=t[s])||void 0===d?void 0:d.has(j);if(!v&&!f)return[-1,0];f&&(n+=1),a+=1}return[n/(a||1),a]}function u(e,t,n){var a,r,u=-1,s=0,i=null!==(a=null===e||void 0===e?void 0:e.map((function(e){return t[e]})))&&void 0!==a?a:t;return i.forEach((function(e){var t=o(e.conditions,n),a=Object(c["a"])(t,2),i=a[0],l=a[1];(1===u?1===i&&l>s:i>u)&&(r=e,u=i,s=l)})),r}function s(e,t,n){t&&e.value&&Object.entries(t).forEach((function(t){var a=Object(c["a"])(t,2),r=a[0],o=a[1];return Object.entries(o).forEach((function(t){var a=Object(c["a"])(t,2),o=a[0],u=a[1],s=e.value[r];u&&s&&(n?s.add(o):s.delete(o))}))}))}},"891a":function(e,t,n){},"8b20":function(e,t,n){},a93d:function(e,t,n){},af66:function(e,t,n){"use strict";var c=n("7a23"),a=Object(c["O"])("data-v-661aca89");Object(c["v"])("data-v-661aca89");var r={class:"segments"},o={class:"row dashes"};Object(c["t"])();var u=a((function(e,t,n,a,u,s){return Object(c["s"])(),Object(c["d"])("div",{class:["display row",{glossed:e.canGloss}]},[Object(c["h"])("div",r,[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.types,(function(t,n){return Object(c["s"])(),Object(c["d"])("p",{key:t,class:"text-"+t},[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.texts[n],(function(t,n){return Object(c["s"])(),Object(c["d"])("span",{key:n,class:e.textColors[n]},Object(c["D"])(t),3)})),128))],2)})),128))]),Object(c["h"])("div",o,[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.dashColors,(function(e,t){return Object(c["s"])(),Object(c["d"])("p",{key:t,class:e},null,2)})),128))])],2)})),s=(n("4de4"),n("c975"),n("a15b"),n("d81d"),n("45fc"),n("4fad"),n("b64b"),n("07ac"),n("3835")),i=Object(c["i"])({name:"State",props:{state:{type:Object,default:function(){return{}}},glossed:{type:Boolean,default:!1}},emits:["text"],setup:function(e,t){var n=t.emit,a=Object(c["l"])("context",{}),r=Object(c["b"])((function(){return Object.keys(a.value)})),o=Object(c["b"])((function(){return e.glossed&&e.state.texts.some((function(e){var t=e.ipa,n=e.gloss;return t||n}))})),u=Object(c["b"])((function(){return o.value?["ipa","gloss"]:["plain"]})),i=Object(c["b"])((function(){return u.value.map((function(t){var n;return null===(n=e.state.texts)||void 0===n?void 0:n.map((function(e){return e[t]}))}))}));Object(c["K"])(i,(function(e){if(e){var t=e.map((function(e){return null===e||void 0===e?void 0:e.join("")})),c=1===t.length?t[0]:t.join("\n");n("text",c)}}),{immediate:!0,deep:!0});var l=Object(c["b"])((function(){return e.state.texts.map((function(e){var t=e.entity;return null!==t&&void 0!==t?t:""})).map((function(e){return r.value.indexOf(e)})).map((function(e){return"colored-"+e}))})),b=Object(c["b"])((function(){return e.state.transition&&e.state.conditions?Object.entries(e.state.conditions).filter((function(e){var t=Object(s["a"])(e,2),n=t[1];return Object.values(n).some((function(e){return e}))})).map((function(e){var t=Object(s["a"])(e,1),n=t[0];return r.value.indexOf(n)})).map((function(e){return"colored-back-"+e})):[]}));return{types:u,texts:i,canGloss:o,textColors:l,dashColors:b}}});n("293e");i.render=u,i.__scopeId="data-v-661aca89";t["a"]=i},b738:function(e,t,n){},c975:function(e,t,n){"use strict";var c=n("23e7"),a=n("4d64").indexOf,r=n("a640"),o=n("ae40"),u=[].indexOf,s=!!u&&1/[1].indexOf(1,-0)<0,i=r("indexOf"),l=o("indexOf",{ACCESSORS:!0,1:0});c({target:"Array",proto:!0,forced:s||!i||!l},{indexOf:function(e){return s?u.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},cbef:function(e,t,n){},dc2a:function(e,t,n){"use strict";n("891a")}}]);
//# sourceMappingURL=chunk-1b635454.afa60152.js.map