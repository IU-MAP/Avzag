(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc83f286"],{"07ac":function(t,e,n){var c=n("23e7"),r=n("6f53").values;c({target:"Object",stat:!0},{values:function(t){return r(t)}})},"13d5":function(t,e,n){"use strict";var c=n("23e7"),r=n("d58f").left,a=n("a640"),o=n("ae40"),u=n("2d00"),i=n("605d"),s=a("reduce"),l=o("reduce",{1:0}),b=!i&&u>79&&u<83;c({target:"Array",proto:!0,forced:!s||!l||b},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"219f":function(t,e,n){},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var c=n("6b75");function r(t){if(Array.isArray(t))return Object(c["a"])(t)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var o=n("06c5");function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t){return r(t)||a(t)||Object(o["a"])(t)||u()}},"293e":function(t,e,n){"use strict";n("8b20")},"3b5b":function(t,e,n){},"3c94":function(t,e,n){"use strict";n.r(e);n("b0c0");var c=n("7a23"),r=Object(c["N"])("data-v-262378b6");Object(c["w"])("data-v-262378b6");var a={key:0,class:"section col-1"},o={class:"col-1"},u={class:"row-1"},i={key:1,class:"col-1 flex"},s={class:"scroll"},l={key:0,class:"col"},b={class:"col-0"},d={key:1,class:"col-0"};Object(c["u"])();var O=r((function(t,e,n,r,O,j){var f=Object(c["B"])("toggle"),v=Object(c["B"])("btn"),p=Object(c["B"])("PhraseCard");return t.corpus?(Object(c["t"])(),Object(c["d"])("div",a,[Object(c["h"])("div",o,[Object(c["h"])("div",u,[Object(c["h"])(f,{modelValue:t.searching,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.searching=e}),icon:"search"},null,8,["modelValue"]),t.searching?Object(c["M"])((Object(c["t"])(),Object(c["d"])("input",{key:0,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.query=e}),class:"flex",type:"text",placeholder:"Search all phrases..."},null,512)),[[c["H"],t.query]]):(Object(c["t"])(),Object(c["d"])("h2",i,[Object(c["M"])(Object(c["h"])("select",{"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.section=e}),style:{flex:"none"},onChange:e[4]||(e[4]=function(e){return t.select(t.section)})},[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.corpus,(function(t){return Object(c["t"])(),Object(c["d"])("option",{key:t.id,value:t},Object(c["D"])(t.name),9,["value"])})),128))],544),[[c["G"],t.section]])]))]),Object(c["h"])("div",s,[t.searching?(Object(c["t"])(),Object(c["d"])("div",l,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.phrases,(function(e,n){return Object(c["t"])(),Object(c["d"])("div",{key:n,class:"col"},[Object(c["h"])("h2",null,Object(c["D"])(t.corpus[n].name),1),Object(c["h"])("div",b,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e,(function(e){return Object(c["t"])(),Object(c["d"])(v,{key:e,text:t.corpus[n].phrases[e].name,"is-on":t.phrase===t.corpus[n].phrases[e],onClick:function(c){return t.select(t.corpus[n],t.corpus[n].phrases[e])}},null,8,["text","is-on","onClick"])})),128))])])})),128))])):(Object(c["t"])(),Object(c["d"])("div",d,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.phrases,(function(e){return Object(c["t"])(),Object(c["d"])(v,{key:e.id,text:e.name,"is-on":t.phrase===e,onClick:function(n){return t.select(null,e)}},null,8,["text","is-on","onClick"])})),128))]))])]),t.phrase?(Object(c["t"])(),Object(c["d"])("div",{key:t.phrase.id,class:"col-1"},[Object(c["h"])(p,{phrase:t.phrase},null,8,["phrase"]),(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.phrasebooks,(function(e,n){return Object(c["t"])(),Object(c["d"])(p,{key:n,lect:n,phrase:e[t.phrase.id]},null,8,["lect","phrase"])})),128))])):Object(c["e"])("",!0)])):Object(c["e"])("",!0)})),j=(n("4de4"),n("caad"),n("d81d"),n("13d5"),n("2532"),n("3835")),f=Object(c["N"])("data-v-8677c7b0");Object(c["w"])("data-v-8677c7b0");var v={key:0,class:"col-1 card"},p={class:"row-1 small wrap",style:{width:"100%"}},h={class:"flex"},y={class:"row wrap flex"};Object(c["u"])();var m=f((function(t,e,n,r,a,o){var u=Object(c["B"])("btn"),i=Object(c["B"])("toggle"),s=Object(c["B"])("Context"),l=Object(c["B"])("Block"),b=Object(c["B"])("Notes");return t.phrase?(Object(c["t"])(),Object(c["d"])("div",v,[Object(c["h"])("div",p,[t.lect?(Object(c["t"])(),Object(c["d"])(c["a"],{key:0},[Object(c["h"])(u,{icon:"content_copy",onClick:t.copy},null,8,["onClick"]),Object(c["h"])(i,{modelValue:t.glossed,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.glossed=e}),icon:"layers"},null,8,["modelValue"]),Object(c["h"])("h2",h,Object(c["D"])(t.lect),1)],64)):Object(c["e"])("",!0),Object(c["h"])(s,{translation:t.contextTranslation,blocks:t.blocks},null,8,["translation","blocks"])]),Object(c["h"])("div",y,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.phrase.blocks,(function(e,n){return Object(c["t"])(),Object(c["d"])(l,{ref:function(e){return t.blocks.push(e)},key:n,glossed:t.glossed,block:e},null,8,["glossed","block"])})),128))]),Object(c["h"])(b,{class:"text-caption",notes:t.phrase.notes},null,8,["notes"])])):Object(c["e"])("",!0)})),k=(n("a15b"),n("5794")),g=n("72e9"),x=n("d9c7"),w=Object(c["i"])({components:{Context:k["a"],Block:g["a"],Notes:x["a"]},props:{lect:{type:String,default:""},phrase:{type:Object,default:void 0}},setup:function(t){var e=Object(c["y"])(!1),n=Object(c["b"])((function(){return t.lect?t.phrase.context:void 0})),r=Object(c["x"])([]),a=Object(c["b"])((function(){return r.filter((function(t){var e=t.state;return e})).map((function(t){var e=t.text;return e})).join(" ")}));function o(){navigator.clipboard.writeText(a.value)}return{glossed:e,blocks:r,copy:o,contextTranslation:n}}});n("e459");w.render=m,w.__scopeId="data-v-8677c7b0";var C=w,B=(n("96cf"),n("1da1")),z=n("3a0b"),S=Object(c["C"])([]),E=Object(c["C"])(),A=Object(c["C"])(),V=Object(c["C"])(),_=Object(z["a"])(Object(B["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(z["b"])("phrasebook");case 2:return S.value=t.sent,t.next=5,Object(z["c"])("phrasebook");case 5:E.value=t.sent,A.value=S.value[0],V.value=A.value.phrases[0];case 8:case"end":return t.stop()}}),t)})))),D=n("7ec3"),I=Object(c["i"])({components:{PhraseCard:C},setup:function(){_();var t=Object(c["y"])({});Object(c["J"])(V,(function(e){return Object(D["c"])(t,null===e||void 0===e?void 0:e.context)}),{immediate:!0}),Object(c["v"])("context",t);var e=Object(c["y"])(!1),n=Object(c["y"])(""),r=Object(c["b"])((function(){var t;return e.value?S.value.reduce((function(t,e,c){return t[c]=e.phrases.map((function(t,e){return[t,e]})).filter((function(t){var e=Object(j["a"])(t,1),c=e[0];return c.name.includes(n.value)})).map((function(t){var e=Object(j["a"])(t,2),n=e[1];return n})),t[c].length||delete t[c],t}),{}):null===(t=A.value)||void 0===t?void 0:t.phrases}));function a(t,e){var n;t&&(A.value=t),V.value=null!==e&&void 0!==e?e:null===(n=A.value)||void 0===n?void 0:n.phrases[0]}return{searching:e,query:n,corpus:S,section:A,phrase:V,select:a,phrases:r,phrasebooks:E}}});n("a8e9");I.render=O,I.__scopeId="data-v-262378b6";e["default"]=I},"45fc":function(t,e,n){"use strict";var c=n("23e7"),r=n("b727").some,a=n("a640"),o=n("ae40"),u=a("some"),i=o("some");c({target:"Array",proto:!0,forced:!u||!i},{some:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4d5a":function(t,e,n){"use strict";n("5917")},5794:function(t,e,n){"use strict";var c=n("7a23"),r=Object(c["N"])("data-v-caacf090");Object(c["w"])("data-v-caacf090");var a={class:"row text-caption wrap"},o=Object(c["h"])("div",{class:"icon"},"info",-1),u=Object(c["g"])("â€¦");Object(c["u"])();var i=r((function(t,e,n,r,i,s){return Object(c["t"])(),Object(c["d"])("div",a,[o,t.any?(Object(c["t"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["z"])(t.translated,(function(t,e){return Object(c["t"])(),Object(c["d"])(c["a"],{key:e},[t.length?(Object(c["t"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["z"])(t,(function(t){return Object(c["t"])(),Object(c["d"])("p",{key:t+"--"+e,class:"colored-dot-"+e},Object(c["D"])(t),3)})),128)):Object(c["e"])("",!0)],64)})),128)):(Object(c["t"])(),Object(c["d"])(c["a"],{key:1},[u],64))])})),s=(n("4de4"),n("4160"),n("d81d"),n("45fc"),n("4fad"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0"),n("2909")),l=n("3835"),b=n("b85c"),d=Object(c["i"])({name:"Context",props:{translation:{type:Object,default:function(){return{}}},blocks:{type:Array,default:function(){return[]}}},setup:function(t){var e=Object(c["l"])("context",{}),n=Object(c["b"])((function(){var e,n={},c=Object(b["a"])(t.blocks);try{for(c.s();!(e=c.n()).done;){var r=e.value.state,a=null===r||void 0===r?void 0:r.conditions;a&&Object.entries(a).forEach((function(t){var e=Object(l["a"])(t,2),c=e[0],r=e[1];return Object.entries(r).forEach((function(t){var e=Object(l["a"])(t,1),r=e[0];n[c]||(n[c]=new Set),n[c].add(r)}))}))}}catch(o){c.e(o)}finally{c.f()}return n}));function r(t,e){return(null===t||void 0===t?void 0:t[e])||e}var a=Object(c["b"])((function(){return Object.entries(e.value).map((function(e){var c=Object(l["a"])(e,2),a=c[0],o=c[1];return Object(s["a"])(o).filter((function(t){var e;return!(null!==(e=n.value[a])&&void 0!==e&&e.has(t))})).map((function(e){var n;return r(null===(n=t.translation)||void 0===n?void 0:n[a],e)}))}))})),o=Object(c["b"])((function(){return a.value.some((function(t){return null===t||void 0===t?void 0:t.length}))}));return{translated:a,any:o}}});n("4d5a");d.render=i,d.__scopeId="data-v-caacf090";e["a"]=d},5917:function(t,e,n){},"72e9":function(t,e,n){"use strict";var c=n("7a23"),r=Object(c["N"])("data-v-354bd589"),a=r((function(t,e,n,r,a,o){var u=Object(c["B"])("VState");return t.state?Object(c["M"])((Object(c["t"])(),Object(c["d"])("button",{key:0,class:["small",{disabled:t.disabled,glossed:t.glossed}],onClick:e[2]||(e[2]=function(){return t.move&&t.move.apply(t,arguments)})},[Object(c["h"])(u,{glossed:t.glossed,state:t.state,onText:e[1]||(e[1]=function(e){return t.text=e})},null,8,["glossed","state"])],2)),[[c["I"],t.text]]):Object(c["e"])("",!0)})),o=(n("c975"),n("af66")),u=n("7ec3"),i=Object(c["i"])({name:"Block",components:{VState:o["a"]},props:{block:{type:Array,default:void 0},glossed:Boolean},emits:["update:modelValue"],setup:function(t){var e=Object(c["y"])(),n=Object(c["b"])((function(){var t;return!(null!==(t=e.value)&&void 0!==t&&t.transition)})),r=Object(c["y"])(""),a=Object(c["l"])("context",{});function o(t){var n;Object(c["E"])(t)!==Object(c["E"])(e.value)&&(Object(u["a"])(a,null===(n=e.value)||void 0===n?void 0:n.conditions,!1),Object(u["a"])(a,null===t||void 0===t?void 0:t.conditions,!0),e.value=t)}function i(){var r,i;if(!n.value){var s,l=null===(r=e.value)||void 0===r?void 0:r.transition,b=t.block;if("next"===l){var d=e.value?b.indexOf(Object(c["E"])(e.value)):-1;s=b[(d+1)%b.length]}else l&&(s=Object(u["d"])(l,b,a.value));o(s),Object(u["b"])(null===(i=s)||void 0===i?void 0:i.conditions,a.value)[0]<0&&(e.value=void 0)}}return Object(c["J"])(a,(function(e){var n=Object(u["d"])(void 0,t.block,e);o(n)}),{immediate:!0,deep:!0}),{move:i,state:e,disabled:n,text:r}}});n("92f8");i.render=a,i.__scopeId="data-v-354bd589";e["a"]=i},"7ec3":function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return u})),n.d(e,"a",(function(){return i}));n("4160"),n("d81d"),n("4fad"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0");var c=n("3835");function r(){return{texts:[{plain:"new state"}],transition:"next",conditions:{}}}function a(t,e){e&&(t.value={},e.forEach((function(e){var n=e.entity;return t.value[n]=new Set})))}function o(t,e){if(!t)return[1,0];for(var n=0,r=0,a=0,o=Object.entries(t);a<o.length;a++)for(var u=Object(c["a"])(o[a],2),i=u[0],s=u[1],l=0,b=Object.entries(s);l<b.length;l++){var d,O=Object(c["a"])(b[l],2),j=O[0],f=O[1],v=null===(d=e[i])||void 0===d?void 0:d.has(j);if(!f&&!v)return[-1,0];v&&(n+=1),r+=1}return[n/(r||1),r]}function u(t,e,n){var r,a,u=-1,i=0,s=null!==(r=null===t||void 0===t?void 0:t.map((function(t){return e[t]})))&&void 0!==r?r:e;return s.forEach((function(t){var e=o(t.conditions,n),r=Object(c["a"])(e,2),s=r[0],l=r[1];(1===u?1===s&&l>i:s>u)&&(a=t,u=s,i=l)})),a}function i(t,e,n){e&&t.value&&Object.entries(e).forEach((function(e){var r=Object(c["a"])(e,2),a=r[0],o=r[1];return Object.entries(o).forEach((function(e){var r=Object(c["a"])(e,2),o=r[0],u=r[1],i=t.value[a];u&&i&&(n?i.add(o):i.delete(o))}))}))}},"8b20":function(t,e,n){},"92f8":function(t,e,n){"use strict";n("3b5b")},a15b:function(t,e,n){"use strict";var c=n("23e7"),r=n("44ad"),a=n("fc6a"),o=n("a640"),u=[].join,i=r!=Object,s=o("join",",");c({target:"Array",proto:!0,forced:i||!s},{join:function(t){return u.call(a(this),void 0===t?",":t)}})},a8e9:function(t,e,n){"use strict";n("c5ea")},af66:function(t,e,n){"use strict";var c=n("7a23"),r=Object(c["N"])("data-v-661aca89");Object(c["w"])("data-v-661aca89");var a={class:"segments"},o={class:"row dashes"};Object(c["u"])();var u=r((function(t,e,n,r,u,i){return Object(c["t"])(),Object(c["d"])("div",{class:["display row",{glossed:t.canGloss}]},[Object(c["h"])("div",a,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.types,(function(e,n){return Object(c["t"])(),Object(c["d"])("p",{key:e,class:"text-"+e},[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.texts[n],(function(e,n){return Object(c["t"])(),Object(c["d"])("span",{key:n,class:t.textColors[n]},Object(c["D"])(e),3)})),128))],2)})),128))]),Object(c["h"])("div",o,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.dashColors,(function(t,e){return Object(c["t"])(),Object(c["d"])("p",{key:e,class:t},null,2)})),128))])],2)})),i=(n("4de4"),n("c975"),n("a15b"),n("d81d"),n("45fc"),n("4fad"),n("b64b"),n("07ac"),n("3835")),s=Object(c["i"])({name:"State",props:{state:{type:Object,default:function(){return{}}},glossed:{type:Boolean,default:!1}},emits:["text"],setup:function(t,e){var n=e.emit,r=Object(c["l"])("context",{}),a=Object(c["b"])((function(){return Object.keys(r.value)})),o=Object(c["b"])((function(){return t.glossed&&t.state.texts.some((function(t){var e=t.ipa,n=t.gloss;return e||n}))})),u=Object(c["b"])((function(){return o.value?["ipa","gloss"]:["plain"]})),s=Object(c["b"])((function(){return u.value.map((function(e){var n;return null===(n=t.state.texts)||void 0===n?void 0:n.map((function(t){return t[e]}))}))}));Object(c["J"])(s,(function(t){if(t){var e=t.map((function(t){return null===t||void 0===t?void 0:t.join("")})),c=1===e.length?e[0]:e.join("\n");n("text",c)}}),{immediate:!0,deep:!0});var l=Object(c["b"])((function(){return t.state.texts.map((function(t){var e=t.entity;return null!==e&&void 0!==e?e:""})).map((function(t){return a.value.indexOf(t)})).map((function(t){return"colored-"+t}))})),b=Object(c["b"])((function(){return t.state.transition&&t.state.conditions?Object.entries(t.state.conditions).filter((function(t){var e=Object(i["a"])(t,2),n=e[1];return Object.values(n).some((function(t){return t}))})).map((function(t){var e=Object(i["a"])(t,1),n=e[0];return a.value.indexOf(n)})).map((function(t){return"colored-back-"+t})):[]}));return{types:u,texts:s,canGloss:o,textColors:l,dashColors:b}}});n("293e");s.render=u,s.__scopeId="data-v-661aca89";e["a"]=s},b64b:function(t,e,n){var c=n("23e7"),r=n("7b0b"),a=n("df75"),o=n("d039"),u=o((function(){a(1)}));c({target:"Object",stat:!0,forced:u},{keys:function(t){return a(r(t))}})},c5ea:function(t,e,n){},c975:function(t,e,n){"use strict";var c=n("23e7"),r=n("4d64").indexOf,a=n("a640"),o=n("ae40"),u=[].indexOf,i=!!u&&1/[1].indexOf(1,-0)<0,s=a("indexOf"),l=o("indexOf",{ACCESSORS:!0,1:0});c({target:"Array",proto:!0,forced:i||!s||!l},{indexOf:function(t){return i?u.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},d58f:function(t,e,n){var c=n("1c0b"),r=n("7b0b"),a=n("44ad"),o=n("50c4"),u=function(t){return function(e,n,u,i){c(n);var s=r(e),l=a(s),b=o(s.length),d=t?b-1:0,O=t?-1:1;if(u<2)while(1){if(d in l){i=l[d],d+=O;break}if(d+=O,t?d<0:b<=d)throw TypeError("Reduce of empty array with no initial value")}for(;t?d>=0:b>d;d+=O)d in l&&(i=n(i,l[d],d,s));return i}};t.exports={left:u(!1),right:u(!0)}},d9c7:function(t,e,n){"use strict";var c=n("7a23"),r={key:0,class:"col"},a={key:0},o={key:1,class:"highlight-font"},u={key:2},i={key:3,class:"text-ipa"};function s(t,e,n,s,l,b){return t.notes.length?(Object(c["t"])(),Object(c["d"])("div",r,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.pieces,(function(t,e){return Object(c["t"])(),Object(c["d"])("p",{key:e},[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t,(function(t,e){var n=t.text,r=t.display;return Object(c["t"])(),Object(c["d"])(c["a"],{key:e},["plain"===r?(Object(c["t"])(),Object(c["d"])("span",a,Object(c["D"])(n),1)):"highlight"===r?(Object(c["t"])(),Object(c["d"])("span",o,Object(c["D"])(n),1)):"grapheme"===r?(Object(c["t"])(),Object(c["d"])("b",u,Object(c["D"])(n),1)):(Object(c["t"])(),Object(c["d"])("span",i,Object(c["D"])(n),1))],64)})),128))])})),128))])):Object(c["e"])("",!0)}n("d81d"),n("fb6a"),n("ac1f"),n("1276");var l=n("3835"),b=Object(c["i"])({props:{notes:{type:Array,default:function(){return[]}}},setup:function(t){function e(t,e,n){return t[0]===e&&t[t.length-1]===n}function n(t){for(var n=[["*","*","highlight"],["/","/","phoneme"],["<",">","grapheme"]],c=0,r=n;c<r.length;c++){var a=Object(l["a"])(r[c],3),o=a[0],u=a[1],i=a[2];if(e(t,o,u))return{text:t.slice(1,-1),display:i}}return{text:t,display:"plain"}}var r=Object(c["b"])((function(){var e=/(\/[^/]+\/|<[^<>]+>|\*[^*]+\*)/g;return t.notes.map((function(t){return t.split(e).map((function(t){return n(t)}))}))}));return{pieces:r}}});b.render=s;e["a"]=b},e459:function(t,e,n){"use strict";n("219f")}}]);
//# sourceMappingURL=chunk-bc83f286.4ff0043d.js.map