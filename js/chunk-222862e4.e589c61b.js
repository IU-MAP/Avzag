(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-222862e4"],{"04d4":function(e,t,n){"use strict";var o=n("7a23");function c(e,t,n,c,a,r){var i=Object(o["B"])("btn");return Object(o["s"])(),Object(o["d"])(i,{class:"highlight-font-alert",icon:e.icon,text:e.text,onClick:e.confirm},null,8,["icon","text","onClick"])}var a=Object(o["i"])({props:{message:{type:String,default:"Delete?"},icon:{type:String,default:"delete"},text:{type:String,default:""}},emits:["confirm"],setup:function(e,t){var n=t.emit;function o(){window.confirm(e.message)&&n("confirm")}return{confirm:o}}});a.render=c;t["a"]=a},"1e73":function(e,t,n){},"428a":function(e,t,n){"use strict";var o=n("7a23"),c={class:"row-1 wrap block-editor"};function a(e,t,n,a,r,i){var u=Object(o["B"])("ArrayControl"),l=Object(o["B"])("Context"),d=Object(o["B"])("btn"),s=Object(o["B"])("Block"),b=Object(o["B"])("EditorCard");return e.mphrase?(Object(o["s"])(),Object(o["d"])(b,{key:0,icon:"widgets",header:"Blocks"},{header:Object(o["M"])((function(){return[Object(o["h"])(u,{modelValue:e.blocks,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.blocks=t}),item:e.block,"onUpdate:item":t[2]||(t[2]=function(t){return e.block=t}),add:function(){return[e.newState()]},copy:"",shift:"",remove:""},null,8,["modelValue","item","add"])]})),default:Object(o["M"])((function(){return[Object(o["h"])(l,{translation:e.phrase.id?null:e.phrase.context},null,8,["translation"]),Object(o["h"])("div",c,[(Object(o["s"])(!0),Object(o["d"])(o["a"],null,Object(o["z"])(e.blocks,(function(t,n){return Object(o["s"])(),Object(o["d"])("div",{key:n+"--"+Math.random(),class:"row"},[Object(o["h"])(d,{icon:"edit","is-on":e.block===t,onClick:function(n){return e.block=t}},null,8,["is-on","onClick"]),Object(o["h"])(s,{block:t},null,8,["block"])])})),128))])]})),_:1})):Object(o["e"])("",!0)}var r=n("b5cc"),i=n("7694"),u=n("5794"),l=n("72e9"),d=n("7ec3"),s=Object(o["i"])({name:"OrderEditor",components:{ArrayControl:r["a"],EditorCard:i["a"],Context:u["a"],Block:l["a"]},props:{modelValue:{type:Array,default:void 0},phrase:{type:Object,default:void 0}},emits:["update:modelValue","update:phrase"],setup:function(e,t){var n=t.emit,c=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),a=Object(o["b"])({get:function(){return e.phrase},set:function(e){return n("update:modelValue",e)}}),r=Object(o["b"])({get:function(){return a.value.blocks},set:function(e){return a.value.blocks=e}});return{mphrase:a,blocks:r,block:c,newState:d["e"]}}});s.render=a;t["a"]=s},7694:function(e,t,n){"use strict";var o=n("7a23"),c=Object(o["P"])("data-v-03976a61");Object(o["v"])("data-v-03976a61");var a={class:"col"},r={class:"row"},i={class:"icon"},u={class:"flex"},l=Object(o["h"])("hr",null,null,-1),d={key:0,class:"text-caption text-faded"},s={class:"col"};Object(o["t"])();var b=c((function(e,t,n,c,b,O){return Object(o["s"])(),Object(o["d"])("div",a,[Object(o["h"])("div",r,[Object(o["h"])("p",i,Object(o["D"])(e.icon),1),Object(o["h"])("h2",u,Object(o["D"])(e.header),1),Object(o["A"])(e.$slots,"header")]),l,e.caption?(Object(o["s"])(),Object(o["d"])("p",d,[Object(o["A"])(e.$slots,"caption")])):Object(o["e"])("",!0),Object(o["h"])("div",s,[Object(o["A"])(e.$slots,"default")])])})),O=Object(o["i"])({name:"EditorCard",props:{button:{type:String,default:"add"},icon:{type:String,default:""},header:{type:String,default:""}},emits:["action"],setup:function(e,t){var n=t.emit,o=t.slots;return{emit:n,caption:o.caption}}});n("c714");O.render=b,O.__scopeId="data-v-03976a61";t["a"]=O},9362:function(e,t,n){"use strict";var o=n("7a23"),c={key:0,class:"block col-2"},a={class:"row-1 wrap block-editor"},r={key:0,class:"icon highlight-font"};function i(e,t,n,i,u,l){var d=Object(o["B"])("toggle"),s=Object(o["B"])("ArrayControl"),b=Object(o["B"])("VState"),O=Object(o["B"])("EditorCard"),f=Object(o["B"])("TextsEditor"),j=Object(o["B"])("ConditionsEditor"),p=Object(o["B"])("TransitionEditor");return e.block?(Object(o["s"])(),Object(o["d"])("div",c,[Object(o["h"])(O,{icon:"account_tree",header:"States"},{header:Object(o["M"])((function(){return[Object(o["h"])(d,{modelValue:e.glossed,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.glossed=t}),icon:"layers"},null,8,["modelValue"]),Object(o["h"])(s,{modelValue:e.block,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.block=t}),item:e.state,"onUpdate:item":t[3]||(t[3]=function(t){return e.state=t}),add:e.newState,copy:"",shift:"",remove:""},null,8,["modelValue","item","add"])]})),default:Object(o["M"])((function(){return[Object(o["h"])("div",a,[(Object(o["s"])(!0),Object(o["d"])(o["a"],null,Object(o["z"])(e.block,(function(t,n){return Object(o["s"])(),Object(o["d"])("button",{key:n,class:"row fit-h",onClick:function(n){return e.state=t}},[e.state===t?(Object(o["s"])(),Object(o["d"])("p",r,"edit")):Object(o["e"])("",!0),Object(o["h"])(b,{state:t,glossed:e.glossed},null,8,["state","glossed"])],8,["onClick"])})),128))])]})),_:1}),e.state?(Object(o["s"])(),Object(o["d"])(o["a"],{key:0},[Object(o["h"])(f,{modelValue:e.state.texts,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.state.texts=t})},null,8,["modelValue"]),Object(o["h"])(j,{modelValue:e.state.conditions,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.state.conditions=t})},null,8,["modelValue"]),Object(o["h"])(p,{modelValue:e.state.transition,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.state.transition=t}),states:e.block},null,8,["modelValue","states"])],64)):Object(o["e"])("",!0)])):Object(o["e"])("",!0)}var u=n("b5cc"),l=n("7694"),d=Object(o["P"])("data-v-6cb03aac");Object(o["v"])("data-v-6cb03aac");var s=Object(o["g"])("TODO brief explanation"),b={class:"row wrap"};Object(o["t"])();var O=d((function(e,t,n,c,a,r){var i=Object(o["B"])("btn"),u=Object(o["B"])("EditorCard");return Object(o["s"])(),Object(o["d"])(u,{icon:"tune",header:"conditions"},Object(o["f"])({caption:d((function(){return[s]})),default:d((function(){return[Object(o["h"])("div",b,[(Object(o["s"])(!0),Object(o["d"])(o["a"],null,Object(o["z"])(e.tags,(function(t,n){var c=t.entity,a=t.tag,r=t.color,i=t.icon,u=t.flag;return Object(o["s"])(),Object(o["d"])("button",{key:c+"--"+a,onClick:function(t){return e.toggle(n)}},[void 0!==u?(Object(o["s"])(),Object(o["d"])("p",{key:0,class:["icon","colored-"+r]},Object(o["D"])(i),3)):Object(o["e"])("",!0),Object(o["h"])("p",{class:"colored-dot-"+r},Object(o["D"])(a),3)],8,["onClick"])})),128))])]})),_:2},[e.conditions?{name:"header",fn:d((function(){return[Object(o["h"])(i,{icon:"clear",onClick:t[1]||(t[1]=function(t){return e.conditions={}})})]}))}:void 0]),1024)})),f=(n("5db7"),n("d81d"),n("73d9"),n("b64b"),n("3835")),j=Object(o["i"])({name:"ConditionsEditor",components:{EditorCard:l["a"]},props:{modelValue:{type:Object,default:void 0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,c=Object(o["l"])("contextSource",{}),a=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),r=Object(o["y"])([]);function i(e){if(r.value){var t=r.value[e],n=t.flag,o=t.entity,c=t.tag;void 0===n?(a.value[o]||(a.value[o]={}),a.value[o][c]=!0):n?a.value[o][c]=!1:(delete a.value[o][c],Object.keys(a.value[o]).length||delete a.value[o])}}return Object(o["K"])([c,a],(function(e){var t=Object(f["a"])(e,2),n=t[0],o=t[1];n&&o&&(r.value=n.flatMap((function(e,t){var n=e.entity,c=e.tags;return c.map((function(e){var c,a=null===(c=o[n])||void 0===c?void 0:c[e],r=void 0===a?"arrow_right":a?"send":"lock";return{tag:e,entity:n,icon:r,color:t,flag:a}}))})))}),{immediate:!0,deep:!0}),{context:c,conditions:a,tags:r,toggle:i}}});n("ed81");j.render=O,j.__scopeId="data-v-6cb03aac";var p=j,m=(n("caad"),n("2532"),{class:"row"}),v={key:0,class:"row wrap"},h={key:0,class:"icon highlight-font"};function y(e,t,n,c,a,r){var i=Object(o["B"])("btn"),u=Object(o["B"])("VState"),l=Object(o["B"])("EditorCard");return Object(o["s"])(),Object(o["d"])(l,{icon:"alt_route",header:"transition"},{header:Object(o["M"])((function(){return[Object(o["h"])("div",m,[Object(o["h"])(i,{icon:"block","is-on":0===e.mode,onClick:t[1]||(t[1]=function(t){return e.mode=0})},null,8,["is-on"]),Object(o["h"])(i,{icon:"arrow_forward","is-on":1===e.mode,onClick:t[2]||(t[2]=function(t){return e.mode=1})},null,8,["is-on"]),Object(o["h"])(i,{icon:"star_outline","is-on":2===e.mode,onClick:t[3]||(t[3]=function(t){return e.mode=2})},null,8,["is-on"])])]})),default:Object(o["M"])((function(){return[2===e.mode?(Object(o["s"])(),Object(o["d"])("div",v,[(Object(o["s"])(!0),Object(o["d"])(o["a"],null,Object(o["z"])(e.states,(function(t,n){return Object(o["s"])(),Object(o["d"])("button",{key:n,class:"row",onClick:function(t){return e.toggle(n)}},[e.transition.includes(n)?(Object(o["s"])(),Object(o["d"])("p",h," star_outline ")):Object(o["e"])("",!0),Object(o["h"])(u,{state:t},null,8,["state"])],8,["onClick"])})),128))])):Object(o["e"])("",!0)]})),_:1})}n("c975"),n("a434");var g=n("af66"),k=Object(o["i"])({name:"TransitionEditor",components:{EditorCard:l["a"],VState:g["a"]},props:{modelValue:{type:[Array,String],default:void 0},states:{type:Array,default:function(){return[]}}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,c=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),a=Object(o["b"])({get:function(){return c.value?"next"===c.value?1:2:0},set:function(e){return c.value=e?1===e?"next":[]:void 0}});function r(e){if(Array.isArray(c.value)){var t=c.value.indexOf(e);t<0?c.value.push(e):c.value.splice(t,1)}}return{transition:c,mode:a,toggle:r}}});k.render=y;var V=k,C={class:"col"};function x(e,t,n,c,a,r){var i=Object(o["B"])("ArrayControl"),u=Object(o["B"])("btn"),l=Object(o["B"])("EditorCard");return Object(o["s"])(),Object(o["d"])(l,{icon:"format_color_text",header:"texts"},{header:Object(o["M"])((function(){return[Object(o["h"])(i,{modelValue:e.texts,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.texts=t}),add:{}},null,8,["modelValue"])]})),default:Object(o["M"])((function(){return[Object(o["h"])("div",C,[(Object(o["s"])(!0),Object(o["d"])(o["a"],null,Object(o["z"])(e.texts,(function(t,n){return Object(o["s"])(),Object(o["d"])("div",{key:n,class:"row"},[Object(o["h"])(u,{icon:"palette",onClick:function(t){return e.toggle(n)}},null,8,["onClick"]),Object(o["h"])("div",{class:["row",e.colors[n]]},[Object(o["N"])(Object(o["h"])("input",{"onUpdate:modelValue":function(e){return t.plain=e},type:"text",placeholder:"plain"},null,8,["onUpdate:modelValue"]),[[o["I"],t.plain]]),Object(o["N"])(Object(o["h"])("input",{"onUpdate:modelValue":function(e){return t.ipa=e},class:"text-ipa",type:"text",placeholder:"ipa"},null,8,["onUpdate:modelValue"]),[[o["I"],t.ipa]]),Object(o["N"])(Object(o["h"])("input",{"onUpdate:modelValue":function(e){return t.gloss=e},type:"text",placeholder:"gloss"},null,8,["onUpdate:modelValue"]),[[o["I"],t.gloss]])],2),Object(o["h"])(u,{icon:"clear",onClick:function(t){return e.texts.splice(n,1)}},null,8,["onClick"])])})),128))])]})),_:1})}var w=Object(o["i"])({name:"TextsEditor",components:{EditorCard:l["a"],ArrayControl:u["a"]},props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,c=Object(o["l"])("context",{}),a=Object(o["b"])((function(){return Object.keys(c.value)})),r=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),i=Object(o["b"])((function(){var e;return null===(e=r.value)||void 0===e?void 0:e.map((function(e){var t=e.entity;return a.value.indexOf(null!==t&&void 0!==t?t:"")})).map((function(e){return"colored-"+e}))}));function u(e){var t,n=r.value[e],o=a.value.indexOf(null!==(t=n.entity)&&void 0!==t?t:"");n.entity=a.value[o+1]}return{texts:r,colors:i,toggle:u}}});w.render=x;var S=w,B=n("7ec3"),E=Object(o["i"])({name:"BlockEditor",components:{ArrayControl:u["a"],EditorCard:l["a"],ConditionsEditor:p,TransitionEditor:V,VState:g["a"],TextsEditor:S},props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,c=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),a=Object(o["y"])(void 0),r=Object(o["y"])(!1);return{newState:B["e"],glossed:r,state:a,block:c}}});E.render=i;t["a"]=E},9392:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return u}));var o=n("7a23"),c={defaultFile:{},storage:"",filename:""},a=Object(o["y"])();function r(){a.value=JSON.parse(JSON.stringify(c.defaultFile))}function i(){localStorage[c.storage]=JSON.stringify(a.value)}function u(e){Object.assign(c,e);try{a.value=JSON.parse(localStorage[c.storage])}catch(t){r()}return Object(o["K"])(a,i,{deep:!0}),a}},a434:function(e,t,n){"use strict";var o=n("23e7"),c=n("23cb"),a=n("a691"),r=n("50c4"),i=n("7b0b"),u=n("65f0"),l=n("8418"),d=n("1dde"),s=n("ae40"),b=d("splice"),O=s("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,j=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!b||!O},{splice:function(e,t){var n,o,d,s,b,O,v=i(this),h=r(v.length),y=c(e,h),g=arguments.length;if(0===g?n=o=0:1===g?(n=0,o=h-y):(n=g-2,o=j(f(a(t),0),h-y)),h+n-o>p)throw TypeError(m);for(d=u(v,o),s=0;s<o;s++)b=y+s,b in v&&l(d,s,v[b]);if(d.length=o,n<o){for(s=y;s<h-o;s++)b=s+o,O=s+n,b in v?v[O]=v[b]:delete v[O];for(s=h;s>h-o+n;s--)delete v[s-1]}else if(n>o)for(s=h-o;s>y;s--)b=s+o-1,O=s+n-1,b in v?v[O]=v[b]:delete v[O];for(s=0;s<n;s++)v[s+y]=arguments[s+2];return v.length=h-o+n,d}})},b5cc:function(e,t,n){"use strict";var o=n("7a23"),c={class:"row"},a={key:1,class:"row-0"};function r(e,t,n,r,i,u){var l=Object(o["B"])("btn"),d=Object(o["B"])("ConfirmButton");return Object(o["s"])(),Object(o["d"])("div",c,[void 0!==e.add?(Object(o["s"])(),Object(o["d"])(l,{key:0,icon:"add",onClick:e.action.add},null,8,["onClick"])):Object(o["e"])("",!0),e.array&&e.item?(Object(o["s"])(),Object(o["d"])(o["a"],{key:1},[e.copy?(Object(o["s"])(),Object(o["d"])(l,{key:0,icon:"queue",onClick:e.action.copy},null,8,["onClick"])):Object(o["e"])("",!0),e.shift?(Object(o["s"])(),Object(o["d"])("div",a,[Object(o["h"])(l,{icon:"keyboard_arrow_up",onClick:t[1]||(t[1]=function(t){return e.action.shift(-1)})}),Object(o["h"])(l,{icon:"keyboard_arrow_down",onClick:t[2]||(t[2]=function(t){return e.action.shift(1)})})])):Object(o["e"])("",!0),e.remove?(Object(o["s"])(),Object(o["d"])(d,{key:2,onConfirm:e.action.remove},null,8,["onConfirm"])):Object(o["e"])("",!0)],64)):Object(o["e"])("",!0)])}n("c975"),n("a434"),n("a9e3"),n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n("96cf");var u=n("1da1"),l=n("04d4"),d=Object(o["i"])({name:"ArrayControl",components:{ConfirmButton:l["a"]},props:{modelValue:{type:Array,default:function(){}},item:{type:Object,default:void 0},add:{type:[Number,String,Object,Function],default:void 0},copy:Boolean,shift:Boolean,remove:Boolean},emits:["update:modelValue","update:item"],setup:function(e,t){var n=t.emit,c=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}});function a(){n("update:item",c.value?c.value[c.value.length-1]:void 0)}function r(){return l.apply(this,arguments)}function l(){return l=Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.add,void 0!==!n){t.next=3;break}return t.abrupt("return");case 3:if(c.value){t.next=7;break}return c.value=[],t.next=7,Object(o["n"])();case 7:n="function"===typeof n?n():"object"===i(n)?JSON.parse(JSON.stringify(n)):n,c.value.push(n),a();case 10:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function d(){var t=JSON.parse(JSON.stringify(Object(o["E"])(e.item)));c.value.push(t),a()}function s(t){var n=c.value.length,a=e.item,r=c.value.indexOf(Object(o["E"])(a)),i=(r+t+n)%n;c.value.splice(r,1),c.value.splice(i,0,a)}function b(){var t=c.value.indexOf(Object(o["E"])(e.item));c.value.splice(t,1),a()}return Object(o["K"])(c,a,{immediate:!0}),{array:c,action:{add:r,copy:d,shift:s,remove:b}}}});d.render=r;t["a"]=d},c714:function(e,t,n){"use strict";n("1e73")},ed81:function(e,t,n){"use strict";n("f882")},f882:function(e,t,n){}}]);
//# sourceMappingURL=chunk-222862e4.e589c61b.js.map