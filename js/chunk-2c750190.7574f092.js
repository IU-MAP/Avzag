(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c750190"],{"04d4":function(e,t,n){"use strict";var o=n("7a23");function c(e,t,n,c,r,a){var u=Object(o["A"])("btn");return Object(o["r"])(),Object(o["d"])(u,{class:"highlight-font-alert",icon:e.icon,text:e.text,onClick:e.confirm},null,8,["icon","text","onClick"])}var r=Object(o["h"])({props:{message:{type:String,default:"Delete?"},icon:{type:String,default:"delete"},text:{type:String,default:""}},emits:["confirm"],setup:function(e,t){var n=t.emit;function o(){window.confirm(e.message)&&n("confirm")}return{confirm:o}}});r.render=c;t["a"]=r},"22e9":function(e,t,n){"use strict";n("2adb")},"2adb":function(e,t,n){},"428a":function(e,t,n){"use strict";var o=n("7a23"),c=Object(o["O"])("data-v-79fb7e88");Object(o["u"])("data-v-79fb7e88");var r={class:"row-1 wrap blocks"};Object(o["s"])();var a=c((function(e,t,n,a,u,i){var l=Object(o["A"])("ArrayControl"),d=Object(o["A"])("Context"),b=Object(o["A"])("btn"),s=Object(o["A"])("Block"),f=Object(o["A"])("EditorCard");return e.mphrase?(Object(o["r"])(),Object(o["d"])(f,{key:0,icon:"widgets",header:"Blocks"},{header:c((function(){return[Object(o["g"])(l,{modelValue:e.blocks,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.blocks=t}),item:e.block,"onUpdate:item":t[2]||(t[2]=function(t){return e.block=t}),add:function(){return[e.newState()]},copy:"",shift:"",remove:""},null,8,["modelValue","item","add"])]})),default:c((function(){return[Object(o["g"])(d,{translation:e.phrase.id?null:e.phrase.context},null,8,["translation"]),Object(o["g"])("div",r,[(Object(o["r"])(!0),Object(o["d"])(o["a"],null,Object(o["y"])(e.blocks,(function(t,n){return Object(o["r"])(),Object(o["d"])("div",{key:n+"--"+Math.random(),class:"row"},[Object(o["g"])(b,{icon:"edit","is-on":e.block===t,onClick:function(n){return e.block=t}},null,8,["is-on","onClick"]),Object(o["g"])(s,{block:t},null,8,["block"])])})),128))])]})),_:1})):Object(o["e"])("",!0)})),u=n("b5cc"),i=n("7694"),l=n("5794"),d=n("72e9"),b=n("7ec3"),s=Object(o["h"])({name:"OrderEditor",components:{ArrayControl:u["a"],EditorCard:i["a"],Context:l["a"],Block:d["a"]},props:{modelValue:{type:Array,default:void 0},phrase:{type:Object,default:void 0}},emits:["update:modelValue","update:phrase"],setup:function(e,t){var n=t.emit,c=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),r=Object(o["b"])({get:function(){return e.phrase},set:function(e){return n("update:modelValue",e)}}),a=Object(o["b"])({get:function(){return r.value.blocks},set:function(e){return r.value.blocks=e}});return{mphrase:r,blocks:a,block:c,newState:b["e"]}}});n("22e9");s.render=a,s.__scopeId="data-v-79fb7e88";t["a"]=s},5259:function(e,t,n){},6488:function(e,t,n){"use strict";n("5259")},7694:function(e,t,n){"use strict";var o=n("7a23"),c=Object(o["O"])("data-v-1d6d2fbe");Object(o["u"])("data-v-1d6d2fbe");var r={class:"col"},a={class:"row header"},u={class:"icon"},i={class:"flex"},l=Object(o["g"])("hr",null,null,-1),d={key:0,class:"text-caption text-faded"},b={class:"col"};Object(o["s"])();var s=c((function(e,t,n,c,s,f){return Object(o["r"])(),Object(o["d"])("div",r,[Object(o["g"])("div",a,[Object(o["g"])("p",u,Object(o["C"])(e.icon),1),Object(o["g"])("h2",i,Object(o["C"])(e.header),1),Object(o["z"])(e.$slots,"header")]),l,e.caption?(Object(o["r"])(),Object(o["d"])("p",d,[Object(o["z"])(e.$slots,"caption")])):Object(o["e"])("",!0),Object(o["g"])("div",b,[Object(o["z"])(e.$slots,"default")])])})),f=Object(o["h"])({name:"EditorCard",props:{button:{type:String,default:"add"},icon:{type:String,default:""},header:{type:String,default:""}},emits:["action"],setup:function(e,t){var n=t.emit,o=t.slots;return{emit:n,caption:o.caption}}});n("6488");f.render=s,f.__scopeId="data-v-1d6d2fbe";t["a"]=f},9362:function(e,t,n){"use strict";var o=n("7a23"),c={key:0,class:"block col-2"},r={class:"row wrap"};function a(e,t,n,a,u,i){var l=Object(o["A"])("ArrayControl"),d=Object(o["A"])("VState"),b=Object(o["A"])("EditorCard"),s=Object(o["A"])("TextsEditor"),f=Object(o["A"])("ConditionsEditor"),O=Object(o["A"])("TransitionEditor");return e.block?(Object(o["r"])(),Object(o["d"])("div",c,[Object(o["g"])(b,{icon:"account_tree",header:"States"},{header:Object(o["L"])((function(){return[Object(o["g"])(l,{modelValue:e.block,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.block=t}),item:e.state,"onUpdate:item":t[2]||(t[2]=function(t){return e.state=t}),add:e.newState,copy:"",shift:"",remove:""},null,8,["modelValue","item","add"])]})),default:Object(o["L"])((function(){return[Object(o["g"])("div",r,[(Object(o["r"])(!0),Object(o["d"])(o["a"],null,Object(o["y"])(e.block,(function(t,n){return Object(o["r"])(),Object(o["d"])("button",{key:n,class:"select-"+(e.state===t),onClick:function(n){return e.state=t}},[Object(o["g"])(d,{state:t},null,8,["state"])],10,["onClick"])})),128))])]})),_:1}),e.state?(Object(o["r"])(),Object(o["d"])(o["a"],{key:0},[Object(o["g"])(s,{modelValue:e.state.texts,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.state.texts=t})},null,8,["modelValue"]),Object(o["g"])(f,{modelValue:e.state.conditions,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.state.conditions=t})},null,8,["modelValue"]),Object(o["g"])(O,{modelValue:e.state.transition,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.state.transition=t}),states:e.block},null,8,["modelValue","states"])],64)):Object(o["e"])("",!0)])):Object(o["e"])("",!0)}var u=n("b5cc"),i=n("7694"),l=Object(o["O"])("data-v-d7cc147e");Object(o["u"])("data-v-d7cc147e");var d=Object(o["f"])("TODO brief explanation"),b={class:"row wrap"};Object(o["s"])();var s=l((function(e,t,n,c,r,a){var u=Object(o["A"])("btn"),i=Object(o["A"])("EditorCard");return Object(o["r"])(),Object(o["d"])(i,{icon:"tune",header:"conditions"},{header:l((function(){return[Object(o["g"])(u,{icon:"clear",onClick:t[1]||(t[1]=function(t){return e.conditions={}})})]})),caption:l((function(){return[d]})),default:l((function(){return[Object(o["g"])("div",b,[(Object(o["r"])(!0),Object(o["d"])(o["a"],null,Object(o["y"])(e.tags,(function(t,n){var c=t.entity,r=t.tag,a=t.color,u=t.select;return Object(o["r"])(),Object(o["d"])("button",{key:c+"--"+r,class:"select-"+u,onClick:function(t){return e.toggle(n)}},[Object(o["g"])("span",{class:a},Object(o["C"])(r),3)],10,["onClick"])})),128))])]})),_:1})})),f=(n("5db7"),n("d81d"),n("73d9"),n("b64b"),n("3835")),O=Object(o["h"])({name:"ConditionsEditor",components:{EditorCard:i["a"]},props:{modelValue:{type:Object,default:void 0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,c=Object(o["k"])("contextSource",{}),r=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),a=Object(o["x"])([]);function u(e){if(a.value){var t=a.value[e],n=t.flag,o=t.entity,c=t.tag;void 0===n?(r.value[o]||(r.value[o]={}),r.value[o][c]=!0):n?r.value[o][c]=!1:(delete r.value[o][c],Object.keys(r.value[o]).length||delete r.value[o])}}return Object(o["J"])([c,r],(function(e){var t=Object(f["a"])(e,2),n=t[0],o=t[1];n&&o&&(a.value=n.flatMap((function(e,t){var n=e.entity,c=e.tags;return c.map((function(e){var c,r=null===(c=o[n])||void 0===c?void 0:c[e];return{tag:e,entity:n,color:"colored-dot-"+t,select:void 0===r?"false":(r?"":"alt-")+"true",flag:r}}))})))}),{immediate:!0,deep:!0}),{context:c,conditions:r,tags:a,toggle:u}}});n("a83f");O.render=s,O.__scopeId="data-v-d7cc147e";var j=O,p=(n("caad"),n("2532"),{class:"row"}),m={key:0,class:"row wrap"};function v(e,t,n,c,r,a){var u=Object(o["A"])("btn"),i=Object(o["A"])("VState"),l=Object(o["A"])("EditorCard");return Object(o["r"])(),Object(o["d"])(l,{icon:"alt_route",header:"transition"},{header:Object(o["L"])((function(){return[Object(o["g"])("div",p,[Object(o["g"])(u,{icon:"block","is-on":0===e.mode,onClick:t[1]||(t[1]=function(t){return e.mode=0})},null,8,["is-on"]),Object(o["g"])(u,{icon:"arrow_forward","is-on":1===e.mode,onClick:t[2]||(t[2]=function(t){return e.mode=1})},null,8,["is-on"]),Object(o["g"])(u,{icon:"star_outline","is-on":2===e.mode,onClick:t[3]||(t[3]=function(t){return e.mode=2})},null,8,["is-on"])])]})),default:Object(o["L"])((function(){return[2===e.mode?(Object(o["r"])(),Object(o["d"])("div",m,[(Object(o["r"])(!0),Object(o["d"])(o["a"],null,Object(o["y"])(e.states,(function(t,n){return Object(o["r"])(),Object(o["d"])("button",{key:n,class:["col","select-"+e.transition.includes(n)],onClick:function(t){return e.toggle(n)}},[Object(o["g"])(i,{state:t},null,8,["state"])],10,["onClick"])})),128))])):Object(o["e"])("",!0)]})),_:1})}n("c975"),n("a434");var g=n("af66"),y=Object(o["h"])({name:"TransitionEditor",components:{EditorCard:i["a"],VState:g["a"]},props:{modelValue:{type:[Array,String],default:void 0},states:{type:Array,default:function(){return[]}}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,c=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),r=Object(o["b"])({get:function(){return c.value?"next"===c.value?1:2:0},set:function(e){return c.value=e?1===e?"next":[]:void 0}});function a(e){if(Array.isArray(c.value)){var t=c.value.indexOf(e);t<0?c.value.push(e):c.value.splice(t,1)}}return{transition:c,mode:r,toggle:a}}});y.render=v;var k=y,h={class:"col"};function C(e,t,n,c,r,a){var u=Object(o["A"])("ArrayControl"),i=Object(o["A"])("btn"),l=Object(o["A"])("EditorCard");return Object(o["r"])(),Object(o["d"])(l,{icon:"format_color_text",header:"texts"},{header:Object(o["L"])((function(){return[Object(o["g"])(u,{modelValue:e.texts,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.texts=t}),add:{}},null,8,["modelValue"])]})),default:Object(o["L"])((function(){return[Object(o["g"])("div",h,[(Object(o["r"])(!0),Object(o["d"])(o["a"],null,Object(o["y"])(e.texts,(function(t,n){return Object(o["r"])(),Object(o["d"])("div",{key:n,class:"row"},[Object(o["g"])(i,{icon:"palette",onClick:function(t){return e.toggle(n)}},null,8,["onClick"]),Object(o["g"])("div",{class:["row",e.colors[n]]},[Object(o["M"])(Object(o["g"])("input",{"onUpdate:modelValue":function(e){return t.plain=e},type:"text",placeholder:"plain"},null,8,["onUpdate:modelValue"]),[[o["H"],t.plain]]),Object(o["M"])(Object(o["g"])("input",{"onUpdate:modelValue":function(e){return t.ipa=e},class:"text-ipa",type:"text",placeholder:"ipa"},null,8,["onUpdate:modelValue"]),[[o["H"],t.ipa]]),Object(o["M"])(Object(o["g"])("input",{"onUpdate:modelValue":function(e){return t.gloss=e},type:"text",placeholder:"gloss"},null,8,["onUpdate:modelValue"]),[[o["H"],t.gloss]])],2),Object(o["g"])(i,{icon:"clear",onClick:function(t){return e.texts.splice(n,1)}},null,8,["onClick"])])})),128))])]})),_:1})}var V=Object(o["h"])({name:"TextsEditor",components:{EditorCard:i["a"],ArrayControl:u["a"]},props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,c=Object(o["k"])("context",{}),r=Object(o["b"])((function(){return Object.keys(c.value)})),a=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),u=Object(o["b"])((function(){var e;return null===(e=a.value)||void 0===e?void 0:e.map((function(e){var t=e.entity;return r.value.indexOf(null!==t&&void 0!==t?t:"")})).map((function(e){return"colored-"+e}))}));function i(e){var t,n=a.value[e],o=r.value.indexOf(null!==(t=n.entity)&&void 0!==t?t:"");n.entity=r.value[o+1]}return{texts:a,colors:u,toggle:i}}});V.render=C;var x=V,w=n("7ec3"),A=Object(o["h"])({name:"BlockEditor",components:{ArrayControl:u["a"],EditorCard:i["a"],ConditionsEditor:j,TransitionEditor:k,VState:g["a"],TextsEditor:x},props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,c=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),r=Object(o["x"])(void 0);return{newState:w["e"],state:r,block:c}}});A.render=a;t["a"]=A},9392:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return i}));var o=n("7a23"),c={defaultFile:{},storage:"",filename:""},r=Object(o["x"])();function a(){r.value=JSON.parse(JSON.stringify(c.defaultFile))}function u(){localStorage[c.storage]=JSON.stringify(r.value)}function i(e){Object.assign(c,e);try{r.value=JSON.parse(localStorage[c.storage])}catch(t){a()}return Object(o["J"])(r,u,{deep:!0}),r}},a434:function(e,t,n){"use strict";var o=n("23e7"),c=n("23cb"),r=n("a691"),a=n("50c4"),u=n("7b0b"),i=n("65f0"),l=n("8418"),d=n("1dde"),b=n("ae40"),s=d("splice"),f=b("splice",{ACCESSORS:!0,0:0,1:2}),O=Math.max,j=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!s||!f},{splice:function(e,t){var n,o,d,b,s,f,v=u(this),g=a(v.length),y=c(e,g),k=arguments.length;if(0===k?n=o=0:1===k?(n=0,o=g-y):(n=k-2,o=j(O(r(t),0),g-y)),g+n-o>p)throw TypeError(m);for(d=i(v,o),b=0;b<o;b++)s=y+b,s in v&&l(d,b,v[s]);if(d.length=o,n<o){for(b=y;b<g-o;b++)s=b+o,f=b+n,s in v?v[f]=v[s]:delete v[f];for(b=g;b>g-o+n;b--)delete v[b-1]}else if(n>o)for(b=g-o;b>y;b--)s=b+o-1,f=b+n-1,s in v?v[f]=v[s]:delete v[f];for(b=0;b<n;b++)v[b+y]=arguments[b+2];return v.length=g-o+n,d}})},a83f:function(e,t,n){"use strict";n("b56e")},b56e:function(e,t,n){},b5cc:function(e,t,n){"use strict";var o=n("7a23"),c={class:"row"};function r(e,t,n,r,a,u){var i=Object(o["A"])("btn"),l=Object(o["A"])("ConfirmButton");return Object(o["r"])(),Object(o["d"])("div",c,[void 0!==e.add?(Object(o["r"])(),Object(o["d"])(i,{key:0,icon:"add",onClick:e.action.add},null,8,["onClick"])):Object(o["e"])("",!0),e.array&&e.item?(Object(o["r"])(),Object(o["d"])(o["a"],{key:1},[e.copy?(Object(o["r"])(),Object(o["d"])(i,{key:0,icon:"queue",onClick:e.action.copy},null,8,["onClick"])):Object(o["e"])("",!0),e.shift?(Object(o["r"])(),Object(o["d"])(i,{key:1,icon:"keyboard_arrow_right",onClick:t[1]||(t[1]=function(t){return e.action.shift(1)})})):e.shiftTwo?(Object(o["r"])(),Object(o["d"])(o["a"],{key:2},[Object(o["g"])(i,{icon:"keyboard_arrow_up",onClick:t[2]||(t[2]=function(t){return e.action.shift(-1)})}),Object(o["g"])(i,{icon:"keyboard_arrow_down",onClick:t[3]||(t[3]=function(t){return e.action.shift(1)})})],64)):Object(o["e"])("",!0),e.remove?(Object(o["r"])(),Object(o["d"])(l,{key:3,onConfirm:e.action.remove},null,8,["onConfirm"])):Object(o["e"])("",!0)],64)):Object(o["e"])("",!0)])}n("c975"),n("a434"),n("a9e3"),n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}n("96cf");var u=n("1da1"),i=n("04d4"),l=Object(o["h"])({name:"ArrayControl",components:{ConfirmButton:i["a"]},props:{modelValue:{type:Array,default:function(){}},item:{type:Object,default:void 0},add:{type:[Number,String,Object,Function],default:void 0},copy:Boolean,shift:Boolean,shiftTwo:Boolean,remove:Boolean},emits:["update:modelValue","update:item"],setup:function(e,t){var n=t.emit,c=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}});function r(){n("update:item",c.value?c.value[c.value.length-1]:void 0)}function i(){return l.apply(this,arguments)}function l(){return l=Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.add,void 0!==!n){t.next=3;break}return t.abrupt("return");case 3:if(c.value){t.next=7;break}return c.value=[],t.next=7,Object(o["m"])();case 7:n="function"===typeof n?n():"object"===a(n)?JSON.parse(JSON.stringify(n)):n,c.value.push(n),r();case 10:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function d(){var t=JSON.parse(JSON.stringify(Object(o["D"])(e.item)));c.value.push(t),r()}function b(t){var n=c.value.length,r=e.item,a=c.value.indexOf(Object(o["D"])(r)),u=(a+t+n)%n;c.value.splice(a,1),c.value.splice(u,0,r)}function s(){var t=c.value.indexOf(Object(o["D"])(e.item));c.value.splice(t,1),r()}return Object(o["J"])(c,r,{immediate:!0}),{array:c,action:{add:i,copy:d,shift:b,remove:s}}}});l.render=r;t["a"]=l}}]);