{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/Phrasebook/State/index.vue?4761","webpack:///./src/Phrasebook/Context/index.vue?8638","webpack:///./src/Phrasebook/Block/index.vue?d687","webpack:///./node_modules/core-js/modules/es.array.some.js","webpack:///./src/Phrasebook/Context/index.vue","webpack:///./src/Phrasebook/Context/index.vue?ec8a","webpack:///./src/Phrasebook/Context/index.vue?3f4e","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/Phrasebook/Block/index.vue","webpack:///./src/Phrasebook/Block/index.vue?471d","webpack:///./src/Phrasebook/Block/index.vue?892b","webpack:///./src/Phrasebook/utils.ts","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./src/Phrasebook/State/index.vue","webpack:///./src/Phrasebook/State/index.vue?b225","webpack:///./src/Phrasebook/State/index.vue?b39a","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./node_modules/core-js/modules/es.array.index-of.js"],"names":["$","$values","values","target","stat","O","_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","$some","some","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","proto","forced","callbackfn","this","arguments","length","undefined","class","any","translated","tags","i","tag","key","name","props","translation","type","default","blocks","setup","context","explicit","result","state","condition","conditions","entries","forEach","entity","Set","add","translate","d","k","value","map","filter","has","render","__scopeId","module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","trim","disabled","glossed","move","text","$event","components","VState","block","Boolean","emits","emit","immediate","transition","switchState","nextState","states","indexOf","deep","newState","texts","plain","createContext","source","checkConditions","score","count","flag","findBestState","indexes","candidates","candidate","s","c","applyConditions","additive","set","delete","DESCRIPTORS","global","isForced","redefine","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","NUMBER","NativeNumber","NumberPrototype","prototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","index","code","it","charCodeAt","NaN","slice","parseInt","NumberWrapper","dummy","valueOf","call","keys","split","j","constructor","canGloss","types","textColors","dashColors","entities","ipa","gloss","lines","t","join","e","toObject","nativeKeys","FAILS_ON_PRIMITIVES","$indexOf","nativeIndexOf","NEGATIVE_ZERO","ACCESSORS","1","searchElement","apply"],"mappings":"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","file":"js/chunk-73913484.0cecec35.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=661aca89&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=05dd3a1d&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=773bf658&lang=scss&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('some');\n\n// `Array.prototype.some` method\n// https://tc39.es/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","<template>\n  <div class=\"row text-caption wrap\">\n    <div class=\"icon\">info</div>\n    <template v-if=\"any\">\n      <template v-for=\"(tags, i) of translated\" :key=\"i\">\n        <template v-if=\"tags.length\" class=\"row-0 wrap\">\n          <p\n            v-for=\"tag in tags\"\n            :key=\"tag + '--' + i\"\n            :class=\"'colored-dot-' + i\"\n          >\n            {{ tag }}\n          </p>\n        </template>\n      </template>\n    </template>\n    <p v-else class=\"no-select\">…</p>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, inject, Ref, PropType } from \"vue\";\nimport { Context, ContextTranslation, BlockSnapshot } from \"../types\";\n\nexport default defineComponent({\n  name: \"Context\",\n  props: {\n    translation: {\n      type: Object as PropType<ContextTranslation>,\n      default: () => ({}),\n    },\n    blocks: { type: Array as PropType<BlockSnapshot[]>, default: () => [] },\n  },\n  setup(props) {\n    const context = inject(\"context\", {} as Ref<Context>);\n\n    const explicit = computed(() => {\n      const result = {} as Context;\n      for (const { state } of props.blocks) {\n        const condition = state?.conditions;\n        if (!condition) continue;\n        Object.entries(condition).forEach(([entity, tags]) =>\n          Object.entries(tags).forEach(([tag]) => {\n            if (!result[entity]) result[entity] = new Set();\n            result[entity].add(tag);\n          })\n        );\n      }\n      return result;\n    });\n\n    function translate(d: undefined | Record<string, string>, k: string) {\n      return d?.[k] || k;\n    }\n    const translated = computed(() =>\n      Object.entries(context.value).map(([entity, tags]) =>\n        [...tags]\n          .filter((tag) => !explicit.value[entity]?.has(tag))\n          .map((tag) => translate(props.translation?.[entity], tag))\n      )\n    );\n    const any = computed(() => translated.value.some((tags) => tags?.length));\n\n    return { translated, any };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\ndiv.icon {\n  font-size: map-get($font-sizes, \"small\");\n}\np:not(:last-child)::after {\n  content: \",\";\n}\n</style>\n","\nimport { computed, defineComponent, inject, Ref, PropType } from \"vue\";\nimport { Context, ContextTranslation, BlockSnapshot } from \"../types\";\n\nexport default defineComponent({\n  name: \"Context\",\n  props: {\n    translation: {\n      type: Object as PropType<ContextTranslation>,\n      default: () => ({}),\n    },\n    blocks: { type: Array as PropType<BlockSnapshot[]>, default: () => [] },\n  },\n  setup(props) {\n    const context = inject(\"context\", {} as Ref<Context>);\n\n    const explicit = computed(() => {\n      const result = {} as Context;\n      for (const { state } of props.blocks) {\n        const condition = state?.conditions;\n        if (!condition) continue;\n        Object.entries(condition).forEach(([entity, tags]) =>\n          Object.entries(tags).forEach(([tag]) => {\n            if (!result[entity]) result[entity] = new Set();\n            result[entity].add(tag);\n          })\n        );\n      }\n      return result;\n    });\n\n    function translate(d: undefined | Record<string, string>, k: string) {\n      return d?.[k] || k;\n    }\n    const translated = computed(() =>\n      Object.entries(context.value).map(([entity, tags]) =>\n        [...tags]\n          .filter((tag) => !explicit.value[entity]?.has(tag))\n          .map((tag) => translate(props.translation?.[entity], tag))\n      )\n    );\n    const any = computed(() => translated.value.some((tags) => tags?.length));\n\n    return { translated, any };\n  },\n});\n","import { render } from \"./index.vue?vue&type=template&id=05dd3a1d&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=05dd3a1d&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-05dd3a1d\"\n\nexport default script","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","<template>\n  <button\n    v-show=\"text\"\n    v-if=\"state\"\n    class=\"small\"\n    :class=\"{ disabled, glossed }\"\n    @click=\"move\"\n  >\n    <VState :glossed=\"glossed\" :state=\"state\" @text=\"text = $event\" />\n  </button>\n</template>\n\n<script lang=\"ts\">\nimport VState from \"../State/index.vue\";\n\nimport {\n  computed,\n  defineComponent,\n  inject,\n  PropType,\n  ref,\n  Ref,\n  toRaw,\n  watch,\n} from \"vue\";\nimport { Context, State } from \"../types\";\nimport { applyConditions, findBestState, checkConditions } from \"../utils\";\n\nexport default defineComponent({\n  name: \"Block\",\n  components: { VState },\n  props: {\n    block: { type: Array as PropType<State[]>, default: undefined },\n    glossed: Boolean,\n  },\n  emits: [\"update\"],\n  setup(props, { emit }) {\n    const state = ref<State>();\n    const text = ref(\"\");\n    watch(\n      [state, text],\n      ([state, text]) =>\n        emit(\"update\", {\n          state,\n          text,\n        }),\n      { immediate: true }\n    );\n    const disabled = computed(() => !state.value?.transition);\n    const context = inject(\"context\", {} as Ref<Context>);\n\n    function switchState(nextState: undefined | State) {\n      if (toRaw(nextState) === toRaw(state.value)) return;\n      applyConditions(context, state.value?.conditions, false);\n      applyConditions(context, nextState?.conditions, true);\n      state.value = nextState;\n    }\n    watch(\n      context,\n      (context) => {\n        const nextState = findBestState(undefined, props.block, context);\n        switchState(nextState);\n      },\n      { immediate: true, deep: true }\n    );\n\n    function move() {\n      if (disabled.value) return;\n      const transition = state.value?.transition;\n      const states = props.block;\n      let nextState;\n\n      if (transition === \"next\") {\n        const i = state.value ? states.indexOf(toRaw(state.value)) : -1;\n        nextState = states[(i + 1) % states.length];\n      } else if (transition)\n        nextState = findBestState(transition, states, context.value);\n\n      switchState(nextState);\n      if (checkConditions(nextState?.conditions, context.value)[0] < 0)\n        state.value = undefined;\n    }\n\n    return {\n      move,\n      state,\n      disabled,\n      text,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\nbutton {\n  padding: 0;\n  &.disabled {\n    padding: 0;\n    background-color: transparent;\n    &:hover,\n    &:active {\n      background-color: transparent;\n    }\n    cursor: default;\n  }\n  &:not(.disabled) > * {\n    padding: 0 map-get($margins, \"normal\");\n  }\n}\n</style>\n","\nimport VState from \"../State/index.vue\";\n\nimport {\n  computed,\n  defineComponent,\n  inject,\n  PropType,\n  ref,\n  Ref,\n  toRaw,\n  watch,\n} from \"vue\";\nimport { Context, State } from \"../types\";\nimport { applyConditions, findBestState, checkConditions } from \"../utils\";\n\nexport default defineComponent({\n  name: \"Block\",\n  components: { VState },\n  props: {\n    block: { type: Array as PropType<State[]>, default: undefined },\n    glossed: Boolean,\n  },\n  emits: [\"update\"],\n  setup(props, { emit }) {\n    const state = ref<State>();\n    const text = ref(\"\");\n    watch(\n      [state, text],\n      ([state, text]) =>\n        emit(\"update\", {\n          state,\n          text,\n        }),\n      { immediate: true }\n    );\n    const disabled = computed(() => !state.value?.transition);\n    const context = inject(\"context\", {} as Ref<Context>);\n\n    function switchState(nextState: undefined | State) {\n      if (toRaw(nextState) === toRaw(state.value)) return;\n      applyConditions(context, state.value?.conditions, false);\n      applyConditions(context, nextState?.conditions, true);\n      state.value = nextState;\n    }\n    watch(\n      context,\n      (context) => {\n        const nextState = findBestState(undefined, props.block, context);\n        switchState(nextState);\n      },\n      { immediate: true, deep: true }\n    );\n\n    function move() {\n      if (disabled.value) return;\n      const transition = state.value?.transition;\n      const states = props.block;\n      let nextState;\n\n      if (transition === \"next\") {\n        const i = state.value ? states.indexOf(toRaw(state.value)) : -1;\n        nextState = states[(i + 1) % states.length];\n      } else if (transition)\n        nextState = findBestState(transition, states, context.value);\n\n      switchState(nextState);\n      if (checkConditions(nextState?.conditions, context.value)[0] < 0)\n        state.value = undefined;\n    }\n\n    return {\n      move,\n      state,\n      disabled,\n      text,\n    };\n  },\n});\n","import { render } from \"./index.vue?vue&type=template&id=773bf658&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=773bf658&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-773bf658\"\n\nexport default script","import { Ref } from \"vue\";\nimport { Context, State, Conditions, ContextSource } from \"./types\";\n\nexport function newState() {\n  return {\n    texts: [{ plain: \"new state\" }],\n    transition: \"next\",\n    conditions: {},\n  } as State;\n}\n\nexport function createContext(context: Ref<Context>, source?: ContextSource[]) {\n  if (!source) return;\n  context.value = {};\n  source.forEach(({ entity }) => (context.value[entity] = new Set()));\n}\n\nexport function checkConditions(\n  conditions: undefined | Conditions,\n  context: Context\n): [number, number] {\n  if (!conditions) return [1, 0];\n  let score = 0;\n  let count = 0;\n  for (const [entity, tags] of Object.entries(conditions))\n    for (const [tag, flag] of Object.entries(tags)) {\n      const has = context[entity]?.has(tag);\n      if (!flag && !has) return [-1, 0];\n      if (has) score += 1;\n      count += 1;\n    }\n  return [score / (count || 1), count];\n}\n\nexport function findBestState(\n  indexes: undefined | number[],\n  states: State[],\n  context: Context\n): undefined | State {\n  let state;\n  let score = -1;\n  let count = 0;\n\n  const candidates = indexes?.map((i) => states[i]) ?? states;\n  candidates.forEach((candidate) => {\n    const [s, c] = checkConditions(candidate.conditions, context);\n    if (score === 1 ? s === 1 && c > count : s > score) {\n      state = candidate;\n      score = s;\n      count = c;\n    }\n  });\n  return state;\n}\n\nexport function applyConditions(\n  context: Ref<Context>,\n  conditions: undefined | Conditions,\n  additive: boolean\n) {\n  if (!conditions || !context.value) return;\n  Object.entries(conditions).forEach(([entity, tags]) =>\n    Object.entries(tags).forEach(([tag, flag]) => {\n      const set = context.value[entity];\n      if (!flag || !set) return;\n      if (additive) set.add(tag);\n      else set.delete(tag);\n    })\n  );\n}\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","<template>\n  <div class=\"display row\" :class=\"{ glossed: canGloss }\">\n    <div class=\"segments\">\n      <p v-for=\"(type, i) in types\" :key=\"type\" :class=\"'text-' + type\">\n        <span v-for=\"(text, j) in texts[i]\" :key=\"j\" :class=\"textColors[j]\">\n          {{ text }}\n        </span>\n      </p>\n    </div>\n    <div class=\"row dashes\">\n      <p v-for=\"(c, i) in dashColors\" :key=\"i\" :class=\"c\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, inject, PropType, Ref, watch } from \"vue\";\nimport { Context, State } from \"../types\";\n\nexport default defineComponent({\n  name: \"State\",\n  props: {\n    state: { type: Object as PropType<State>, default: () => ({}) },\n    glossed: { type: Boolean, default: false },\n  },\n  emits: [\"text\"],\n  setup(props, { emit }) {\n    const context = inject(\"context\", {} as Ref<Context>);\n    const entities = computed(() => Object.keys(context.value));\n    const canGloss = computed(\n      () =>\n        props.glossed &&\n        props.state.texts.some(({ ipa, gloss }) => ipa || gloss)\n    );\n\n    const types = computed<(\"plain\" | \"ipa\" | \"gloss\")[]>(() =>\n      canGloss.value ? [\"ipa\", \"gloss\"] : [\"plain\"]\n    );\n    const texts = computed(() =>\n      types.value.map((type) => props.state.texts?.map((text) => text[type]))\n    );\n    watch(\n      texts,\n      (texts) => {\n        if (!texts) return;\n        const lines = texts.map((t) => t?.join(\"\"));\n        const text = lines.length === 1 ? lines[0] : lines.join(\"\\n\");\n        emit(\"text\", text);\n      },\n      { immediate: true, deep: true }\n    );\n\n    const textColors = computed(() =>\n      props.state.texts\n        .map(({ entity }) => entity ?? \"\")\n        .map((e) => entities.value.indexOf(e))\n        .map((i) => \"colored-\" + i)\n    );\n    const dashColors = computed(() =>\n      props.state.transition && props.state.conditions\n        ? Object.entries(props.state.conditions)\n            .filter(([, tags]) => Object.values(tags).some((flag) => flag))\n            .map(([entity]) => entities.value.indexOf(entity))\n            .map((i) => \"colored-back-\" + i)\n        : []\n    );\n\n    return { types, texts, canGloss, textColors, dashColors };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.display {\n  height: map-get($button-height, \"small\");\n  position: relative;\n  &.glossed {\n    height: map-get($button-height, \"normal\") + map-get($margins, \"normal\");\n  }\n}\n.segments {\n  display: flex;\n  flex-direction: column;\n  p {\n    display: flex;\n    place-content: center;\n  }\n}\n.dashes {\n  overflow: hidden;\n  border-radius: 0 0 $border-radius $border-radius;\n  height: $border-radius;\n  width: 100%;\n  left: 0;\n  justify-content: center;\n  position: absolute;\n  bottom: 0;\n  > * {\n    height: 100%;\n    width: 4 * $border-radius;\n  }\n}\n</style>\n","\nimport { computed, defineComponent, inject, PropType, Ref, watch } from \"vue\";\nimport { Context, State } from \"../types\";\n\nexport default defineComponent({\n  name: \"State\",\n  props: {\n    state: { type: Object as PropType<State>, default: () => ({}) },\n    glossed: { type: Boolean, default: false },\n  },\n  emits: [\"text\"],\n  setup(props, { emit }) {\n    const context = inject(\"context\", {} as Ref<Context>);\n    const entities = computed(() => Object.keys(context.value));\n    const canGloss = computed(\n      () =>\n        props.glossed &&\n        props.state.texts.some(({ ipa, gloss }) => ipa || gloss)\n    );\n\n    const types = computed<(\"plain\" | \"ipa\" | \"gloss\")[]>(() =>\n      canGloss.value ? [\"ipa\", \"gloss\"] : [\"plain\"]\n    );\n    const texts = computed(() =>\n      types.value.map((type) => props.state.texts?.map((text) => text[type]))\n    );\n    watch(\n      texts,\n      (texts) => {\n        if (!texts) return;\n        const lines = texts.map((t) => t?.join(\"\"));\n        const text = lines.length === 1 ? lines[0] : lines.join(\"\\n\");\n        emit(\"text\", text);\n      },\n      { immediate: true, deep: true }\n    );\n\n    const textColors = computed(() =>\n      props.state.texts\n        .map(({ entity }) => entity ?? \"\")\n        .map((e) => entities.value.indexOf(e))\n        .map((i) => \"colored-\" + i)\n    );\n    const dashColors = computed(() =>\n      props.state.transition && props.state.conditions\n        ? Object.entries(props.state.conditions)\n            .filter(([, tags]) => Object.values(tags).some((flag) => flag))\n            .map(([entity]) => entities.value.indexOf(entity))\n            .map((i) => \"colored-back-\" + i)\n        : []\n    );\n\n    return { types, texts, canGloss, textColors, dashColors };\n  },\n});\n","import { render } from \"./index.vue?vue&type=template&id=661aca89&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=661aca89&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-661aca89\"\n\nexport default script","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}