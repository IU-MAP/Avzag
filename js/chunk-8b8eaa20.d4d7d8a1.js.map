{"version":3,"sources":["webpack:///./src/components/ConfirmButton.vue","webpack:///./src/components/ConfirmButton.vue?2177","webpack:///./src/components/ConfirmButton.vue?2c30","webpack:///./src/editor.ts","webpack:///./src/EditorNavigation.vue","webpack:///./src/EditorNavigation.vue?7a84","webpack:///./src/EditorNavigation.vue?33eb","webpack:///./src/EditorNavigation.vue?883a"],"names":["class","icon","text","confirm","props","message","type","String","default","emits","setup","emit","window","render","config","defaultFile","storage","filename","file","resetFile","value","JSON","parse","stringify","saveFile","localStorage","setupEditor","options","Object","assign","deep","id","custom","to","navigate","menu","menus","name","key","loadLect","loadJSON","saveJSON","components","ConfirmButton","route","router","lect","prompt","json","f","navigator","clipboard","writeText","push","__scopeId"],"mappings":"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","file":"js/chunk-8b8eaa20.d4d7d8a1.js","sourcesContent":["<template>\n  <btn\n    class=\"highlight-font-alert\"\n    :icon=\"icon\"\n    :text=\"text\"\n    @click=\"confirm\"\n  />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    message: { type: String, default: \"Delete?\" },\n    icon: { type: String, default: \"delete\" },\n    text: { type: String, default: \"\" },\n  },\n  emits: [\"confirm\"],\n  setup(props, { emit }) {\n    function confirm() {\n      if (window.confirm(props.message)) emit(\"confirm\");\n    }\n    return { confirm };\n  },\n});\n</script>\n","\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    message: { type: String, default: \"Delete?\" },\n    icon: { type: String, default: \"delete\" },\n    text: { type: String, default: \"\" },\n  },\n  emits: [\"confirm\"],\n  setup(props, { emit }) {\n    function confirm() {\n      if (window.confirm(props.message)) emit(\"confirm\");\n    }\n    return { confirm };\n  },\n});\n","import { render } from \"./ConfirmButton.vue?vue&type=template&id=598fbbc7\"\nimport script from \"./ConfirmButton.vue?vue&type=script&lang=ts\"\nexport * from \"./ConfirmButton.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { watch, ref, Ref } from \"vue\";\n\ntype Options = {\n  defaultFile: unknown;\n  storage: string;\n  filename: string | (() => string);\n};\n\nexport const config: Options = {\n  defaultFile: {},\n  storage: \"\",\n  filename: \"\",\n};\n\nexport const file = ref();\n\nexport function resetFile() {\n  file.value = JSON.parse(JSON.stringify(config.defaultFile));\n}\n\nexport function saveFile() {\n  localStorage[config.storage] = JSON.stringify(file.value);\n}\n\nexport function setupEditor<T>(options: Partial<Options>) {\n  Object.assign(config, options);\n  try {\n    file.value = JSON.parse(localStorage[config.storage]);\n  } catch {\n    resetFile();\n  }\n  watch(file, saveFile, { deep: true });\n\n  return file as Ref<T>;\n}\n","<template>\n  <div id=\"root\" class=\"small\">\n    <div class=\"section row\">\n      <div class=\"row\">\n        <router-link v-slot=\"{ navigate }\" custom :to=\"{ name: 'Home' }\">\n          <btn icon=\"arrow_back\" @click=\"navigate\" />\n        </router-link>\n        <select v-model=\"menu\">\n          <option v-for=\"{ text, name } in menus\" :key=\"name\" :value=\"name\">\n            {{ text }}\n          </option>\n        </select>\n      </div>\n      <div class=\"row controls\">\n        <btn icon=\"language\" @click=\"loadLect\" />\n        <btn icon=\"code\" @click=\"loadJSON\" />\n        <btn icon=\"integration_instructions\" @click=\"saveJSON\" />\n        <ConfirmButton message=\"Reset file?\" @confirm=\"resetFile\" />\n      </div>\n    </div>\n  </div>\n  <router-view />\n</template>\n\n<script lang=\"ts\">\nimport ConfirmButton from \"@/components/ConfirmButton.vue\";\n\nimport { ref, watch, defineComponent } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { loadJSON as loadDBJSON } from \"@/store\";\nimport { config, file, resetFile } from \"@/editor\";\n\nexport default defineComponent({\n  components: { ConfirmButton },\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n\n    const menus = [\n      {\n        text: \"Phonology\",\n        name: \"PhonologyEditor\",\n      },\n      {\n        text: \"Converter\",\n        name: \"ConverterEditor\",\n      },\n      {\n        text: \"Phrasebook\",\n        name: \"PhrasebookEditor\",\n      },\n      {\n        text: \"Phrasebook Corpus\",\n        name: \"PhrasebookCorpusEditor\",\n      },\n    ];\n    const menu = ref((route.name ?? menus[0].name) as string);\n    watch(menu, (menu) => router.push({ name: menu }));\n\n    async function loadLect() {\n      let json;\n      if (typeof config.filename === \"string\") {\n        const lect = window.prompt(\"Enter lect name\");\n        if (!lect) return;\n        json = await loadDBJSON(lect + \"/\" + config.filename);\n      } else {\n        json = await loadDBJSON(config.filename());\n      }\n      if (json) file.value = json;\n    }\n    function loadJSON() {\n      const f = JSON.parse(window.prompt(\"Enter JSON\") ?? \"0\");\n      if (f) file.value = f;\n    }\n    function saveJSON() {\n      navigator.clipboard.writeText(JSON.stringify(file.value));\n    }\n\n    return { menu, menus, loadLect, loadJSON, saveJSON, resetFile };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n#root {\n  background-color: var(--color-foreground);\n  margin: -1 * map-get($margins, \"normal\");\n  margin-bottom: map-get($margins, \"double\");\n  padding: map-get($margins, \"half\") map-get($margins, \"normal\");\n  border-radius: 0;\n  box-shadow: map-get($shadows, \"elevated\");\n  :not(.icon) {\n    font-weight: bold;\n  }\n}\n.controls {\n  flex: 1;\n  justify-content: flex-end;\n}\nselect {\n  flex: 0;\n}\n@media only screen and (max-width: $mobile-width) {\n  #root .section {\n    flex-flow: column;\n  }\n}\n</style>\n","\nimport ConfirmButton from \"@/components/ConfirmButton.vue\";\n\nimport { ref, watch, defineComponent } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { loadJSON as loadDBJSON } from \"@/store\";\nimport { config, file, resetFile } from \"@/editor\";\n\nexport default defineComponent({\n  components: { ConfirmButton },\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n\n    const menus = [\n      {\n        text: \"Phonology\",\n        name: \"PhonologyEditor\",\n      },\n      {\n        text: \"Converter\",\n        name: \"ConverterEditor\",\n      },\n      {\n        text: \"Phrasebook\",\n        name: \"PhrasebookEditor\",\n      },\n      {\n        text: \"Phrasebook Corpus\",\n        name: \"PhrasebookCorpusEditor\",\n      },\n    ];\n    const menu = ref((route.name ?? menus[0].name) as string);\n    watch(menu, (menu) => router.push({ name: menu }));\n\n    async function loadLect() {\n      let json;\n      if (typeof config.filename === \"string\") {\n        const lect = window.prompt(\"Enter lect name\");\n        if (!lect) return;\n        json = await loadDBJSON(lect + \"/\" + config.filename);\n      } else {\n        json = await loadDBJSON(config.filename());\n      }\n      if (json) file.value = json;\n    }\n    function loadJSON() {\n      const f = JSON.parse(window.prompt(\"Enter JSON\") ?? \"0\");\n      if (f) file.value = f;\n    }\n    function saveJSON() {\n      navigator.clipboard.writeText(JSON.stringify(file.value));\n    }\n\n    return { menu, menus, loadLect, loadJSON, saveJSON, resetFile };\n  },\n});\n","import { render } from \"./EditorNavigation.vue?vue&type=template&id=3f05bf20&scoped=true\"\nimport script from \"./EditorNavigation.vue?vue&type=script&lang=ts\"\nexport * from \"./EditorNavigation.vue?vue&type=script&lang=ts\"\n\nimport \"./EditorNavigation.vue?vue&type=style&index=0&id=3f05bf20&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3f05bf20\"\n\nexport default script","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditorNavigation.vue?vue&type=style&index=0&id=3f05bf20&lang=scss&scoped=true\""],"sourceRoot":""}