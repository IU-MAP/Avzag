(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01c488a6"],{"04d4":function(t,e,n){"use strict";var c=n("7a23");function o(t,e,n,o,a,r){var i=Object(c["B"])("btn");return Object(c["t"])(),Object(c["d"])(i,{class:"highlight-font-alert",icon:t.icon,text:t.text,onClick:t.confirm},null,8,["icon","text","onClick"])}var a=Object(c["i"])({props:{message:{type:String,default:"Delete?"},icon:{type:String,default:"delete"},text:{type:String,default:""}},emits:["confirm"],setup:function(t,e){var n=e.emit;function c(){window.confirm(t.message)&&n("confirm")}return{confirm:c}}});a.render=o;e["a"]=a},"07ac":function(t,e,n){var c=n("23e7"),o=n("6f53").values;c({target:"Object",stat:!0},{values:function(t){return o(t)}})},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var c=n("6b75");function o(t){if(Array.isArray(t))return Object(c["a"])(t)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var r=n("06c5");function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return o(t)||a(t)||Object(r["a"])(t)||i()}},"293e":function(t,e,n){"use strict";n("8b20")},"3b5b":function(t,e,n){},"428a":function(t,e,n){"use strict";var c=n("7a23"),o={class:"row-1 wrap block-editor"};function a(t,e,n,a,r,i){var u=Object(c["B"])("ArrayCopy"),l=Object(c["B"])("ArrayShift"),d=Object(c["B"])("ConfirmButton"),b=Object(c["B"])("Context"),s=Object(c["B"])("btn"),f=Object(c["B"])("Block"),O=Object(c["B"])("EditorCard");return t.mphrase?(Object(c["t"])(),Object(c["d"])(O,{key:0,icon:"widgets",header:"Blocks",onAction:t.add},Object(c["f"])({default:Object(c["L"])((function(){return[t.phrase.id?(Object(c["t"])(),Object(c["d"])(b,{key:0})):(Object(c["t"])(),Object(c["d"])(b,{key:1,blocks:t.vblocks,translation:t.phrase.context},null,8,["blocks","translation"])),Object(c["h"])("div",o,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.blocks,(function(e,n){return Object(c["t"])(),Object(c["d"])("div",{key:n+"--"+Math.random(),class:"row"},[Object(c["h"])(s,{icon:"edit","is-on":t.block===e,onClick:function(n){return t.block=e}},null,8,["is-on","onClick"]),Object(c["h"])(f,{ref:function(e){return e?t.vblocks.push(e):null},block:e},null,8,["block"])])})),128))])]})),_:2},[t.block?{name:"header",fn:Object(c["L"])((function(){return[Object(c["h"])(u,{modelValue:t.blocks,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.blocks=e}),item:t.block,"onUpdate:item":e[2]||(e[2]=function(e){return t.block=e})},null,8,["modelValue","item"]),Object(c["h"])(l,{modelValue:t.blocks,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.blocks=e}),item:t.block},null,8,["modelValue","item"]),Object(c["h"])(d,{onConfirm:t.remove},null,8,["onConfirm"])]}))}:void 0]),1032,["onAction"])):Object(c["e"])("",!0)}n("c975"),n("a434");var r=n("d6af"),i=n("7694"),u=n("4c33"),l=n("04d4"),d=n("5794"),b=n("72e9"),s=n("7ec3"),f=Object(c["i"])({name:"OrderEditor",components:{ArrayCopy:r["a"],EditorCard:i["a"],ArrayShift:u["a"],ConfirmButton:l["a"],Context:d["a"],Block:b["a"]},props:{modelValue:{type:Array,default:void 0},phrase:{type:Object,default:void 0}},emits:["update:modelValue","update:phrase"],setup:function(t,e){var n=e.emit,o=Object(c["b"])({get:function(){return t.phrase},set:function(t){return n("update:modelValue",t)}}),a=Object(c["b"])({get:function(){return o.value.blocks},set:function(t){return o.value.blocks=t}}),r=Object(c["b"])({get:function(){return t.modelValue},set:function(t){return n("update:modelValue",t)}}),i=Object(c["y"])([]);function u(){r.value=a.value?a.value[a.value.length-1]:void 0}function l(){a.value||(a.value=[]),a.value.push([Object(s["e"])()]),u()}function d(){if(r.value){var t=Object(c["E"])(a.value).indexOf(Object(c["E"])(r.value));a.value.splice(t,1),u()}}return Object(c["p"])((function(){return i.value=[]})),Object(c["J"])(a,u,{immediate:!0}),{mphrase:o,blocks:a,vblocks:i,block:r,add:l,remove:d}}});f.render=a;e["a"]=f},"45fc":function(t,e,n){"use strict";var c=n("23e7"),o=n("b727").some,a=n("a640"),r=n("ae40"),i=a("some"),u=r("some");c({target:"Array",proto:!0,forced:!i||!u},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"4c33":function(t,e,n){"use strict";var c=n("7a23"),o={class:"row-0"};function a(t,e,n,a,r,i){var u=Object(c["B"])("btn");return Object(c["t"])(),Object(c["d"])("div",o,[Object(c["h"])(u,{icon:"keyboard_arrow_up",onClick:e[1]||(e[1]=function(e){return t.shift(-1)})}),Object(c["h"])(u,{icon:"keyboard_arrow_down",onClick:e[2]||(e[2]=function(e){return t.shift(1)})})])}n("c975"),n("a434");var r=Object(c["i"])({props:{modelValue:{type:Array,default:function(){}},item:{type:Object,default:void 0}},emits:["update:modelValue"],setup:function(t,e){var n=e.emit,o=Object(c["b"])({get:function(){return t.modelValue},set:function(t){return n("update:modelValue",t)}});function a(e){var n=o.value.length,a=Object(c["E"])(o.value).indexOf(Object(c["E"])(t.item)),r=(a+e+n)%n;o.value.splice(r,0,o.value.splice(a,1)[0])}return{shift:a}}});r.render=a;e["a"]=r},"4d5a":function(t,e,n){"use strict";n("5917")},5794:function(t,e,n){"use strict";var c=n("7a23"),o=Object(c["N"])("data-v-caacf090");Object(c["w"])("data-v-caacf090");var a={class:"row text-caption wrap"},r=Object(c["h"])("div",{class:"icon"},"info",-1),i=Object(c["g"])("â€¦");Object(c["u"])();var u=o((function(t,e,n,o,u,l){return Object(c["t"])(),Object(c["d"])("div",a,[r,t.any?(Object(c["t"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["z"])(t.translated,(function(t,e){return Object(c["t"])(),Object(c["d"])(c["a"],{key:e},[t.length?(Object(c["t"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["z"])(t,(function(t){return Object(c["t"])(),Object(c["d"])("p",{key:t+"--"+e,class:"colored-dot-"+e},Object(c["D"])(t),3)})),128)):Object(c["e"])("",!0)],64)})),128)):(Object(c["t"])(),Object(c["d"])(c["a"],{key:1},[i],64))])})),l=(n("4de4"),n("4160"),n("d81d"),n("45fc"),n("4fad"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0"),n("2909")),d=n("3835"),b=n("b85c"),s=Object(c["i"])({name:"Context",props:{translation:{type:Object,default:function(){return{}}},blocks:{type:Array,default:function(){return[]}}},setup:function(t){var e=Object(c["l"])("context",{}),n=Object(c["b"])((function(){var e,n={},c=Object(b["a"])(t.blocks);try{for(c.s();!(e=c.n()).done;){var o=e.value.state,a=null===o||void 0===o?void 0:o.conditions;a&&Object.entries(a).forEach((function(t){var e=Object(d["a"])(t,2),c=e[0],o=e[1];return Object.entries(o).forEach((function(t){var e=Object(d["a"])(t,1),o=e[0];n[c]||(n[c]=new Set),n[c].add(o)}))}))}}catch(r){c.e(r)}finally{c.f()}return n}));function o(t,e){return(null===t||void 0===t?void 0:t[e])||e}var a=Object(c["b"])((function(){return Object.entries(e.value).map((function(e){var c=Object(d["a"])(e,2),a=c[0],r=c[1];return Object(l["a"])(r).filter((function(t){var e;return!(null!==(e=n.value[a])&&void 0!==e&&e.has(t))})).map((function(e){var n;return o(null===(n=t.translation)||void 0===n?void 0:n[a],e)}))}))})),r=Object(c["b"])((function(){return a.value.some((function(t){return null===t||void 0===t?void 0:t.length}))}));return{translated:a,any:r}}});n("4d5a");s.render=u,s.__scopeId="data-v-caacf090";e["a"]=s},5917:function(t,e,n){},"5db7":function(t,e,n){"use strict";var c=n("23e7"),o=n("a2bf"),a=n("7b0b"),r=n("50c4"),i=n("1c0b"),u=n("65f0");c({target:"Array",proto:!0},{flatMap:function(t){var e,n=a(this),c=r(n.length);return i(t),e=u(n,0),e.length=o(e,n,n,c,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},"72e9":function(t,e,n){"use strict";var c=n("7a23"),o=Object(c["N"])("data-v-354bd589"),a=o((function(t,e,n,o,a,r){var i=Object(c["B"])("VState");return t.state?Object(c["M"])((Object(c["t"])(),Object(c["d"])("button",{key:0,class:["small",{disabled:t.disabled,glossed:t.glossed}],onClick:e[2]||(e[2]=function(){return t.move&&t.move.apply(t,arguments)})},[Object(c["h"])(i,{glossed:t.glossed,state:t.state,onText:e[1]||(e[1]=function(e){return t.text=e})},null,8,["glossed","state"])],2)),[[c["I"],t.text]]):Object(c["e"])("",!0)})),r=(n("c975"),n("af66")),i=n("7ec3"),u=Object(c["i"])({name:"Block",components:{VState:r["a"]},props:{block:{type:Array,default:void 0},glossed:Boolean},emits:["update:modelValue"],setup:function(t){var e=Object(c["y"])(),n=Object(c["b"])((function(){var t;return!(null!==(t=e.value)&&void 0!==t&&t.transition)})),o=Object(c["y"])(""),a=Object(c["l"])("context",{});function r(t){var n;Object(c["E"])(t)!==Object(c["E"])(e.value)&&(Object(i["a"])(a,null===(n=e.value)||void 0===n?void 0:n.conditions,!1),Object(i["a"])(a,null===t||void 0===t?void 0:t.conditions,!0),e.value=t)}function u(){var o,u;if(!n.value){var l,d=null===(o=e.value)||void 0===o?void 0:o.transition,b=t.block;if("next"===d){var s=e.value?b.indexOf(Object(c["E"])(e.value)):-1;l=b[(s+1)%b.length]}else d&&(l=Object(i["d"])(d,b,a.value));r(l),Object(i["b"])(null===(u=l)||void 0===u?void 0:u.conditions,a.value)[0]<0&&(e.value=void 0)}}return Object(c["J"])(a,(function(e){var n=Object(i["d"])(void 0,t.block,e);r(n)}),{immediate:!0,deep:!0}),{move:u,state:e,disabled:n,text:o}}});n("92f8");u.render=a,u.__scopeId="data-v-354bd589";e["a"]=u},"73d9":function(t,e,n){var c=n("44d2");c("flatMap")},7694:function(t,e,n){"use strict";var c=n("7a23"),o=Object(c["N"])("data-v-245b6f20");Object(c["w"])("data-v-245b6f20");var a={class:"col"},r={class:"row card-0"},i={class:"icon"},u={class:"flex"},l={key:0,class:"text-caption text-faded"},d={class:"col"};Object(c["u"])();var b=o((function(t,e,n,o,b,s){var f=Object(c["B"])("btn");return Object(c["t"])(),Object(c["d"])("div",a,[Object(c["h"])("div",r,[t.button?(Object(c["t"])(),Object(c["d"])(f,{key:0,icon:t.button,onClick:e[1]||(e[1]=function(e){return t.emit("action")})},null,8,["icon"])):Object(c["e"])("",!0),Object(c["h"])("p",i,Object(c["D"])(t.icon),1),Object(c["h"])("h2",u,Object(c["D"])(t.header),1),Object(c["A"])(t.$slots,"header")]),t.caption?(Object(c["t"])(),Object(c["d"])("p",l,[Object(c["A"])(t.$slots,"caption")])):Object(c["e"])("",!0),Object(c["h"])("div",d,[Object(c["A"])(t.$slots,"default")])])})),s=Object(c["i"])({name:"EditorCard",props:{button:{type:String,default:"add"},icon:{type:String,default:""},header:{type:String,default:""}},emits:["action"],setup:function(t,e){var n=e.emit,c=e.slots;return{emit:n,caption:c.caption}}});n("bb0f");s.render=b,s.__scopeId="data-v-245b6f20";e["a"]=s},"7ec3":function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return u}));n("4160"),n("d81d"),n("4fad"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0");var c=n("3835");function o(){return{texts:[{plain:"new state"}],transition:"next",conditions:{}}}function a(t,e){e&&(t.value={},e.forEach((function(e){var n=e.entity;return t.value[n]=new Set})))}function r(t,e){if(!t)return[1,0];for(var n=0,o=0,a=0,r=Object.entries(t);a<r.length;a++)for(var i=Object(c["a"])(r[a],2),u=i[0],l=i[1],d=0,b=Object.entries(l);d<b.length;d++){var s,f=Object(c["a"])(b[d],2),O=f[0],j=f[1],v=null===(s=e[u])||void 0===s?void 0:s.has(O);if(!j&&!v)return[-1,0];v&&(n+=1),o+=1}return[n/(o||1),o]}function i(t,e,n){var o,a,i=-1,u=0,l=null!==(o=null===t||void 0===t?void 0:t.map((function(t){return e[t]})))&&void 0!==o?o:e;return l.forEach((function(t){var e=r(t.conditions,n),o=Object(c["a"])(e,2),l=o[0],d=o[1];(1===i?1===l&&d>u:l>i)&&(a=t,i=l,u=d)})),a}function u(t,e,n){e&&t.value&&Object.entries(e).forEach((function(e){var o=Object(c["a"])(e,2),a=o[0],r=o[1];return Object.entries(r).forEach((function(e){var o=Object(c["a"])(e,2),r=o[0],i=o[1],u=t.value[a];i&&u&&(n?u.add(r):u.delete(r))}))}))}},"8b20":function(t,e,n){},"92f8":function(t,e,n){"use strict";n("3b5b")},9362:function(t,e,n){"use strict";var c=n("7a23"),o={key:0,class:"block col-2"},a={class:"row-1 wrap block-editor"};function r(t,e,n,r,i,u){var l=Object(c["B"])("toggle"),d=Object(c["B"])("ArrayCopy"),b=Object(c["B"])("ArrayShift"),s=Object(c["B"])("ConfirmButton"),f=Object(c["B"])("btn"),O=Object(c["B"])("VState"),j=Object(c["B"])("EditorCard"),v=Object(c["B"])("TextsEditor"),p=Object(c["B"])("ConditionsEditor"),m=Object(c["B"])("TransitionEditor");return t.block?(Object(c["t"])(),Object(c["d"])("div",o,[Object(c["h"])(j,{icon:"account_tree",header:"States",onAction:t.add},Object(c["f"])({default:Object(c["L"])((function(){return[Object(c["h"])("div",a,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.block,(function(e,n){return Object(c["t"])(),Object(c["d"])("div",{key:n,class:"row"},[Object(c["h"])(f,{icon:"edit","is-on":t.state===e,onClick:function(n){return t.state=e}},null,8,["is-on","onClick"]),Object(c["h"])(O,{state:e,glossed:t.glossed},null,8,["state","glossed"])])})),128))])]})),_:2},[t.state?{name:"header",fn:Object(c["L"])((function(){return[Object(c["h"])(l,{modelValue:t.glossed,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.glossed=e}),icon:"layers"},null,8,["modelValue"]),Object(c["h"])(d,{modelValue:t.block,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.block=e}),item:t.state,"onUpdate:item":e[3]||(e[3]=function(e){return t.state=e})},null,8,["modelValue","item"]),Object(c["h"])(b,{modelValue:t.block,"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.block=e}),item:t.state},null,8,["modelValue","item"]),Object(c["h"])(s,{onConfirm:t.remove},null,8,["onConfirm"])]}))}:void 0]),1032,["onAction"]),t.state?(Object(c["t"])(),Object(c["d"])(c["a"],{key:0},[Object(c["h"])(v,{modelValue:t.state.texts,"onUpdate:modelValue":e[5]||(e[5]=function(e){return t.state.texts=e})},null,8,["modelValue"]),Object(c["h"])(p,{modelValue:t.state.conditions,"onUpdate:modelValue":e[6]||(e[6]=function(e){return t.state.conditions=e})},null,8,["modelValue"]),Object(c["h"])(m,{modelValue:t.state.transition,"onUpdate:modelValue":e[7]||(e[7]=function(e){return t.state.transition=e}),states:t.block},null,8,["modelValue","states"])],64)):Object(c["e"])("",!0)])):Object(c["e"])("",!0)}n("c975"),n("a434");var i=n("04d4"),u=n("d6af"),l=n("4c33"),d=n("7694"),b=Object(c["N"])("data-v-8572926c");Object(c["w"])("data-v-8572926c");var s=Object(c["g"])("TODO brief explanation"),f={class:"row-1 block-editor wrap"};Object(c["u"])();var O=b((function(t,e,n,o,a,r){var i=Object(c["B"])("btn"),u=Object(c["B"])("EditorCard");return Object(c["t"])(),Object(c["d"])(u,{button:"",icon:"tune",header:"conditions"},Object(c["f"])({caption:b((function(){return[s]})),default:b((function(){return[Object(c["h"])("div",f,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.tags,(function(e,n){var o=e.entity,a=e.tag,r=e.color,u=e.icon;return Object(c["t"])(),Object(c["d"])(i,{key:o+"--"+a,class:r,icon:u,text:a,onClick:function(e){return t.toggle(n)}},null,8,["class","icon","text","onClick"])})),128))])]})),_:2},[t.conditions?{name:"header",fn:b((function(){return[Object(c["h"])(i,{icon:"clear",onClick:e[1]||(e[1]=function(e){return t.conditions={}})})]}))}:void 0]),1024)})),j=(n("5db7"),n("d81d"),n("73d9"),n("b64b"),n("3835")),v=Object(c["i"])({name:"ConditionsEditor",components:{EditorCard:d["a"]},props:{modelValue:{type:Object,default:void 0}},emits:["update:modelValue"],setup:function(t,e){var n=e.emit,o=Object(c["l"])("contextSource",{}),a=Object(c["b"])({get:function(){return t.modelValue},set:function(t){return n("update:modelValue",t)}}),r=Object(c["y"])([]);function i(t){if(r.value){var e=r.value[t],n=e.flag,c=e.entity,o=e.tag;void 0===n?(a.value[c]||(a.value[c]={}),a.value[c][o]=!0):n?a.value[c][o]=!1:(delete a.value[c][o],Object.keys(a.value[c]).length||delete a.value[c])}}return Object(c["J"])([o,a],(function(t){var e=Object(j["a"])(t,2),n=e[0],c=e[1];n&&c&&(r.value=n.flatMap((function(t,e){var n=t.entity,o=t.tags;return o.map((function(t){var o,a=null===(o=c[n])||void 0===o?void 0:o[t],r=void 0===a?"arrow_right":a?"send":"lock";return{tag:t,entity:n,icon:r,color:"colored-dot-"+e,flag:a}}))})))}),{immediate:!0,deep:!0}),{context:o,conditions:a,tags:r,toggle:i}}});n("f46f");v.render=O,v.__scopeId="data-v-8572926c";var p=v,m=(n("caad"),n("2532"),{class:"row"}),h={key:0,class:"row-1 wrap block-editor"};function y(t,e,n,o,a,r){var i=Object(c["B"])("btn"),u=Object(c["B"])("VState"),l=Object(c["B"])("EditorCard");return Object(c["t"])(),Object(c["d"])(l,{button:"",icon:"alt_route",header:"transition"},{header:Object(c["L"])((function(){return[Object(c["h"])("div",m,[Object(c["h"])(i,{icon:"block","is-on":0===t.mode,onClick:e[1]||(e[1]=function(e){return t.mode=0})},null,8,["is-on"]),Object(c["h"])(i,{icon:"arrow_forward","is-on":1===t.mode,onClick:e[2]||(e[2]=function(e){return t.mode=1})},null,8,["is-on"]),Object(c["h"])(i,{icon:"star_outline","is-on":2===t.mode,onClick:e[3]||(e[3]=function(e){return t.mode=2})},null,8,["is-on"])])]})),default:Object(c["L"])((function(){return[2===t.mode?(Object(c["t"])(),Object(c["d"])("div",h,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.states,(function(e,n){return Object(c["t"])(),Object(c["d"])("div",{key:n,class:"row"},[Object(c["h"])(i,{icon:"check","is-on":t.transition.includes(n),onClick:function(e){return t.toggle(n)}},null,8,["is-on","onClick"]),Object(c["h"])(u,{state:e},null,8,["state"])])})),128))])):Object(c["e"])("",!0)]})),_:1})}var g=n("af66"),k=Object(c["i"])({name:"TransitionEditor",components:{EditorCard:d["a"],VState:g["a"]},props:{modelValue:{type:[Array,String],default:void 0},states:{type:Array,default:function(){return[]}}},emits:["update:modelValue"],setup:function(t,e){var n=e.emit,o=Object(c["b"])({get:function(){return t.modelValue},set:function(t){return n("update:modelValue",t)}}),a=Object(c["b"])({get:function(){return o.value?"next"===o.value?1:2:0},set:function(t){return o.value=t?1===t?"next":[]:void 0}});function r(t){if(Array.isArray(o.value)){var e=o.value.indexOf(t);e<0?o.value.push(t):o.value.splice(e,1)}}return{transition:o,mode:a,toggle:r}}});k.render=y;var x=k,V={class:"col"};function C(t,e,n,o,a,r){var i=Object(c["B"])("btn"),u=Object(c["B"])("EditorCard");return Object(c["t"])(),Object(c["d"])(u,{icon:"format_color_text",header:"texts",onAction:t.add},{default:Object(c["L"])((function(){return[Object(c["h"])("div",V,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.texts,(function(e,n){return Object(c["t"])(),Object(c["d"])("div",{key:n,class:"row"},[Object(c["h"])(i,{icon:"palette",onClick:function(e){return t.toggle(n)}},null,8,["onClick"]),Object(c["h"])("div",{class:["row",t.colors[n]]},[Object(c["M"])(Object(c["h"])("input",{"onUpdate:modelValue":function(t){return e.plain=t},type:"text",placeholder:"plain"},null,8,["onUpdate:modelValue"]),[[c["H"],e.plain]]),Object(c["M"])(Object(c["h"])("input",{"onUpdate:modelValue":function(t){return e.ipa=t},class:"text-ipa",type:"text",placeholder:"ipa"},null,8,["onUpdate:modelValue"]),[[c["H"],e.ipa]]),Object(c["M"])(Object(c["h"])("input",{"onUpdate:modelValue":function(t){return e.gloss=t},type:"text",placeholder:"gloss"},null,8,["onUpdate:modelValue"]),[[c["H"],e.gloss]])],2),Object(c["h"])(i,{icon:"clear",onClick:function(e){return t.remove(n)}},null,8,["onClick"])])})),128))])]})),_:1},8,["onAction"])}var w=Object(c["i"])({name:"TextsEditor",components:{EditorCard:d["a"]},props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup:function(t,e){var n=e.emit,o=Object(c["l"])("context",{}),a=Object(c["b"])((function(){return Object.keys(o.value)})),r=Object(c["b"])({get:function(){return t.modelValue},set:function(t){return n("update:modelValue",t)}}),i=Object(c["b"])((function(){var t;return null===(t=r.value)||void 0===t?void 0:t.map((function(t){var e=t.entity;return a.value.indexOf(null!==e&&void 0!==e?e:"")})).map((function(t){return"colored-"+t}))}));function u(){r.value.push({plain:""})}function l(t){r.value.splice(t,1)}function d(t){var e,n=r.value[t],c=a.value.indexOf(null!==(e=n.entity)&&void 0!==e?e:"");n.entity=a.value[c+1]}return{texts:r,colors:i,add:u,remove:l,toggle:d}}});w.render=C;var E=w,B=n("7ec3"),S=Object(c["i"])({name:"BlockEditor",components:{ArrayCopy:u["a"],ArrayShift:l["a"],ConfirmButton:i["a"],EditorCard:d["a"],ConditionsEditor:p,TransitionEditor:x,VState:g["a"],TextsEditor:E},props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup:function(t,e){var n=e.emit,o=Object(c["b"])({get:function(){return t.modelValue},set:function(t){return n("update:modelValue",t)}}),a=Object(c["y"])(void 0),r=Object(c["y"])(!1);function i(){a.value=Object(B["e"])(),o.value.push(a.value)}function u(){a.value&&(o.value.splice(Object(c["E"])(o.value).indexOf(Object(c["E"])(a.value)),1),a.value=o.value[o.value.length-1])}return Object(c["J"])(o,(function(t){return a.value=null===t||void 0===t?void 0:t[t.length-1]}),{immediate:!0}),{add:i,remove:u,glossed:r,state:a,block:o}}});S.render=r;e["a"]=S},9392:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return u}));var c=n("7a23"),o={defaultFile:{},storage:"",filename:""},a=Object(c["y"])();function r(){a.value=JSON.parse(JSON.stringify(o.defaultFile))}function i(){localStorage[o.storage]=JSON.stringify(a.value)}function u(t){Object.assign(o,t);try{a.value=JSON.parse(localStorage[o.storage])}catch(e){r()}return Object(c["J"])(a,i,{deep:!0}),a}},a15b:function(t,e,n){"use strict";var c=n("23e7"),o=n("44ad"),a=n("fc6a"),r=n("a640"),i=[].join,u=o!=Object,l=r("join",",");c({target:"Array",proto:!0,forced:u||!l},{join:function(t){return i.call(a(this),void 0===t?",":t)}})},a2bf:function(t,e,n){"use strict";var c=n("e8b5"),o=n("50c4"),a=n("0366"),r=function(t,e,n,i,u,l,d,b){var s,f=u,O=0,j=!!d&&a(d,b,3);while(O<i){if(O in n){if(s=j?j(n[O],O,e):n[O],l>0&&c(s))f=r(t,e,s,o(s.length),f,l-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[f]=s}f++}O++}return f};t.exports=r},a434:function(t,e,n){"use strict";var c=n("23e7"),o=n("23cb"),a=n("a691"),r=n("50c4"),i=n("7b0b"),u=n("65f0"),l=n("8418"),d=n("1dde"),b=n("ae40"),s=d("splice"),f=b("splice",{ACCESSORS:!0,0:0,1:2}),O=Math.max,j=Math.min,v=9007199254740991,p="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!s||!f},{splice:function(t,e){var n,c,d,b,s,f,m=i(this),h=r(m.length),y=o(t,h),g=arguments.length;if(0===g?n=c=0:1===g?(n=0,c=h-y):(n=g-2,c=j(O(a(e),0),h-y)),h+n-c>v)throw TypeError(p);for(d=u(m,c),b=0;b<c;b++)s=y+b,s in m&&l(d,b,m[s]);if(d.length=c,n<c){for(b=y;b<h-c;b++)s=b+c,f=b+n,s in m?m[f]=m[s]:delete m[f];for(b=h;b>h-c+n;b--)delete m[b-1]}else if(n>c)for(b=h-c;b>y;b--)s=b+c-1,f=b+n-1,s in m?m[f]=m[s]:delete m[f];for(b=0;b<n;b++)m[b+y]=arguments[b+2];return m.length=h-c+n,d}})},a49b:function(t,e,n){},af66:function(t,e,n){"use strict";var c=n("7a23"),o=Object(c["N"])("data-v-661aca89");Object(c["w"])("data-v-661aca89");var a={class:"segments"},r={class:"row dashes"};Object(c["u"])();var i=o((function(t,e,n,o,i,u){return Object(c["t"])(),Object(c["d"])("div",{class:["display row",{glossed:t.canGloss}]},[Object(c["h"])("div",a,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.types,(function(e,n){return Object(c["t"])(),Object(c["d"])("p",{key:e,class:"text-"+e},[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.texts[n],(function(e,n){return Object(c["t"])(),Object(c["d"])("span",{key:n,class:t.textColors[n]},Object(c["D"])(e),3)})),128))],2)})),128))]),Object(c["h"])("div",r,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t.dashColors,(function(t,e){return Object(c["t"])(),Object(c["d"])("p",{key:e,class:t},null,2)})),128))])],2)})),u=(n("4de4"),n("c975"),n("a15b"),n("d81d"),n("45fc"),n("4fad"),n("b64b"),n("07ac"),n("3835")),l=Object(c["i"])({name:"State",props:{state:{type:Object,default:function(){return{}}},glossed:{type:Boolean,default:!1}},emits:["text"],setup:function(t,e){var n=e.emit,o=Object(c["l"])("context",{}),a=Object(c["b"])((function(){return Object.keys(o.value)})),r=Object(c["b"])((function(){return t.glossed&&t.state.texts.some((function(t){var e=t.ipa,n=t.gloss;return e||n}))})),i=Object(c["b"])((function(){return r.value?["ipa","gloss"]:["plain"]})),l=Object(c["b"])((function(){return i.value.map((function(e){var n;return null===(n=t.state.texts)||void 0===n?void 0:n.map((function(t){return t[e]}))}))}));Object(c["J"])(l,(function(t){if(t){var e=t.map((function(t){return null===t||void 0===t?void 0:t.join("")})),c=1===e.length?e[0]:e.join("\n");n("text",c)}}),{immediate:!0,deep:!0});var d=Object(c["b"])((function(){return t.state.texts.map((function(t){var e=t.entity;return null!==e&&void 0!==e?e:""})).map((function(t){return a.value.indexOf(t)})).map((function(t){return"colored-"+t}))})),b=Object(c["b"])((function(){return t.state.transition&&t.state.conditions?Object.entries(t.state.conditions).filter((function(t){var e=Object(u["a"])(t,2),n=e[1];return Object.values(n).some((function(t){return t}))})).map((function(t){var e=Object(u["a"])(t,1),n=e[0];return a.value.indexOf(n)})).map((function(t){return"colored-back-"+t})):[]}));return{types:i,texts:l,canGloss:r,textColors:d,dashColors:b}}});n("293e");l.render=i,l.__scopeId="data-v-661aca89";e["a"]=l},b64b:function(t,e,n){var c=n("23e7"),o=n("7b0b"),a=n("df75"),r=n("d039"),i=r((function(){a(1)}));c({target:"Object",stat:!0,forced:i},{keys:function(t){return a(o(t))}})},bb0f:function(t,e,n){"use strict";n("c26c")},c26c:function(t,e,n){},c975:function(t,e,n){"use strict";var c=n("23e7"),o=n("4d64").indexOf,a=n("a640"),r=n("ae40"),i=[].indexOf,u=!!i&&1/[1].indexOf(1,-0)<0,l=a("indexOf"),d=r("indexOf",{ACCESSORS:!0,1:0});c({target:"Array",proto:!0,forced:u||!l||!d},{indexOf:function(t){return u?i.apply(this,arguments)||0:o(this,t,arguments.length>1?arguments[1]:void 0)}})},d6af:function(t,e,n){"use strict";var c=n("7a23");function o(t,e,n,o,a,r){var i=Object(c["B"])("btn");return Object(c["t"])(),Object(c["d"])(i,{icon:"add_box",onClick:t.copy},null,8,["onClick"])}var a=Object(c["i"])({props:{modelValue:{type:Array,default:function(){}},item:{type:Object,default:void 0}},emits:["update:modelValue","update:item"],setup:function(t,e){var n=e.emit,o=Object(c["b"])({get:function(){return t.modelValue},set:function(t){return n("update:modelValue",t)}});function a(){var e=JSON.parse(JSON.stringify(Object(c["E"])(t.item)));o.value.push(e),n("update:item",e)}return{copy:a}}});a.render=o;e["a"]=a},f46f:function(t,e,n){"use strict";n("a49b")}}]);
//# sourceMappingURL=chunk-01c488a6.95a55e77.js.map