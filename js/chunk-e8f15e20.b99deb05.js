(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e8f15e20"],{"3c94":function(e,t,c){"use strict";c.r(t);c("b0c0");var n=c("7a23"),s=Object(n["M"])("data-v-679c71cc");Object(n["v"])("data-v-679c71cc");var a={key:0,class:"section col-1"},r={class:"col-1"},l={class:"row-1"},o={key:1,class:"col-1 flex"},u={class:"scroll"},b={key:0,class:"col"},i={class:"col-0"},j={key:1,class:"col-0"},O={key:0,class:"col-1"};Object(n["t"])();var d=s((function(e,t,c,s,d,p){var h=Object(n["A"])("toggle"),f=Object(n["A"])("btn"),v=Object(n["A"])("PhraseCard");return e.corpus?(Object(n["s"])(),Object(n["d"])("div",a,[Object(n["h"])("div",r,[Object(n["h"])("div",l,[Object(n["h"])(h,{modelValue:e.searching,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searching=t}),icon:"search"},null,8,["modelValue"]),e.searching?Object(n["L"])((Object(n["s"])(),Object(n["d"])("input",{key:0,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.query=t}),class:"flex",type:"text",placeholder:"Search all phrases..."},null,512)),[[n["G"],e.query]]):(Object(n["s"])(),Object(n["d"])("h2",o,[Object(n["L"])(Object(n["h"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.section=t}),style:{flex:"none"},onChange:t[4]||(t[4]=function(t){return e.select(e.section)})},[(Object(n["s"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(e.corpus,(function(e){return Object(n["s"])(),Object(n["d"])("option",{key:e.id,value:e},Object(n["C"])(e.name),9,["value"])})),128))],544),[[n["F"],e.section]])]))]),Object(n["h"])("div",u,[e.searching?(Object(n["s"])(),Object(n["d"])("div",b,[(Object(n["s"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(e.phrases,(function(t,c){return Object(n["s"])(),Object(n["d"])("div",{key:c,class:"col"},[Object(n["h"])("h2",null,Object(n["C"])(e.corpus[c].name),1),Object(n["h"])("div",i,[(Object(n["s"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(t,(function(t){return Object(n["s"])(),Object(n["d"])(f,{key:t,text:e.corpus[c].phrases[t].preview,"is-on":e.phrase===e.corpus[c].phrases[t],onClick:function(n){return e.select(e.corpus[c],e.corpus[c].phrases[t])}},null,8,["text","is-on","onClick"])})),128))])])})),128))])):(Object(n["s"])(),Object(n["d"])("div",j,[(Object(n["s"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(e.phrases,(function(t){return Object(n["s"])(),Object(n["d"])(f,{key:t.id,text:t.preview,"is-on":e.phrase===t,onClick:function(c){return e.select(null,t)}},null,8,["text","is-on","onClick"])})),128))]))])]),e.phrase?(Object(n["s"])(),Object(n["d"])("div",O,[Object(n["h"])(v,{key:e.phrase.id,phrase:e.phrase},null,8,["phrase"]),(Object(n["s"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(e.phrasebooks,(function(t,c){return Object(n["s"])(),Object(n["d"])(v,{key:c+"--"+e.phrase.id,lect:c,phrase:t[e.phrase.id]},null,8,["lect","phrase"])})),128))])):Object(n["e"])("",!0)])):Object(n["e"])("",!0)})),p=(c("4de4"),c("caad"),c("d81d"),c("13d5"),c("d3b7"),c("6062"),c("2532"),c("3ca3"),c("ddb0"),c("3835")),h=Object(n["M"])("data-v-343cc6d0");Object(n["v"])("data-v-343cc6d0");var f={key:0,class:"col-1 card"},v={class:"row-1 small wrap",style:{width:"100%"}},y={class:"flex"},k={class:"row wrap flex"};Object(n["t"])();var g=h((function(e,t,c,s,a,r){var l=Object(n["A"])("btn"),o=Object(n["A"])("toggle"),u=Object(n["A"])("Context"),b=Object(n["A"])("Block"),i=Object(n["A"])("Notes");return e.phrase?(Object(n["s"])(),Object(n["d"])("div",f,[Object(n["h"])("div",v,[e.lect?(Object(n["s"])(),Object(n["d"])(n["a"],{key:0},[Object(n["h"])(l,{icon:"content_copy",onClick:e.copy},null,8,["onClick"]),Object(n["h"])(o,{modelValue:e.glossed,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.glossed=t}),icon:"layers"},null,8,["modelValue"]),Object(n["h"])("h2",y,Object(n["C"])(e.lect),1)],64)):Object(n["e"])("",!0),Object(n["h"])(u,{translation:e.contextTranslation,blocks:e.blocks},null,8,["translation","blocks"])]),Object(n["h"])("div",k,[(Object(n["s"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(e.phrase.blocks,(function(t,c){return Object(n["s"])(),Object(n["d"])(b,{ref:function(t){return e.blocks.push(t)},key:c,glossed:e.glossed,block:t},null,8,["glossed","block"])})),128))]),Object(n["h"])(i,{class:"text-caption",notes:e.phrase.notes},null,8,["notes"])])):Object(n["e"])("",!0)})),x=(c("a15b"),c("5794")),m=c("72e9"),w=c("d9c7"),C=Object(n["i"])({components:{Context:x["a"],Block:m["a"],Notes:w["a"]},props:{lect:{type:String,default:""},phrase:{type:Object,default:void 0}},setup:function(e){var t=Object(n["x"])(!1),c=Object(n["b"])((function(){return e.lect?e.phrase.context:void 0})),s=Object(n["w"])([]),a=Object(n["b"])((function(){return s.filter((function(e){return null===e||void 0===e?void 0:e.visible})).map((function(e){return e.display.text})).join(" ")}));function r(){navigator.clipboard.writeText(a.value)}return{glossed:t,blocks:s,copy:r,contextTranslation:c}}});c("f554");C.render=g,C.__scopeId="data-v-343cc6d0";var A=C,V=(c("96cf"),c("1da1")),B=c("3a0b"),_=Object(n["B"])([]),U=Object(n["B"])(),q=Object(n["B"])({}),I=Object(n["B"])({}),S=Object(B["a"])(Object(V["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(B["b"])("phrasebook");case 2:return _.value=e.sent,e.next=5,Object(B["c"])("phrasebook");case 5:U.value=e.sent,q.value=_.value[0],I.value=q.value.phrases[0];case 8:case"end":return e.stop()}}),e)})))),T=Object(n["i"])({components:{PhraseCard:A},setup:function(){S();var e=Object(n["x"])({});Object(n["I"])(I,(function(t){t.context&&Object(n["n"])((function(){return e.value=t.context.reduce((function(e,t){var c=t.entity;return e[c]=new Set,e}),{})}))}),{immediate:!0}),Object(n["u"])("context",e);var t=Object(n["x"])(!1),c=Object(n["x"])(""),s=Object(n["b"])((function(){var e;return t.value?_.value.reduce((function(e,t,n){return e[n]=t.phrases.map((function(e,t){return[e,t]})).filter((function(e){var t=Object(p["a"])(e,1),n=t[0];return n.preview.includes(c.value)})).map((function(e){var t=Object(p["a"])(e,2),c=t[1];return c})),e[n].length||delete e[n],e}),{}):null===(e=q.value)||void 0===e?void 0:e.phrases}));function a(e,t){e&&(q.value=e),I.value=null!==t&&void 0!==t?t:q.value.phrases[0]}return{searching:t,query:c,corpus:_,section:q,phrase:I,select:a,phrases:s,phrasebooks:U}}});c("982a");T.render=d,T.__scopeId="data-v-679c71cc";t["default"]=T},"5aac":function(e,t,c){},"982a":function(e,t,c){"use strict";c("fd81")},d9c7:function(e,t,c){"use strict";var n=c("7a23"),s={key:0,class:"col"},a={key:0},r={key:1,class:"highlight-font"},l={key:2},o={key:3,class:"text-ipa"};function u(e,t,c,u,b,i){return e.notes.length?(Object(n["s"])(),Object(n["d"])("div",s,[(Object(n["s"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(e.pieces,(function(e,t){return Object(n["s"])(),Object(n["d"])("p",{key:t},[(Object(n["s"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(e,(function(e,t){var c=e.text,s=e.display;return Object(n["s"])(),Object(n["d"])(n["a"],{key:t},["plain"===s?(Object(n["s"])(),Object(n["d"])("span",a,Object(n["C"])(c),1)):"highlight"===s?(Object(n["s"])(),Object(n["d"])("span",r,Object(n["C"])(c),1)):"grapheme"===s?(Object(n["s"])(),Object(n["d"])("b",l,Object(n["C"])(c),1)):(Object(n["s"])(),Object(n["d"])("span",o,Object(n["C"])(c),1))],64)})),128))])})),128))])):Object(n["e"])("",!0)}c("d81d"),c("fb6a"),c("ac1f"),c("1276");var b=c("3835"),i=Object(n["i"])({props:{notes:{type:Array,default:function(){return[]}}},setup:function(e){function t(e,t,c){return e[0]===t&&e[e.length-1]===c}function c(e){for(var c=[["*","*","highlight"],["/","/","phoneme"],["<",">","grapheme"]],n=0,s=c;n<s.length;n++){var a=Object(b["a"])(s[n],3),r=a[0],l=a[1],o=a[2];if(t(e,r,l))return{text:e.slice(1,-1),display:o}}return{text:e,display:"plain"}}var s=Object(n["b"])((function(){var t=/(\/[^/]+\/|<[^<>]+>|\*[^*]+\*)/g;return e.notes.map((function(e){return e.split(t).map((function(e){return c(e)}))}))}));return{pieces:s}}});i.render=u;t["a"]=i},f554:function(e,t,c){"use strict";c("5aac")},fd81:function(e,t,c){}}]);
//# sourceMappingURL=chunk-e8f15e20.b99deb05.js.map