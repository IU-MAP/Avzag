(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fb6481b"],{"07ac":function(e,t,n){var c=n("23e7"),r=n("6f53").values;c({target:"Object",stat:!0},{values:function(e){return r(e)}})},"09a7":function(e,t,n){},1422:function(e,t,n){"use strict";n("ad46")},3935:function(e,t,n){"use strict";n("676b")},"58a9":function(e,t,n){"use strict";n("c73f")},"595b":function(e,t,n){"use strict";n("09a7")},"676b":function(e,t,n){},"80b3":function(e,t,n){"use strict";var c=n("7a23"),r=Object(c["M"])("data-v-1c0e7ebb"),a=r((function(e,t,n,r,a,u){return Object(c["L"])((Object(c["s"])(),Object(c["d"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.input=t}),placeholder:e.placeholder,type:"text"},null,8,["placeholder"])),[[c["G"],e.input]])})),u=(n("4de4"),n("13d5"),n("ac1f"),n("1276"),Object(c["i"])({props:{modelValue:{type:Object,default:function(){return{}}},placeholder:{type:String,default:""}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,r=Object(c["x"])(""),a=Object(c["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}});return Object(c["J"])((function(){return a.value=r.value.toLowerCase().split(" ").filter((function(e){return e})).reduce((function(e,t){return"-"===t[0]?e[t.substr(1)]=!1:e[t]=!0,e}),{})})),{input:r}}}));n("1422");u.render=a,u.__scopeId="data-v-1c0e7ebb";t["a"]=u},"9f53":function(e,t,n){"use strict";n("cb80")},a2dc:function(e,t,n){"use strict";n("e26e")},ab04:function(e,t,n){"use strict";var c=n("7a23"),r=Object(c["M"])("data-v-143c97ea"),a=r((function(e,t,n,r,a,u){return Object(c["s"])(),Object(c["d"])("button",{class:[{"text-faded":e.faded,highlight:e.selected},"col-0"]},[Object(c["h"])("b",null,Object(c["C"])(e.str),1),Object(c["h"])("span",{class:["text-ipa",{"text-faded":e.str}]},Object(c["C"])(e.ipa),3)],2)})),u=Object(c["i"])({props:{selected:Boolean,faded:Boolean,ipa:{type:String,default:""},str:{type:String,default:""}}});n("595b");u.render=a,u.__scopeId="data-v-143c97ea";t["a"]=u},ad46:function(e,t,n){},aeb7:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r=Object(c["M"])("data-v-f95499aa");Object(c["v"])("data-v-f95499aa");var a={key:0,class:"section"},u={class:"col-1 scroll"};Object(c["t"])();var l=r((function(e,t,n,r,l,o){var i=Object(c["A"])("ToggleQuery"),s=Object(c["A"])("InputQuery"),b=Object(c["A"])("Table"),d=Object(c["A"])("Inspector");return e.phonemes?(Object(c["s"])(),Object(c["d"])("div",a,[Object(c["h"])("div",u,[Object(c["h"])(i,{modelValue:e.lectQuery,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.lectQuery=t}),labels:e.lects},null,8,["modelValue","labels"]),Object(c["h"])(s,{modelValue:e.featureQuery,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.featureQuery=t}),placeholder:"Query phonemes, e.g. voiced -velar..."},null,8,["modelValue"]),(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.categories,(function(n){return Object(c["s"])(),Object(c["d"])("div",{key:n,class:"col"},[Object(c["h"])("h2",null,Object(c["C"])(n+"s"),1),Object(c["h"])(b,{modelValue:e.phoneme,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.phoneme=t}),filter:n,"feature-query":e.featureQuery,"lect-query":e.lectQuery,phonemes:e.phonemes},null,8,["modelValue","filter","feature-query","lect-query","phonemes"])])})),128))]),Object(c["h"])(d,{phoneme:e.phoneme},null,8,["phoneme"])])):Object(c["e"])("",!0)})),o={key:0,class:"row scroll small"};function i(e,t,n,r,a,u){var l=Object(c["A"])("btn");return e.visible?(Object(c["s"])(),Object(c["d"])("div",o,[Object(c["h"])(l,{class:"round",icon:"clear",onClick:t[1]||(t[1]=function(t){return e.query={}})}),(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.labels,(function(t){return Object(c["s"])(),Object(c["d"])(l,{key:t,text:t,class:["round",e.highlights[t]],onClick:function(n){return e.toggle(t)}},null,8,["text","class","onClick"])})),128))])):Object(c["e"])("",!0)}n("d81d"),n("4fad"),n("c1f9");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n("3835"),d=Object(c["i"])({props:{modelValue:{type:Object,default:function(){return{}}},labels:{type:Array,default:function(){return[]}}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,r=Object(c["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}});function a(e){e in r.value?r.value[e]?r.value[e]=!1:delete r.value[e]:r.value[e]=!0}var u=Object(c["b"])((function(){return e.labels.length>1})),l=Object(c["b"])((function(){return Object.fromEntries(Object.entries(r.value).map((function(e){var t=Object(b["a"])(e,2),n=t[0],c=t[1];return[n,c?"highlight-confirm":"highlight-alert"]})))})),o=Object(c["b"])((function(){return 1===e.labels.length?s({},e.labels[0],!0):{}}));return Object(c["I"])((function(){return e.labels}),(function(){return r.value=o.value}),{immediate:!0}),{query:r,highlights:l,visible:u,toggle:a}}});d.render=i;var f=d,j=n("80b3"),O=Object(c["M"])("data-v-042d1ac1"),p=O((function(e,t,n,r,a,u){var l=Object(c["A"])("TableEntry");return Object(c["s"])(),Object(c["d"])("div",{id:"root",class:[{narrow:e.narrow},"row scroll wrap"]},[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.filtered,(function(t,n){return Object(c["s"])(),Object(c["d"])(l,{key:n,faded:!e.fitting[n],ipa:t.ipa,str:e.graphemes[n],selected:e.selected==t,onClick:function(n){return e.selected=t}},null,8,["faded","ipa","str","selected","onClick"])})),128))],2)})),v=(n("4de4"),n("caad"),n("b64b"),n("2532"),n("ab04")),h=n("d53c"),y=Object(c["i"])({components:{TableEntry:v["a"]},props:{modelValue:{type:Object,default:function(){return{}}},phonemes:{type:Array,default:function(){return[]}},filter:{type:String,default:""},lectQuery:{type:Object,default:""},featureQuery:{type:Object,default:""}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,r=Object(c["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),a=Object(c["b"])((function(){return e.filter?e.phonemes.filter((function(t){var n=t.tags;return null===n||void 0===n?void 0:n.includes(e.filter)})):e.phonemes})),u=Object(c["b"])((function(){return a.value.map((function(t){var n=t.lects,c=t.tags;return Object(h["a"])(Object.keys(n),e.lectQuery)&&Object(h["a"])(c,e.featureQuery)}))})),l=Object(c["b"])((function(){for(var t="",n=0,c=Object.entries(e.lectQuery);n<c.length;n++){var r=Object(b["a"])(c[n],2),a=r[0],u=r[1];if(u){if(t)break;t=a}}return t})),o=Object(c["b"])((function(){return l.value?a.value.map((function(e){var t,n,c,r=e.lects;return null===(t=r[l.value])||void 0===t||null===(n=t.samples)||void 0===n||null===(c=n[0])||void 0===c?void 0:c.grapheme})):[]})),i=Object(c["b"])((function(){return a.value.length<=12}));return{narrow:i,graphemes:o,fitting:u,selected:r,filtered:a}}});n("a2dc");y.render=p,y.__scopeId="data-v-042d1ac1";var m=y,g=Object(c["M"])("data-v-98c2d5ca");Object(c["v"])("data-v-98c2d5ca");var k={class:"col-1"},w={class:"card col-1"},x={class:"text-ipa"},C={class:"text-caption text-faded text-spaced"},V={ref:"player"};Object(c["t"])();var Q=g((function(e,t,n,r,a,u){var l=Object(c["A"])("InspectorCard");return Object(c["s"])(),Object(c["d"])("div",k,[Object(c["h"])("div",w,[Object(c["h"])("h1",x,Object(c["C"])(e.phoneme.ipa),1),Object(c["h"])("p",C,Object(c["C"])(e.phoneme.tags),1)]),Object(c["h"])("audio",V,null,512),(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.phoneme.lects,(function(t,n){return Object(c["s"])(),Object(c["d"])(l,{key:n,lect:n,use:t,onPlay:e.play},null,8,["lect","use","onPlay"])})),128))])})),A=Object(c["M"])("data-v-f3387164");Object(c["v"])("data-v-f3387164");var I={class:"col-1 card small"},_={class:"title"},S={class:"flex"},E={class:"col-0"},T={class:"icon"};Object(c["t"])();var q=A((function(e,t,n,r,a,u){var l=Object(c["A"])("Notes");return Object(c["s"])(),Object(c["d"])("div",I,[Object(c["h"])("div",_,[Object(c["h"])("h2",S,Object(c["C"])(e.lect),1),(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.graphemes,(function(e){return Object(c["s"])(),Object(c["d"])("p",{key:e,class:"text-dot"},Object(c["C"])(e),1)})),128))]),Object(c["h"])("div",E,[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.fullSamples,(function(t,n){return Object(c["s"])(),Object(c["d"])("button",{key:n,class:"row",onClick:function(t){return e.play(n)}},[Object(c["h"])("span",T,Object(c["C"])(e.playable[n]?"play_arrow":"arrow_right"),1),Object(c["h"])(l,{class:"word",notes:[e.words[n]]},null,8,["notes"]),Object(c["h"])(l,{notes:[e.ipas[n]]},null,8,["notes"])],8,["onClick"])})),128))]),Object(c["h"])(l,{class:"text-caption",notes:e.use.notes},null,8,["notes"])])})),M=(n("4160"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0"),n("d9c7")),B=n("3a0b"),U=Object(c["i"])({components:{Notes:M["a"]},props:{lect:{type:String,default:""},use:{type:Object,default:function(){return{}}}},emits:["play"],setup:function(e,t){var n=t.emit,r=Object(c["b"])((function(){return B["d"]+e.lect+"/audio/"})),a=Object(c["b"])((function(){var t,n=new Set(null===(t=e.use.samples)||void 0===t?void 0:t.map((function(e){var t=e.grapheme;return t})));return n.delete(void 0),n})),u=Object(c["b"])((function(){var t;return null===(t=e.use.samples)||void 0===t?void 0:t.filter((function(e){var t=e.word,n=e.ipa;return t||n}))})),l=Object(c["b"])((function(){var e;return null===(e=u.value)||void 0===e?void 0:e.map((function(e){var t,n=e.word,c=e.ipa;return null!==(t=null===n||void 0===n?void 0:n.replaceAll("*",""))&&void 0!==t?t:c})).map((function(e){return r.value+e+".mp3"}))}));function o(e,t){return e.includes("*")?e:e.replaceAll(t,"*".concat(t,"*"))}var i=Object(c["b"])((function(){var e;return null===(e=u.value)||void 0===e?void 0:e.map((function(e){var t=e.word,n=e.grapheme;return o(null!==t&&void 0!==t?t:"",null!==n&&void 0!==n?n:"")}))})),s=Object(c["b"])((function(){var t;return null===(t=u.value)||void 0===t?void 0:t.map((function(t){var n=t.ipa;return o(null!==n&&void 0!==n?n:"",e.use.phoneme)}))})),b=Object(c["x"])([]);function d(e){b.value[e]&&l.value&&n("play",l.value[e])}return Object(c["I"])(l,(function(e){e&&(b.value=new Array(e.length),e.forEach((function(e,t){return fetch(e,{method:"HEAD"}).then((function(e){var n=e.ok;return b.value[t]=n}))})))}),{immediate:!0}),{play:d,playable:b,ipas:s,words:i,fullSamples:u,graphemes:a}}});n("9f53");U.render=q,U.__scopeId="data-v-f3387164";var J=U,N=Object(c["i"])({components:{InspectorCard:J},props:{phoneme:{type:Object,default:function(){return{}}}},setup:function(){var e=Object(c["x"])({});function t(t){e.value.src=t,e.value.play()}return{player:e,play:t}}});n("58a9");N.render=Q,N.__scopeId="data-v-98c2d5ca";var P,R=N,L=(n("07ac"),n("96cf"),n("1da1")),D=n("b85c"),G=Object(c["x"])([]),H=Object(c["B"])(),z=Object(c["B"])();function F(e){var t,n="",c=Object(D["a"])(P.primary);try{for(c.s();!(t=c.n()).done;){var r=t.value,a=r.ipa,u=r.tags;if(e.includes(a)){n+=u;break}}}catch(d){c.e(d)}finally{c.f()}var l,o=Object(D["a"])(P.secondary);try{for(o.s();!(l=o.n()).done;){var i=l.value,s=i.ipa,b=i.tags;e.includes(s)&&(n+=" "+b)}}catch(d){o.e(d)}finally{o.f()}return n}function K(e){var t={},n=function(n){var c=e[n];if(!c)return"continue";c.forEach((function(e){var c=e.phoneme;c in t||(t[c]={ipa:c,tags:F(c),lects:{}}),t[c].lects[n]=e}))};for(var c in e)n(c);H.value=Object.values(t),H.value.sort((function(e,t){var n=e.ipa,c=t.ipa;return n>c?1:c>n?-1:0})),z.value=H.value[0]}var W=Object(B["a"])(Object(L["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(B["b"])("ipa");case 2:return P=e.sent,e.next=5,Object(B["c"])("phonology");case 5:t=e.sent,G.value=Object.keys(t),K(t);case 8:case"end":return e.stop()}}),e)})))),X=Object(c["i"])({components:{ToggleQuery:f,InputQuery:j["a"],Table:m,Inspector:R},setup:function(){W();var e=["vowel","consonant"],t=Object(c["x"])({}),n=Object(c["x"])({});return{phonemes:H,phoneme:z,lects:G,categories:e,lectQuery:t,featureQuery:n}}});n("3935");X.render=l,X.__scopeId="data-v-f95499aa";t["default"]=X},b64b:function(e,t,n){var c=n("23e7"),r=n("7b0b"),a=n("df75"),u=n("d039"),l=u((function(){a(1)}));c({target:"Object",stat:!0,forced:l},{keys:function(e){return a(r(e))}})},c1f9:function(e,t,n){var c=n("23e7"),r=n("2266"),a=n("8418");c({target:"Object",stat:!0},{fromEntries:function(e){var t={};return r(e,(function(e,n){a(t,e,n)}),{AS_ENTRIES:!0}),t}})},c73f:function(e,t,n){},cb80:function(e,t,n){},d53c:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("caad"),n("4fad"),n("2532");var c=n("3835");function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return!0;var r=Object.entries(t);if(n&&!r.length)return!1;for(var a=0,u=r;a<u.length;a++){var l=Object(c["a"])(u[a],2),o=l[0],i=l[1];if(i!==e.includes(o))return!1}return!0}},d9c7:function(e,t,n){"use strict";var c=n("7a23"),r={key:0,class:"col"},a={key:0},u={key:1,class:"highlight-font"},l={key:2},o={key:3,class:"text-ipa"};function i(e,t,n,i,s,b){return e.notes.length?(Object(c["s"])(),Object(c["d"])("div",r,[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.pieces,(function(e,t){return Object(c["s"])(),Object(c["d"])("p",{key:t},[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e,(function(e,t){var n=e.text,r=e.display;return Object(c["s"])(),Object(c["d"])(c["a"],{key:t},["plain"===r?(Object(c["s"])(),Object(c["d"])("span",a,Object(c["C"])(n),1)):"highlight"===r?(Object(c["s"])(),Object(c["d"])("span",u,Object(c["C"])(n),1)):"grapheme"===r?(Object(c["s"])(),Object(c["d"])("b",l,Object(c["C"])(n),1)):(Object(c["s"])(),Object(c["d"])("span",o,Object(c["C"])(n),1))],64)})),128))])})),128))])):Object(c["e"])("",!0)}n("d81d"),n("fb6a"),n("ac1f"),n("1276");var s=n("3835"),b=Object(c["i"])({props:{notes:{type:Array,default:function(){return[]}}},setup:function(e){function t(e,t,n){return e[0]===t&&e[e.length-1]===n}function n(e){for(var n=[["*","*","highlight"],["/","/","phoneme"],["<",">","grapheme"]],c=0,r=n;c<r.length;c++){var a=Object(s["a"])(r[c],3),u=a[0],l=a[1],o=a[2];if(t(e,u,l))return{text:e.slice(1,-1),display:o}}return{text:e,display:"plain"}}var r=Object(c["b"])((function(){var t=/(\/[^/]+\/|<[^<>]+>|\*[^*]+\*)/g;return e.notes.map((function(e){return e.split(t).map((function(e){return n(e)}))}))}));return{pieces:r}}});b.render=i;t["a"]=b},e26e:function(e,t,n){}}]);
//# sourceMappingURL=chunk-2fb6481b.2c7d5a98.js.map