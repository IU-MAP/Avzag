(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f540e14"],{"0e07":function(e,t,n){"use strict";n("ed82")},"2d64":function(e,t,n){"use strict";n("4760")},"2db1":function(e,t,n){},"35d6":function(e,t,n){"use strict";n("a07b")},"3c94":function(e,t,n){"use strict";n.r(t);n("b0c0");var c=n("7a23"),a=Object(c["N"])("data-v-de9b1f50");Object(c["u"])("data-v-de9b1f50");var r={class:"section col-1"},o={class:"col-1"},u={class:"row"},l={key:1,class:"col-1 flex"},s={key:0,class:"scroll col phrases"},i={class:"col-0"},d={key:1,class:"scroll col-0 phrases"};Object(c["s"])();var b=a((function(e,t,n,a,b,O){var j=Object(c["A"])("toggle"),v=Object(c["A"])("InputQuery"),f=Object(c["A"])("btn"),p=Object(c["A"])("PhraseCard");return Object(c["r"])(),Object(c["d"])("div",r,[Object(c["g"])("div",o,[Object(c["g"])("div",u,[Object(c["g"])(j,{modelValue:e.searching,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searching=t}),icon:"search"},null,8,["modelValue"]),e.searching?(Object(c["r"])(),Object(c["d"])(v,{key:0,modelValue:e.query,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.query=t}),placeholder:"Search in English & translations"},null,8,["modelValue"])):(Object(c["r"])(),Object(c["d"])("h2",l,[Object(c["M"])(Object(c["g"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.section=t}),style:{flex:"none"},onChange:t[4]||(t[4]=function(t){return e.select(e.section)})},[(Object(c["r"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.corpus,(function(e){return Object(c["r"])(),Object(c["d"])("option",{key:e.id,value:e},Object(c["C"])(e.name),9,["value"])})),128))],544),[[c["G"],e.section]])]))]),e.searching?(Object(c["r"])(),Object(c["d"])("div",s,[(Object(c["r"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.phrases,(function(t,n){return Object(c["r"])(),Object(c["d"])(c["a"],{key:n},[Object(c["g"])("h2",null,Object(c["C"])(e.corpus[n].name),1),Object(c["g"])("div",i,[(Object(c["r"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(t,(function(t){return Object(c["r"])(),Object(c["d"])(f,{key:t,text:e.corpus[n].phrases[t].name,"is-on":e.phrase===e.corpus[n].phrases[t],onClick:function(c){return e.select(e.corpus[n],e.corpus[n].phrases[t])}},null,8,["text","is-on","onClick"])})),128))])],64)})),128))])):(Object(c["r"])(),Object(c["d"])("div",d,[(Object(c["r"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.phrases,(function(t){return Object(c["r"])(),Object(c["d"])(f,{key:t.id,text:t.name,"is-on":e.phrase===t,onClick:function(n){return e.select(null,t)}},null,8,["text","is-on","onClick"])})),128))]))]),e.phrase?(Object(c["r"])(),Object(c["d"])("div",{key:e.phrase.id,class:"col-1"},[Object(c["g"])(p,{phrase:e.phrase},null,8,["phrase"]),(Object(c["r"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.phrasebooks,(function(t,n){return Object(c["r"])(),Object(c["d"])(p,{key:n,lect:n,path:e.path,phrase:t[e.phrase.id]},null,8,["lect","path","phrase"])})),128))])):Object(c["e"])("",!0)])})),O=(n("a623"),n("a15b"),n("d81d"),n("13d5"),Object(c["N"])("data-v-3cf77e57"));Object(c["u"])("data-v-3cf77e57");var j={key:0,class:"col card flag"},v={key:0,class:"row small wrap",style:{width:"100%"}},f={class:"flex"},p={class:"row"},h={class:"row wrap flex"};Object(c["s"])();var g=O((function(e,t,n,a,r,o){var u,l,s=Object(c["A"])("Flag"),i=Object(c["A"])("toggle"),d=Object(c["A"])("btn"),b=Object(c["A"])("Context"),O=Object(c["A"])("Seeker"),g=Object(c["A"])("Block"),y=Object(c["A"])("Notes");return null!==(u=e.phrase)&&void 0!==u&&null!==(l=u.blocks)&&void 0!==l&&l.length?(Object(c["r"])(),Object(c["d"])("div",j,[Object(c["g"])(s,{lect:e.lect,class:"blur"},null,8,["lect"]),e.lect?(Object(c["r"])(),Object(c["d"])("div",v,[Object(c["g"])("h2",f,Object(c["C"])(e.lect),1),Object(c["g"])("div",p,[Object(c["g"])(i,{modelValue:e.playing,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.playing=t}),icon:"play_arrow"},null,8,["modelValue"]),Object(c["g"])(d,{icon:"assignment",onClick:e.copy},null,8,["onClick"]),Object(c["g"])(i,{modelValue:e.glossed,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.glossed=t}),icon:"segment"},null,8,["modelValue"])])])):Object(c["e"])("",!0),Object(c["g"])(b,{translation:e.contextTranslation,blocks:e.vblocks},null,8,["translation","blocks"]),Object(c["g"])("div",h,[(Object(c["r"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.phrase.blocks,(function(t,n){var a,r;return Object(c["r"])(),Object(c["d"])("div",{key:n,class:"blocks row seeker"},[null!==(a=e.vblocks[n])&&void 0!==a&&a.state?(Object(c["r"])(),Object(c["d"])(O,{key:0,check:e.playing,seek:null===(r=e.player.queue[n])||void 0===r?void 0:r.seek},null,8,["check","seek"])):Object(c["e"])("",!0),Object(c["g"])(g,{block:t,glossed:e.glossed,onUpdate:function(t){return e.vblocks[n]=t}},null,8,["block","glossed","onUpdate"])])})),128))]),Object(c["g"])(y,{class:"text-caption",notes:e.phrase.notes},null,8,["notes"])])):Object(c["e"])("",!0)})),y=(n("4de4"),n("498a"),n("5794")),k=n("72e9"),m=n("d9c7"),x=n("f929"),w=n("9458"),C=n("e7de"),A=Object(c["h"])({components:{Context:y["a"],Block:k["a"],Notes:m["a"],Flag:x["a"],Seeker:w["a"]},props:{lect:{type:String,default:""},path:{type:String,default:""},phrase:{type:Object,default:void 0}},setup:function(e){var t=Object(c["x"])(!1),n=Object(c["v"])([]),a=Object(c["b"])((function(){return e.lect&&!t.value?e.phrase.context:null})),r=Object(c["b"])((function(){return n.filter((function(e){var t=e.state;return t})).map((function(e){var t=e.text,n=e.state;return(null!==n&&void 0!==n&&n.noSpace?"":" ")+t})).join("").trim()}));function o(){navigator.clipboard.writeText(r.value)}var u=Object(c["b"])({get:function(){return C["a"].key===e.lect},set:function(t){t?C["a"].play(e.lect,n.map((function(e){var t,n=e.state,c=e.text;return null===(null===n||void 0===n?void 0:n.audio)?null:null!==(t=null===n||void 0===n?void 0:n.audio)&&void 0!==t?t:c.toLowerCase()})).map((function(t){return null===t?"":e.path+(null!==t&&void 0!==t?t:"")}))):C["a"].stop()}});return{glossed:t,vblocks:n,copy:o,player:C["a"],playing:u,contextTranslation:a}}});n("0e07");A.render=g,A.__scopeId="data-v-3cf77e57";var S=A,V=n("80b3"),_=n("ac93"),N=n("7ec3"),E=n("d53c"),I=Object(c["h"])({components:{PhraseCard:S,InputQuery:V["a"]},setup:function(){var e=Object(c["x"])({});Object(c["J"])(_["b"],(function(t){return Object(N["c"])(e,null===t||void 0===t?void 0:t.context)}),{immediate:!0}),Object(c["t"])("context",e);var t=Object(c["b"])((function(){var e,t,n=["phrasebook",null===(e=_["e"].value)||void 0===e?void 0:e.name,null===(t=_["b"].value)||void 0===t?void 0:t.name];return n.every((function(e){return e}))?n.map((function(e){return e+"/"})).join(""):""})),n=Object(c["x"])(!1),a=Object(c["x"])({}),r=Object(c["b"])((function(){var e;return n.value?_["a"].value.reduce((function(e,t,n){return e[n]=t.phrases.reduce((function(e,t,c){return Object(E["a"])(_["d"].value[n][c],a.value)&&e.push(c),e}),[]),e[n].length||delete e[n],e}),{}):null===(e=_["e"].value)||void 0===e?void 0:e.phrases}));function o(e,t){var n;e&&(_["e"].value=e),_["b"].value=null!==t&&void 0!==t?t:null===(n=_["e"].value)||void 0===n?void 0:n.phrases[0]}return{searching:n,query:a,corpus:_["a"],section:_["e"],phrase:_["b"],select:o,phrases:r,phrasebooks:_["c"],path:t}}});n("66eb");I.render=b,I.__scopeId="data-v-de9b1f50";t["default"]=I},"45fc":function(e,t,n){"use strict";var c=n("23e7"),a=n("b727").some,r=n("a640"),o=n("ae40"),u=r("some"),l=o("some");c({target:"Array",proto:!0,forced:!u||!l},{some:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},4760:function(e,t,n){},5794:function(e,t,n){"use strict";var c=n("7a23"),a=Object(c["N"])("data-v-05dd3a1d");Object(c["u"])("data-v-05dd3a1d");var r={class:"row text-caption wrap"},o=Object(c["g"])("div",{class:"icon"},"info",-1),u={key:1,class:"no-select"};Object(c["s"])();var l=a((function(e,t,n,a,l,s){return Object(c["r"])(),Object(c["d"])("div",r,[o,e.any?(Object(c["r"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["y"])(e.translated,(function(e,t){return Object(c["r"])(),Object(c["d"])(c["a"],{key:t},[e.length?(Object(c["r"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["y"])(e,(function(e){return Object(c["r"])(),Object(c["d"])("p",{key:e+"--"+t,class:"colored-dot-"+t},Object(c["C"])(e),3)})),128)):Object(c["e"])("",!0)],64)})),128)):(Object(c["r"])(),Object(c["d"])("p",u,"â€¦"))])})),s=(n("4de4"),n("4160"),n("d81d"),n("45fc"),n("4fad"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0"),n("2909")),i=n("3835"),d=n("b85c"),b=Object(c["h"])({name:"Context",props:{translation:{type:Object,default:function(){return{}}},blocks:{type:Array,default:function(){return[]}}},setup:function(e){var t=Object(c["k"])("context",{}),n=Object(c["b"])((function(){var t,n={},c=Object(d["a"])(e.blocks);try{for(c.s();!(t=c.n()).done;){var a=t.value.state,r=null===a||void 0===a?void 0:a.conditions;r&&Object.entries(r).forEach((function(e){var t=Object(i["a"])(e,2),c=t[0],a=t[1];return Object.entries(a).forEach((function(e){var t=Object(i["a"])(e,1),a=t[0];n[c]||(n[c]=new Set),n[c].add(a)}))}))}}catch(o){c.e(o)}finally{c.f()}return n}));function a(e,t){return(null===e||void 0===e?void 0:e[t])||t}var r=Object(c["b"])((function(){return Object.entries(t.value).map((function(t){var c=Object(i["a"])(t,2),r=c[0],o=c[1];return Object(s["a"])(o).filter((function(e){var t;return!(null!==(t=n.value[r])&&void 0!==t&&t.has(e))})).map((function(t){var n;return a(null===(n=e.translation)||void 0===n?void 0:n[r],t)}))}))})),o=Object(c["b"])((function(){return r.value.some((function(e){return null===e||void 0===e?void 0:e.length}))}));return{translated:r,any:o}}});n("35d6");b.render=l,b.__scopeId="data-v-05dd3a1d";t["a"]=b},"66eb":function(e,t,n){"use strict";n("c1b4")},"72e9":function(e,t,n){"use strict";var c=n("7a23"),a=Object(c["N"])("data-v-6daab2aa"),r=a((function(e,t,n,a,r,o){var u=Object(c["A"])("VState");return e.state?Object(c["M"])((Object(c["r"])(),Object(c["d"])("button",{key:0,ref:"button",class:["small",{disabled:e.disabled,glossed:e.glossed,flash:e.flash}],onClick:t[2]||(t[2]=function(){return e.move&&e.move.apply(e,arguments)})},[Object(c["g"])(u,{glossed:e.glossed,state:e.state,onText:t[1]||(t[1]=function(t){return e.text=t})},null,8,["glossed","state"])],2)),[[c["I"],e.text]]):Object(c["e"])("",!0)})),o=(n("5db7"),n("c975"),n("d81d"),n("73d9"),n("b64b"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("2909")),u=n("3835"),l=n("af66"),s=n("7ec3"),i=Object(c["h"])({name:"Block",components:{VState:l["a"]},props:{block:{type:Array,default:void 0},glossed:Boolean},emits:["update"],setup:function(e,t){var n=t.emit,a=Object(c["x"])(),r=Object(c["x"])("");Object(c["J"])([a,r],(function(e){var t=Object(u["a"])(e,2),c=t[0],a=t[1];return n("update",{state:c,text:a})}),{immediate:!0});var l=Object(c["b"])((function(){var t;return!(null!==(t=a.value)&&void 0!==t&&t.transition)||e.block.length<2})),i=Object(c["k"])("context",{});function d(e){var t;Object(c["D"])(e)!==Object(c["D"])(a.value)&&(Object(s["a"])(i,null===(t=a.value)||void 0===t?void 0:t.conditions,!1),Object(s["a"])(i,null===e||void 0===e?void 0:e.conditions,!0),a.value=e)}var b=Object(c["b"])((function(){var t=e.block.flatMap((function(e){var t=e.conditions;return t?Object.keys(t):[]}));return Object(o["a"])(new Set(t)).map((function(e){return i.value[e]}))}));function O(){var t,n;if(!l.value){var r,o=null===(t=a.value)||void 0===t?void 0:t.transition,u=e.block;if("next"===o){var b=a.value?u.indexOf(Object(c["D"])(a.value)):-1;r=u[(b+1)%u.length]}else o&&(r=Object(s["d"])(o,u,i.value));d(r),Object(s["b"])(null===(n=r)||void 0===n?void 0:n.conditions,i.value)[0]<0&&(a.value=void 0)}}Object(c["J"])(b,(function(){return d(Object(s["d"])(void 0,e.block,i.value))}),{immediate:!0,deep:!0});var j=Object(c["x"])(!1);return Object(c["J"])(a,(function(){j.value=!1,setTimeout((function(){return j.value=!0}),50)})),{flash:j,move:O,state:a,disabled:l,text:r}}});n("2d64");i.render=r,i.__scopeId="data-v-6daab2aa";t["a"]=i},"7ec3":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l}));n("4160"),n("d81d"),n("4fad"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0");var c=n("3835");function a(){return{text:{plain:"new state"}}}function r(e,t){t&&(e.value={},t.forEach((function(t){var n=t.entity;return e.value[n]=new Set})))}function o(e,t){if(!e)return[1,0];for(var n=0,a=0,r=0,o=Object.entries(e);r<o.length;r++)for(var u=Object(c["a"])(o[r],2),l=u[0],s=u[1],i=0,d=Object.entries(s);i<d.length;i++){var b,O=Object(c["a"])(d[i],2),j=O[0],v=O[1],f=null===(b=t[l])||void 0===b?void 0:b.has(j);if(!v&&!f)return[-1,0];f&&(n+=1),a+=1}return[n/(a||1),a]}function u(e,t,n){var a,r,u=-1,l=0,s=null!==(a=null===e||void 0===e?void 0:e.map((function(e){return t[e]})))&&void 0!==a?a:t;return s.forEach((function(e){var t=o(e.conditions,n),a=Object(c["a"])(t,2),s=a[0],i=a[1];(1===u?1===s&&i>l:s>u)&&(r=e,u=s,l=i)})),r}function l(e,t,n){t&&e.value&&Object.entries(t).forEach((function(t){var a=Object(c["a"])(t,2),r=a[0],o=a[1];return Object.entries(o).forEach((function(t){var a=Object(c["a"])(t,2),o=a[0],u=a[1],l=e.value[r];u&&l&&(n?l.add(o):l.delete(o))}))}))}},a07b:function(e,t,n){},a25b:function(e,t,n){"use strict";n("2db1")},a623:function(e,t,n){"use strict";var c=n("23e7"),a=n("b727").every,r=n("a640"),o=n("ae40"),u=r("every"),l=o("every");c({target:"Array",proto:!0,forced:!u||!l},{every:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},af66:function(e,t,n){"use strict";n("a15b");var c=n("7a23"),a=Object(c["N"])("data-v-27e17666");Object(c["u"])("data-v-27e17666");var r={class:"row dashes"};Object(c["s"])();var o=a((function(e,t,n,a,o,u){var l,s=Object(c["A"])("Notes");return Object(c["r"])(),Object(c["d"])("div",{class:["display row",{glossed:e.canGloss,"text-faded":null===(l=e.state)||void 0===l?void 0:l.implicit}]},[Object(c["g"])(s,{class:"col-0",notes:e.texts,onTexts:t[1]||(t[1]=function(t){return e.emit("text",t.join("\n"))})},null,8,["notes"]),Object(c["g"])("div",r,[(Object(c["r"])(!0),Object(c["d"])(c["a"],null,Object(c["y"])(e.dashColors,(function(e,t){return Object(c["r"])(),Object(c["d"])("p",{key:t,class:e},null,2)})),128))])],2)})),u=(n("4de4"),n("c975"),n("d81d"),n("45fc"),n("4fad"),n("b64b"),n("07ac"),n("3835")),l=n("d9c7"),s=Object(c["h"])({name:"State",components:{Notes:l["a"]},props:{state:{type:Object,default:function(){return{}}},glossed:{type:Boolean,default:!1}},emits:["text"],setup:function(e,t){var n=t.emit,a=Object(c["k"])("context",{}),r=Object(c["b"])((function(){return Object.keys(a.value)})),o=Object(c["b"])((function(){return e.glossed&&e.state&&(e.state.text.ipa||e.state.text.glossed)})),l=Object(c["b"])((function(){var t=[];return o.value?(e.state.text.ipa&&t.push("/"+e.state.text.ipa+"/"),e.state.text.glossed&&t.push(e.state.text.glossed)):t.push(e.state.text.plain),t})),s=Object(c["b"])((function(){return e.state.transition&&e.state.conditions?Object.entries(e.state.conditions).filter((function(e){var t=Object(u["a"])(e,2),n=t[1];return Object.values(n).some((function(e){return e}))})).map((function(e){var t=Object(u["a"])(e,1),n=t[0];return r.value.indexOf(n)})).map((function(e){return"colored-back-"+e})):[]}));return{texts:l,canGloss:o,dashColors:s,emit:n}}});n("a25b");s.render=o,s.__scopeId="data-v-27e17666";t["a"]=s},c1b4:function(e,t,n){},c975:function(e,t,n){"use strict";var c=n("23e7"),a=n("4d64").indexOf,r=n("a640"),o=n("ae40"),u=[].indexOf,l=!!u&&1/[1].indexOf(1,-0)<0,s=r("indexOf"),i=o("indexOf",{ACCESSORS:!0,1:0});c({target:"Array",proto:!0,forced:l||!s||!i},{indexOf:function(e){return l?u.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},ed82:function(e,t,n){}}]);