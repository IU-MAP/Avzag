(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-548fa39f"],{"0d95":function(e,t,n){"use strict";n("cb53")},"1b3c":function(e,t,n){"use strict";n("52f5")},"45f3":function(e,t,n){},"52f5":function(e,t,n){},7004:function(e,t,n){"use strict";n("e09a")},cb53:function(e,t,n){},e09a:function(e,t,n){},e701:function(e,t,n){"use strict";n.r(t);n("b0c0");var o=n("7a23"),c=Object(o["N"])("data-v-31548622");Object(o["w"])("data-v-31548622");var a={key:0,class:"section col-2 small grid"},r={class:"col-2"},u={class:"col scroll"},i={class:"col scroll"};Object(o["u"])();var l=c((function(e,t,n,l,d,s){var b=Object(o["B"])("ArrayShift"),f=Object(o["B"])("ConfirmButton"),p=Object(o["B"])("btn"),O=Object(o["B"])("EditorCard"),j=Object(o["B"])("BlocksOrderEditor"),v=Object(o["B"])("ContextEditor"),m=Object(o["B"])("BlockEditor");return e.file?(Object(o["t"])(),Object(o["d"])("div",a,[Object(o["h"])("div",r,[Object(o["h"])(O,{icon:"topic",header:"sections",onAction:e.addSection},Object(o["f"])({default:c((function(){return[Object(o["h"])("div",u,[(Object(o["t"])(!0),Object(o["d"])(o["a"],null,Object(o["z"])(e.file,(function(t){return Object(o["t"])(),Object(o["d"])("div",{key:t.id,class:"row"},[Object(o["h"])(p,{icon:"edit","is-on":e.section===t,onClick:function(n){return e.section=t}},null,8,["is-on","onClick"]),Object(o["M"])(Object(o["h"])("input",{"onUpdate:modelValue":function(e){return t.name=e},class:"flex",type:"text"},null,8,["onUpdate:modelValue"]),[[o["H"],t.name]])])})),128))])]})),_:2},[e.section?{name:"header",fn:c((function(){return[Object(o["h"])(b,{modelValue:e.file,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.file=t}),item:e.section},null,8,["modelValue","item"]),Object(o["h"])(f,{onConfirm:e.removeSection},null,8,["onConfirm"])]}))}:void 0]),1032,["onAction"]),e.section?(Object(o["t"])(),Object(o["d"])(O,{key:0,icon:"short_text",header:"phrases",onAction:e.addPhrase},Object(o["f"])({default:c((function(){return[Object(o["h"])("div",i,[(Object(o["t"])(!0),Object(o["d"])(o["a"],null,Object(o["z"])(e.section.phrases,(function(t){return Object(o["t"])(),Object(o["d"])("div",{key:t.id,class:"row"},[Object(o["h"])(p,{icon:"edit","is-on":e.phrase===t,onClick:function(n){return e.phrase=t}},null,8,["is-on","onClick"]),Object(o["M"])(Object(o["h"])("input",{"onUpdate:modelValue":function(e){return t.name=e},class:"flex",type:"text"},null,8,["onUpdate:modelValue"]),[[o["H"],t.name]])])})),128))])]})),_:2},[e.phrase?{name:"header",fn:c((function(){return[Object(o["h"])(b,{modelValue:e.section.phrases,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.section.phrases=t}),item:e.phrase},null,8,["modelValue","item"]),Object(o["h"])(f,{onConfirm:e.removePhrase},null,8,["onConfirm"])]}))}:void 0]),1032,["onAction"])):Object(o["e"])("",!0),e.phrase?(Object(o["t"])(),Object(o["d"])(o["a"],{key:1},[Object(o["h"])(j,{key:e.phrase.id,modelValue:e.block,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.block=t}),phrase:e.phrase,"onUpdate:phrase":t[4]||(t[4]=function(t){return e.phrase=t})},null,8,["modelValue","phrase"]),e.phrase?(Object(o["t"])(),Object(o["d"])(v,{key:0,modelValue:e.phrase.context,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.phrase.context=t})},null,8,["modelValue"])):Object(o["e"])("",!0)],64)):Object(o["e"])("",!0)]),e.block?(Object(o["t"])(),Object(o["d"])(m,{key:0,modelValue:e.block,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.block=t})},null,8,["modelValue"])):Object(o["e"])("",!0)])):Object(o["e"])("",!0)})),d=(n("c975"),n("a434"),n("4c33")),s=n("04d4"),b=n("7694"),f=n("428a"),p=Object(o["N"])("data-v-7dce49e6");Object(o["w"])("data-v-7dce49e6");var O={class:"col scroll"};Object(o["u"])();var j=p((function(e,t,n,c,a,r){var u=Object(o["B"])("btn"),i=Object(o["B"])("EditorCard");return Object(o["t"])(),Object(o["d"])(i,{icon:"list_alt",header:"context",onAction:e.add},{default:p((function(){return[Object(o["h"])("div",O,[(Object(o["t"])(!0),Object(o["d"])(o["a"],null,Object(o["z"])(e.context,(function(t,n){return Object(o["t"])(),Object(o["d"])("div",{key:n,class:"row"},[Object(o["M"])(Object(o["h"])("input",{"onUpdate:modelValue":function(e){return t.entity=e},class:["entity","colored-"+n],type:"text",placeholder:"entity"},null,10,["onUpdate:modelValue"]),[[o["H"],t.entity]]),Object(o["M"])(Object(o["h"])("input",{"onUpdate:modelValue":function(t){return e.tags[n]=t},class:"flex",type:"text",placeholder:"tags",onChange:function(t){return e.update(n)}},null,40,["onUpdate:modelValue","onChange"]),[[o["H"],e.tags[n]]]),Object(o["h"])(u,{icon:"clear",onClick:function(t){return e.remove(n)}},null,8,["onClick"])])})),128))])]})),_:1},8,["onAction"])})),v=(n("4de4"),n("a15b"),n("d81d"),n("ac1f"),n("1276"),Object(o["i"])({name:"ContextEditor",components:{EditorCard:b["a"]},props:{modelValue:{type:Array,default:void 0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,c=Object(o["b"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),a=Object(o["y"])([]);function r(){c.value||(c.value=[]),c.value.push({entity:"entity #"+c.value.length,tags:[]})}function u(e){c.value.splice(e,1)}function i(e){c.value[e].tags=a.value[e].split(" ").filter((function(e){return e}))}return Object(o["J"])(c,(function(e){return a.value=e.map((function(e){var t=e.tags;return t.join(" ")}))}),{immediate:!0,deep:!0}),{context:c,tags:a,add:r,remove:u,update:i}}}));n("7004");v.render=j,v.__scopeId="data-v-7dce49e6";var m,h=v,y=n("9362"),k=new Uint8Array(16);function V(){if(!m&&(m="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!m))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m(k)}var g=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function C(e){return"string"===typeof e&&g.test(e)}for(var x=C,w=[],E=0;E<256;++E)w.push((E+256).toString(16).substr(1));function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(w[e[t+0]]+w[e[t+1]]+w[e[t+2]]+w[e[t+3]]+"-"+w[e[t+4]]+w[e[t+5]]+"-"+w[e[t+6]]+w[e[t+7]]+"-"+w[e[t+8]]+w[e[t+9]]+"-"+w[e[t+10]]+w[e[t+11]]+w[e[t+12]]+w[e[t+13]]+w[e[t+14]]+w[e[t+15]]).toLowerCase();if(!x(n))throw TypeError("Stringified UUID is invalid");return n}var B=U;function A(e,t,n){e=e||{};var o=e.random||(e.rng||V)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var c=0;c<16;++c)t[n+c]=o[c];return t}return B(o)}var S=A,_=n("9392"),J=n("7ec3"),R=Object(o["i"])({components:{ArrayShift:d["a"],ConfirmButton:s["a"],EditorCard:b["a"],BlocksOrderEditor:f["a"],ContextEditor:h,BlockEditor:y["a"]},setup:function(){var e=Object(_["d"])({defaultFile:[],filename:function(){return window.confirm("You're resetting phrasebook corpus.")?"phrasebook":""},storage:"editor.phrasebookCorpus"}),t=Object(o["y"])(void 0),n=Object(o["y"])(void 0),c=Object(o["y"])(void 0),a=Object(o["b"])((function(){var e;return null===(e=n.value)||void 0===e?void 0:e.context})),r=Object(o["y"])({});function u(){var n={id:S(),name:"New section",phrases:[]};e.value.push(n),t.value=n}function i(){t.value&&(e.value.splice(Object(o["E"])(e.value).indexOf(Object(o["E"])(t.value)),1),t.value=e.value[e.value.length-1])}function l(){if(t.value){var e={id:S(),name:"New phrase",context:[],blocks:[]};t.value.phrases.push(e),n.value=e}}function d(){if(t.value&&n.value){var e=Object(o["E"])(t.value.phrases);e.splice(e.indexOf(Object(o["E"])(n.value)),1),n.value=e[e.length-1]}}return Object(o["v"])("contextSource",a),Object(o["v"])("context",r),Object(o["J"])(a,(function(e){return Object(J["c"])(r,e)}),{immediate:!0,deep:!0}),Object(o["J"])(e,(function(e){return t.value=e[e.length-1]}),{immediate:!0}),Object(o["J"])(t,(function(e){var t;return n.value=null===e||void 0===e||null===(t=e.phrases)||void 0===t?void 0:t[e.phrases.length-1]}),{immediate:!0}),Object(o["J"])(n,(function(e){var t;return c.value=null===e||void 0===e||null===(t=e.blocks)||void 0===t?void 0:t[e.blocks.length-1]}),{immediate:!0}),{file:e,section:t,phrase:n,block:c,addSection:u,removeSection:i,addPhrase:l,removePhrase:d}}});n("1b3c"),n("e959"),n("0d95");R.render=l,R.__scopeId="data-v-31548622";t["default"]=R},e959:function(e,t,n){"use strict";n("45f3")}}]);
//# sourceMappingURL=chunk-548fa39f.027a601d.js.map