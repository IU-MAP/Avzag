(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3be898f7"],{"0481":function(t,e,n){"use strict";var r=n("23e7"),a=n("a2bf"),i=n("7b0b"),c=n("50c4"),o=n("a691"),u=n("65f0");r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=i(this),n=c(e.length),r=u(e,0);return r.length=a(r,e,e,n,0,void 0===t?1:o(t)),r}})},"1e2d":function(t,e,n){"use strict";n("22fe")},"22fe":function(t,e,n){},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("6b75");function a(t){if(Array.isArray(t))return Object(r["a"])(t)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var c=n("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return a(t)||i(t)||Object(c["a"])(t)||o()}},4069:function(t,e,n){var r=n("44d2");r("flat")},"45fc":function(t,e,n){"use strict";var r=n("23e7"),a=n("b727").some,i=n("a640"),c=n("ae40"),o=i("some"),u=c("some");r({target:"Array",proto:!0,forced:!o||!u},{some:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},5794:function(t,e,n){"use strict";var r=n("7a23"),a=Object(r["M"])("data-v-b8057b7c");Object(r["w"])("data-v-b8057b7c");var i={class:"row text-caption wrap"},c=Object(r["h"])("div",{class:"icon"},"info",-1),o=Object(r["g"])("…");Object(r["u"])();var u=a((function(t,e,n,a,u,s){return Object(r["t"])(),Object(r["d"])("div",i,[c,t.any?(Object(r["t"])(!0),Object(r["d"])(r["a"],{key:0},Object(r["z"])(t.tags,(function(t,e){return Object(r["t"])(),Object(r["d"])(r["a"],{key:e},[t.length?(Object(r["t"])(!0),Object(r["d"])(r["a"],{key:0},Object(r["z"])(t,(function(t){return Object(r["t"])(),Object(r["d"])("p",{key:t+"--"+e,class:"colored-dot-"+e},Object(r["D"])(t),3)})),128)):Object(r["e"])("",!0)],64)})),128)):(Object(r["t"])(),Object(r["d"])(r["a"],{key:1},[o],64))])})),s=(n("99af"),n("4de4"),n("0481"),n("4160"),n("d81d"),n("13d5"),n("45fc"),n("4069"),n("4fad"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0"),n("2909")),f=n("3835"),d=Object(r["i"])({props:{translation:{type:Object,default:function(){return[]}},blocks:{type:Array,default:function(){return[]}}},setup:function(t){var e=Object(r["l"])("context",{}),n=Object(r["b"])((function(){var e={entities:{},tags:{}};return t.translation&&t.translation.forEach((function(t){var n=t.entity,r=t.tags;e.entities[n[0]]=n[1],e.tags[n[0]]=(null!==r&&void 0!==r?r:[]).reduce((function(t,e){return t[e[0]]=e[1],t}),{})})),e})),a=Object(r["b"])((function(){var e,n;return null!==(e=null===(n=t.blocks)||void 0===n?void 0:n.filter((function(t){var e=t.state;return e})).map((function(t){var e=t.block,n=t.state,r=[];return e.requirements&&(r=r.concat(e.requirements)),null!==n&&void 0!==n&&n.conditions&&(r=r.concat(n.conditions)),r})).flat().reduce((function(t,e){var n=e.entity,r=e.tag;return t[n]||(t[n]=new Set),r&&t[n].add(r),t}),{}))&&void 0!==e?e:{}}));function i(t,e){if(t){var n=t[e];if(n)return n}return e}var c=Object(r["b"])((function(){return Object.entries(e.value).map((function(t){var e=Object(f["a"])(t,2),r=e[0],c=e[1];return Object(s["a"])(null!==c&&void 0!==c?c:[]).filter((function(t){var e;return!(null!==(e=a.value[r])&&void 0!==e&&e.has(t))})).map((function(t){return i(n.value.tags[r],t)}))}))})),o=Object(r["b"])((function(){return c.value.some((function(t){return null===t||void 0===t?void 0:t.length}))}));return{tags:c,any:o,explicitContext:a}}});n("1e2d");d.render=u,d.__scopeId="data-v-b8057b7c";e["a"]=d},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),a=n("5899"),i="["+a+"]",c=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),u=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(c,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},"72e9":function(t,e,n){"use strict";var r=n("7a23"),a=Object(r["M"])("data-v-351883c4"),i=a((function(t,e,n,a,i,c){var o=Object(r["B"])("Display");return t.state?(Object(r["t"])(),Object(r["d"])("button",{key:0,class:["small",{disabled:t.disabled,glossed:t.glossed}],onClick:e[2]||(e[2]=function(){return t.move&&t.move.apply(t,arguments)})},[Object(r["h"])(o,{glossed:t.glossed,state:t.state,onText:e[1]||(e[1]=function(e){return t.text=e})},null,8,["glossed","state"])],2)):Object(r["e"])("",!0)})),c=(n("c975"),n("d81d"),n("a9e3"),n("ac1f"),n("1276"),n("83b8")),o=(n("4160"),n("13d5"),n("159b"),n("3835"));function u(t,e){return null!==t&&void 0!==t&&t.length?[t.reduce((function(t,n){var r,a=n.entity,i=n.tag;return t+(i?null!==(r=e[a])&&void 0!==r&&r.has(i)?1:0:1)}),0)/t.length,t.length]:[1,0]}function s(t,e,n){var r,a,i,c=null,s=0,f=0,d=null!==(r=null!==(a=null===t||void 0===t?void 0:t.map((function(t){return e[t]})))&&void 0!==a?a:e)&&void 0!==r?r:[];return d.forEach((function(t){if(t.conditions){var e=u(t.conditions,n),r=Object(o["a"])(e,2),a=r[0],i=r[1];(1===s?1===a&&i>=f:a>=s)&&(c=t,s=a,f=i)}})),null!==(i=c)&&void 0!==i?i:d[0]}function f(t,e,n){t&&t.forEach((function(t){var r=t.entity,a=t.tag,i=t.passive,c=e.value[r];!i&&a&&c&&(n?c.add(a):c.delete(a))}))}var d=Object(r["i"])({components:{Display:c["a"]},props:{block:{type:Object,default:function(){return{}}},glossed:Boolean},emits:["update:modelValue"],setup:function(t){var e=Object(r["y"])(),n=Object(r["b"])((function(){return 1===u(t.block.requirements,c.value)[0]})),a=Object(r["b"])((function(){var t;return!(null!==(t=e.value)&&void 0!==t&&t.transition)})),i=Object(r["y"])(""),c=Object(r["l"])("context",{});function o(t){var n;f(null===(n=e.value)||void 0===n?void 0:n.conditions,c,!1),f(null===t||void 0===t?void 0:t.conditions,c,!0),e.value=t}function d(){var i;if(!a.value){var u,f=t.block.states,d=null===(i=e.value)||void 0===i?void 0:i.transition;if("next"===d){var l=e.value?f.indexOf(Object(r["E"])(e.value)):-1;u=f[(l+1)%f.length]}else if(d){var b=d.split(" ").map((function(t){return Number(t)}));u=s(b,f,c.value)}o(u),n.value||(e.value=void 0)}}return Object(r["I"])(c,(function(a){if(n.value){var i=s(void 0,t.block.states,a);Object(r["E"])(i)!==Object(r["E"])(e.value)&&o(i)}else e.value&&o(void 0)}),{immediate:!0,deep:!0}),{move:d,state:e,disabled:a,text:i}}});n("754f");d.render=i,d.__scopeId="data-v-351883c4";e["a"]=d},"73f7":function(t,e,n){},"754f":function(t,e,n){"use strict";n("dffe")},"7ec3":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("4160"),n("d3b7"),n("ac1f"),n("6062"),n("3ca3"),n("1276"),n("159b"),n("ddb0");function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&(t.value={},e.forEach((function(e){var r=e.entity,a=e.tags;t.value[r]=new Set(n?a.split(" "):[])})))}},"83b8":function(t,e,n){"use strict";var r=n("7a23"),a=Object(r["M"])("data-v-bee936c2");Object(r["w"])("data-v-bee936c2");var i={class:"row dashes"};Object(r["u"])();var c=a((function(t,e,n,a,c,o){return Object(r["t"])(),Object(r["d"])("div",{class:["display row",{glossed:o.canGloss}]},[Object(r["h"])("div",{class:["segments",{"text-faded":n.state.implicit}]},[(Object(r["t"])(!0),Object(r["d"])(r["a"],null,Object(r["z"])(o.types,(function(t,e){return Object(r["t"])(),Object(r["d"])("p",{key:e,class:{"text-ipa":"ipa"===t}},[(Object(r["t"])(!0),Object(r["d"])(r["a"],null,Object(r["z"])(o.segments[e],(function(t,e){return Object(r["t"])(),Object(r["d"])("span",{key:e,class:o.segmentColors[e]},Object(r["D"])(t),3)})),128))],2)})),128))],2),Object(r["h"])("div",i,[(Object(r["t"])(!0),Object(r["d"])(r["a"],null,Object(r["z"])(o.dashColors,(function(t,e){return Object(r["t"])(),Object(r["d"])("p",{key:e,class:t},null,2)})),128))])],2)})),o=(n("4de4"),n("c975"),n("a15b"),n("d81d"),n("45fc"),n("b64b"),n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("2909")),u={name:"PhraseStateDisplay",inject:["context"],props:{state:{type:Object,default:function(){return{}}},glossed:{type:Boolean,default:!1}},emits:["text"],computed:{entities:function(){return Object.keys(this.context.value)},canGloss:function(){return this.glossed&&this.state.display.some((function(t){return t.ipa||t.glossing}))},types:function(){return this.canGloss?["ipa","glossing"]:["text"]},segmentColors:function(){var t=this;return this.state.display.map((function(e){return"colored-"+t.entities.indexOf(e.entity)}))},dashColors:function(){var t=this;if(!this.state.transition||!this.state.conditions)return[];var e=new Set(this.state.conditions.filter((function(t){var e=t.passive;return!e})).map((function(t){return t.entity})));return Object(o["a"])(e).map((function(e){return t.entities.indexOf(e)})).map((function(t){return"colored-back-"+t}))},segments:function(){var t=this;return this.types.map((function(e){return t.state.display.map((function(t){return t[e]}))}))}},watch:{segments:function(t){var e=t.map((function(t){return t.join("")})),n=1===e.length?e[0]:e.join("\n");this.$emit("text",n)}}};n("d92b");u.render=c,u.__scopeId="data-v-bee936c2";e["a"]=u},"99af":function(t,e,n){"use strict";var r=n("23e7"),a=n("d039"),i=n("e8b5"),c=n("861d"),o=n("7b0b"),u=n("50c4"),s=n("8418"),f=n("65f0"),d=n("1dde"),l=n("b622"),b=n("2d00"),v=l("isConcatSpreadable"),p=9007199254740991,O="Maximum allowed index exceeded",j=b>=51||!a((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),h=d("concat"),g=function(t){if(!c(t))return!1;var e=t[v];return void 0!==e?!!e:i(t)},y=!j||!h;r({target:"Array",proto:!0,forced:y},{concat:function(t){var e,n,r,a,i,c=o(this),d=f(c,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?c:arguments[e],g(i)){if(a=u(i.length),l+a>p)throw TypeError(O);for(n=0;n<a;n++,l++)n in i&&s(d,l,i[n])}else{if(l>=p)throw TypeError(O);s(d,l++,i)}return d.length=l,d}})},a15b:function(t,e,n){"use strict";var r=n("23e7"),a=n("44ad"),i=n("fc6a"),c=n("a640"),o=[].join,u=a!=Object,s=c("join",",");r({target:"Array",proto:!0,forced:u||!s},{join:function(t){return o.call(i(this),void 0===t?",":t)}})},a2bf:function(t,e,n){"use strict";var r=n("e8b5"),a=n("50c4"),i=n("0366"),c=function(t,e,n,o,u,s,f,d){var l,b=u,v=0,p=!!f&&i(f,d,3);while(v<o){if(v in n){if(l=p?p(n[v],v,e):n[v],s>0&&r(l))b=c(t,e,l,a(l.length),b,s-1)-1;else{if(b>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[b]=l}b++}v++}return b};t.exports=c},a9e3:function(t,e,n){"use strict";var r=n("83ab"),a=n("da84"),i=n("94ca"),c=n("6eeb"),o=n("5135"),u=n("c6b6"),s=n("7156"),f=n("c04e"),d=n("d039"),l=n("7c73"),b=n("241c").f,v=n("06cf").f,p=n("9bf2").f,O=n("58a8").trim,j="Number",h=a[j],g=h.prototype,y=u(l(g))==j,m=function(t){var e,n,r,a,i,c,o,u,s=f(t,!1);if("string"==typeof s&&s.length>2)if(s=O(s),e=s.charCodeAt(0),43===e||45===e){if(n=s.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+s}for(i=s.slice(2),c=i.length,o=0;o<c;o++)if(u=i.charCodeAt(o),u<48||u>a)return NaN;return parseInt(i,r)}return+s};if(i(j,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var x,E=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof E&&(y?d((function(){g.valueOf.call(n)})):u(n)!=j)?s(new h(m(e)),n,E):m(e)},k=r?b(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),w=0;k.length>w;w++)o(h,x=k[w])&&!o(E,x)&&p(E,x,v(h,x));E.prototype=g,g.constructor=E,c(a,j,E)}},b64b:function(t,e,n){var r=n("23e7"),a=n("7b0b"),i=n("df75"),c=n("d039"),o=c((function(){i(1)}));r({target:"Object",stat:!0,forced:o},{keys:function(t){return i(a(t))}})},c975:function(t,e,n){"use strict";var r=n("23e7"),a=n("4d64").indexOf,i=n("a640"),c=n("ae40"),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0,s=i("indexOf"),f=c("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!s||!f},{indexOf:function(t){return u?o.apply(this,arguments)||0:a(this,t,arguments.length>1?arguments[1]:void 0)}})},d92b:function(t,e,n){"use strict";n("73f7")},dffe:function(t,e,n){}}]);
//# sourceMappingURL=chunk-3be898f7.9aa2c685.js.map