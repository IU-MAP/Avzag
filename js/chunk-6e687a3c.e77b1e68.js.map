{"version":3,"sources":["webpack:///./src/Phrasebook/Block/OrderEditor.vue","webpack:///./src/Phrasebook/Block/OrderEditor.vue?bf7d","webpack:///./src/Phrasebook/Block/OrderEditor.vue?81c1","webpack:///./src/components/ArrayShift.vue","webpack:///./src/components/ArrayShift.vue?a907","webpack:///./src/components/ArrayShift.vue?8746","webpack:///./src/Phrasebook/Block/ConditionsEditor.vue?eab4","webpack:///./src/components/EditorCard.vue","webpack:///./src/components/EditorCard.vue?73a3","webpack:///./src/components/EditorCard.vue?01ae","webpack:///./src/components/ButtonAlert.vue","webpack:///./src/components/ButtonAlert.vue?c316","webpack:///./src/components/ButtonAlert.vue?2335","webpack:///./src/Phrasebook/Block/Editor.vue","webpack:///./src/Phrasebook/Block/ConditionsEditor.vue","webpack:///./src/Phrasebook/Block/ConditionsEditor.vue?df6e","webpack:///./src/Phrasebook/Block/TransitionEditor.vue","webpack:///./src/Phrasebook/Block/TransitionEditor.vue?8a28","webpack:///./src/Phrasebook/Block/DisplayEditor.vue","webpack:///./src/Phrasebook/Block/DisplayEditor.vue?6337","webpack:///./src/Phrasebook/Block/Editor.vue?7956","webpack:///./src/editor.ts","webpack:///./node_modules/core-js/modules/es.array.splice.js"],"names":["class","mphrase","icon","header","add","blocks","b","i","key","keys","is-on","block","item","remove","components","EditorCard","ArrayShift","ButtonAlert","Context","VBlock","props","modelValue","type","Object","default","undefined","phrase","emits","setup","emit","get","set","p","value","bs","map","_","id","Math","random","pickLast","length","push","states","display","text","transition","index","indexOf","splice","immediate","render","shift","Array","array","a","from","to","button","caption","name","String","slots","prompt","confirm","requirements","s","state","glossed","implicit","conditions","allow-passive","c","allowPassive","passive","entity","setEntity","entities","e","tag","tags","t","inject","computed","this","$emit","contextSource","entries","reduce","methods","condition","__scopeId","icons","ic","mode","present","toggle","Display","data","ints","split","Number","filter","n","isNaN","includes","watch","handler","join","model-value","$event","d","colors","placeholder","ipa","glossing","concat","j","allowEmpty","ConditionsEditor","TransitionEditor","DisplayEditor","config","defaultFile","storage","filename","file","resetFile","JSON","parse","stringify","saveFile","localStorage","setupEditor","options","assign","deep","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","start","deleteCount","insertCount","actualDeleteCount","A","k","O","len","actualStart","argumentsLength","arguments","TypeError"],"mappings":"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","file":"js/chunk-6e687a3c.e77b1e68.js","sourcesContent":["<template>\n  <EditorCard v-if=\"mphrase\" icon=\"account_tree\" header=\"Blocks\" @action=\"add\">\n    <template v-if=\"block\" #header>\n      <ArrayShift v-model=\"blocks\" :item=\"block\" />\n      <p class=\"text-dot\" />\n      <ButtonAlert @confirm=\"remove\" />\n    </template>\n    <Context />\n    <div class=\"row-1 wrap block-editor\">\n      <div v-for=\"(b, i) in blocks\" :key=\"keys[i]\" class=\"row\">\n        <btn icon=\"edit\" :is-on=\"block === b\" @click=\"block = b\" />\n        <VBlock :block=\"b\" />\n      </div>\n    </div>\n  </EditorCard>\n</template>\n\n<script lang=\"ts\">\nimport EditorCard from \"@/components/EditorCard.vue\";\nimport ArrayShift from \"@/components/ArrayShift.vue\";\nimport ButtonAlert from \"@/components/ButtonAlert.vue\";\nimport Context from \"../Context/index.vue\";\nimport VBlock from \"./index.vue\";\n\nimport { computed, defineComponent, PropType, toRaw, watch } from \"vue\";\nimport { CorpusPhrase, Block } from \"../types\";\n\nexport default defineComponent({\n  components: { EditorCard, ArrayShift, ButtonAlert, Context, VBlock },\n  props: {\n    modelValue: { type: Object as PropType<Block>, default: undefined },\n    phrase: { type: Object as PropType<CorpusPhrase>, default: () => ({}) },\n  },\n  emits: [\"update:modelValue\", \"update:phrase\"],\n  setup(props, { emit }) {\n    const mphrase = computed({\n      get: () => props.phrase,\n      set: (p) => emit(\"update:modelValue\", p),\n    });\n    const blocks = computed({\n      get: () => mphrase.value.blocks,\n      set: (bs) => (mphrase.value.blocks = bs),\n    });\n    const block = computed({\n      get: () => props.modelValue,\n      set: (b) => emit(\"update:modelValue\", b),\n    });\n    const keys = computed(() =>\n      blocks.value.map(\n        (_, i) => mphrase.value.id + \"--\" + i + \"--\" + Math.random()\n      )\n    );\n\n    function pickLast() {\n      if (blocks.value) block.value = blocks.value[blocks.value.length - 1];\n    }\n    watch(blocks, pickLast, {\n      immediate: true,\n    });\n\n    function add() {\n      blocks.value.push({\n        states: [{ display: [{ text: \"new state\" }], transition: \"next\" }],\n      });\n      pickLast();\n    }\n    function remove() {\n      const index = toRaw(blocks.value).indexOf(toRaw(block.value));\n      blocks.value.splice(index, 1);\n      pickLast();\n    }\n\n    return { mphrase, blocks, block, add, remove, keys };\n  },\n});\n</script>\n","\nimport EditorCard from \"@/components/EditorCard.vue\";\nimport ArrayShift from \"@/components/ArrayShift.vue\";\nimport ButtonAlert from \"@/components/ButtonAlert.vue\";\nimport Context from \"../Context/index.vue\";\nimport VBlock from \"./index.vue\";\n\nimport { computed, defineComponent, PropType, toRaw, watch } from \"vue\";\nimport { CorpusPhrase, Block } from \"../types\";\n\nexport default defineComponent({\n  components: { EditorCard, ArrayShift, ButtonAlert, Context, VBlock },\n  props: {\n    modelValue: { type: Object as PropType<Block>, default: undefined },\n    phrase: { type: Object as PropType<CorpusPhrase>, default: () => ({}) },\n  },\n  emits: [\"update:modelValue\", \"update:phrase\"],\n  setup(props, { emit }) {\n    const mphrase = computed({\n      get: () => props.phrase,\n      set: (p) => emit(\"update:modelValue\", p),\n    });\n    const blocks = computed({\n      get: () => mphrase.value.blocks,\n      set: (bs) => (mphrase.value.blocks = bs),\n    });\n    const block = computed({\n      get: () => props.modelValue,\n      set: (b) => emit(\"update:modelValue\", b),\n    });\n    const keys = computed(() =>\n      blocks.value.map(\n        (_, i) => mphrase.value.id + \"--\" + i + \"--\" + Math.random()\n      )\n    );\n\n    function pickLast() {\n      if (blocks.value) block.value = blocks.value[blocks.value.length - 1];\n    }\n    watch(blocks, pickLast, {\n      immediate: true,\n    });\n\n    function add() {\n      blocks.value.push({\n        states: [{ display: [{ text: \"new state\" }], transition: \"next\" }],\n      });\n      pickLast();\n    }\n    function remove() {\n      const index = toRaw(blocks.value).indexOf(toRaw(block.value));\n      blocks.value.splice(index, 1);\n      pickLast();\n    }\n\n    return { mphrase, blocks, block, add, remove, keys };\n  },\n});\n","import { render } from \"./OrderEditor.vue?vue&type=template&id=b3e886b6\"\nimport script from \"./OrderEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./OrderEditor.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"row-0\">\n    <btn icon=\"keyboard_arrow_up\" @click=\"shift(-1)\" />\n    <btn icon=\"keyboard_arrow_down\" @click=\"shift(1)\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, toRaw } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    modelValue: { type: Array, default: () => [] },\n    item: { type: Object, default: undefined },\n  },\n  emits: [\"update:modelValue\"],\n  setup(props, { emit }) {\n    const array = computed({\n      get: () => props.modelValue,\n      set: (a) => emit(\"update:modelValue\", a),\n    });\n    function shift(shift: number) {\n      const length = array.value.length;\n      const from = toRaw(array.value).indexOf(toRaw(props.item));\n      const to = (from + shift + length) % length;\n      array.value.splice(to, 0, array.value.splice(from, 1)[0]);\n    }\n    return { shift };\n  },\n});\n</script>\n","\nimport { computed, defineComponent, toRaw } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    modelValue: { type: Array, default: () => [] },\n    item: { type: Object, default: undefined },\n  },\n  emits: [\"update:modelValue\"],\n  setup(props, { emit }) {\n    const array = computed({\n      get: () => props.modelValue,\n      set: (a) => emit(\"update:modelValue\", a),\n    });\n    function shift(shift: number) {\n      const length = array.value.length;\n      const from = toRaw(array.value).indexOf(toRaw(props.item));\n      const to = (from + shift + length) % length;\n      array.value.splice(to, 0, array.value.splice(from, 1)[0]);\n    }\n    return { shift };\n  },\n});\n","import { render } from \"./ArrayShift.vue?vue&type=template&id=05ea17ae\"\nimport script from \"./ArrayShift.vue?vue&type=script&lang=ts\"\nexport * from \"./ArrayShift.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ConditionsEditor.vue?vue&type=style&index=0&id=6e2fd21f&lang=scss&scoped=true\"","<template>\n  <div class=\"col\">\n    <div class=\"row\">\n      <btn v-if=\"button\" :icon=\"button\" @click=\"emit('action')\" />\n      <p class=\"icon\">{{ icon }}</p>\n      <h2 class=\"flex\">{{ header }}</h2>\n      <slot name=\"header\" />\n    </div>\n    <p v-if=\"caption\" class=\"text-caption text-faded\">\n      <slot name=\"caption\" />\n    </p>\n    <slot />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"EditorCard\",\n  props: {\n    button: { type: String, default: \"add\" },\n    icon: { type: String, default: \"\" },\n    header: { type: String, default: \"\" },\n  },\n  emits: [\"action\"],\n  setup(_, { emit, slots }) {\n    return { emit, caption: slots.caption };\n  },\n});\n</script>\n","\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"EditorCard\",\n  props: {\n    button: { type: String, default: \"add\" },\n    icon: { type: String, default: \"\" },\n    header: { type: String, default: \"\" },\n  },\n  emits: [\"action\"],\n  setup(_, { emit, slots }) {\n    return { emit, caption: slots.caption };\n  },\n});\n","import { render } from \"./EditorCard.vue?vue&type=template&id=93d652ba\"\nimport script from \"./EditorCard.vue?vue&type=script&lang=ts\"\nexport * from \"./EditorCard.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"row-0\">\n    <template v-if=\"prompt\">\n      <btn\n        class=\"highlight-font-alert\"\n        icon=\"delete_forever\"\n        @click=\"confirm\"\n      />\n      <btn icon=\"check\" @click=\"prompt = false\" />\n    </template>\n    <btn\n      v-else\n      class=\"highlight-font-alert\"\n      icon=\"delete\"\n      :text=\"text\"\n      @click=\"prompt = true\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { ref, defineComponent } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    text: { type: String, default: \"\" },\n  },\n  emits: [\"confirm\"],\n  setup(props, { emit }) {\n    const prompt = ref(false);\n    function confirm() {\n      prompt.value = false;\n      emit(\"confirm\");\n    }\n    return { prompt, confirm };\n  },\n});\n</script>\n","\nimport { ref, defineComponent } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    text: { type: String, default: \"\" },\n  },\n  emits: [\"confirm\"],\n  setup(props, { emit }) {\n    const prompt = ref(false);\n    function confirm() {\n      prompt.value = false;\n      emit(\"confirm\");\n    }\n    return { prompt, confirm };\n  },\n});\n","import { render } from \"./ButtonAlert.vue?vue&type=template&id=9c1bd3bc\"\nimport script from \"./ButtonAlert.vue?vue&type=script&lang=ts\"\nexport * from \"./ButtonAlert.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"block col-2\">\n    <ConditionsEditor\n      v-model=\"block.requirements\"\n      icon=\"lock\"\n      header=\"Requirements\"\n    >\n      If at least one of these conditions fails, the block will be completely\n      hidden.\n    </ConditionsEditor>\n    <EditorCard icon=\"tune\" header=\"States\" @action=\"add\">\n      <template v-if=\"state\" #header>\n        <toggle v-model=\"glossed\" icon=\"layers\" />\n        <p class=\"text-dot\" />\n        <ButtonAlert @confirm=\"remove\" />\n      </template>\n      <div class=\"row-1 wrap block-editor\">\n        <div v-for=\"(s, i) in states\" :key=\"i\" class=\"row\">\n          <btn icon=\"edit\" :is-on=\"state === s\" @click=\"state = s\" />\n          <Display :state=\"s\" :glossed=\"glossed\" />\n        </div>\n      </div>\n    </EditorCard>\n    <template v-if=\"state\">\n      <DisplayEditor\n        v-model=\"state.display\"\n        v-model:implicit=\"state.implicit\"\n      />\n      <ConditionsEditor\n        v-model=\"state.conditions\"\n        :allow-passive=\"true\"\n        icon=\"widgets\"\n        header=\"conditions\"\n      />\n      <TransitionEditor v-model=\"state.transition\" :states=\"states\" />\n    </template>\n  </div>\n</template>\n\n<script>\nimport ButtonAlert from \"@/components/ButtonAlert\";\nimport EditorCard from \"@/components/EditorCard\";\nimport ConditionsEditor from \"./ConditionsEditor\";\nimport TransitionEditor from \"./TransitionEditor\";\nimport DisplayEditor from \"./DisplayEditor\";\nimport Display from \"./Display\";\n\nexport default {\n  name: \"PhraseBlockEditor\",\n  components: {\n    ButtonAlert,\n    EditorCard,\n    ConditionsEditor,\n    TransitionEditor,\n    Display,\n    DisplayEditor,\n  },\n  props: [\"modelValue\"],\n  emits: [\"update:modelValue\"],\n  data() {\n    return {\n      state: undefined,\n      glossed: false,\n    };\n  },\n  computed: {\n    block: {\n      get() {\n        return this.modelValue;\n      },\n      set(b) {\n        this.$emit(\"update:modelValue\", b);\n      },\n    },\n    states() {\n      return this.block?.states;\n    },\n  },\n  watch: {\n    block: {\n      handler() {\n        if (!this.states?.length) {\n          this.block.states = [];\n          this.add();\n        } else this.state = this.states[this.states.length - 1];\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    add() {\n      const state = {\n        display: [{ text: \"new state\" }],\n        transition: \"next\",\n      };\n      this.states.push(state);\n      this.state = state;\n    },\n    remove() {\n      if (this.states.length > 1) {\n        this.states.splice(this.states.indexOf(this.state), 1);\n        this.state = this.states[this.states.length - 1];\n      }\n    },\n  },\n};\n</script>\n","<template>\n  <EditorCard :icon=\"icon\" :header=\"header\" @action=\"add\">\n    <template #caption><slot /></template>\n    <div class=\"scroll col\">\n      <div v-for=\"(c, i) in conditions\" :key=\"i\" class=\"row\">\n        <toggle v-if=\"allowPassive\" v-model=\"c.passive\" icon=\"call_missed\" />\n        <select v-model=\"c.entity\" @change=\"setEntity(c)\">\n          <option v-for=\"e in entities\" :key=\"e\" :value=\"e\">{{ e }}</option>\n        </select>\n        <p class=\"icon\">west</p>\n        <select v-if=\"c.entity\" v-model=\"c.tag\">\n          <option v-for=\"t in tags[c.entity]\" :key=\"t\" :value=\"t\">\n            {{ t }}\n          </option>\n        </select>\n        <btn icon=\"clear\" @click=\"remove(i)\" />\n      </div>\n    </div>\n  </EditorCard>\n</template>\n\n<script>\nimport EditorCard from \"@/components/EditorCard\";\n\nexport default {\n  name: \"PhraseConditionsEditor\",\n  components: { EditorCard },\n  inject: [\"contextSource\"],\n  props: [\"modelValue\", \"allowPassive\", \"header\", \"icon\"],\n  emits: [\"update:modelValue\"],\n  computed: {\n    conditions: {\n      get() {\n        return this.modelValue;\n      },\n      set(c) {\n        this.$emit(\"update:modelValue\", c);\n      },\n    },\n    entities() {\n      return Object.keys(this.contextSource.value);\n    },\n    tags() {\n      return Object.entries(this.contextSource.value).reduce(\n        (c, [entity, tags]) => {\n          c[entity] = [...tags];\n          return c;\n        },\n        {}\n      );\n    },\n  },\n  methods: {\n    setEntity(c) {\n      c.tag = this.tags[c.entity][0];\n    },\n    add() {\n      const condition = { entity: this.entities[0] };\n      this.setEntity(condition);\n      const conditions = this.conditions ?? [];\n      conditions.push(condition);\n      this.conditions = conditions;\n    },\n    remove(i) {\n      this.conditions.splice(i, 1);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.scroll {\n  max-height: 128px;\n}\n</style>\n","import { render } from \"./ConditionsEditor.vue?vue&type=template&id=6e2fd21f&scoped=true\"\nimport script from \"./ConditionsEditor.vue?vue&type=script&lang=js\"\nexport * from \"./ConditionsEditor.vue?vue&type=script&lang=js\"\n\nimport \"./ConditionsEditor.vue?vue&type=style&index=0&id=6e2fd21f&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6e2fd21f\"\n\nexport default script","<template>\n  <EditorCard button=\"\" icon=\"alt_route\" header=\"transition\">\n    <template #header>\n      <div class=\"row\">\n        <btn\n          v-for=\"(ic, i) in icons\"\n          :key=\"ic\"\n          :icon=\"ic\"\n          :is-on=\"mode === i\"\n          @click=\"mode = i\"\n        />\n      </div>\n    </template>\n    <div v-if=\"mode === 2\" class=\"row-1 wrap block-editor\">\n      <div v-for=\"(s, i) in states\" :key=\"i\" class=\"row\">\n        <btn icon=\"check\" :is-on=\"present[i]\" @click=\"toggle(i)\" />\n        <Display :state=\"s\" />\n      </div>\n    </div>\n  </EditorCard>\n</template>\n\n<script>\nimport EditorCard from \"@/components/EditorCard\";\nimport Display from \"./Display\";\n\nexport default {\n  name: \"PhraseStateTransitionEditor\",\n  components: {\n    EditorCard,\n    Display,\n  },\n  props: [\"modelValue\", \"states\"],\n  emits: [\"update:modelValue\"],\n  data() {\n    return {\n      mode: 0,\n      icons: [\"block\", \"arrow_forward\", \"star_outline\"],\n    };\n  },\n  computed: {\n    transition: {\n      get() {\n        return this.modelValue;\n      },\n      set(t) {\n        this.$emit(\"update:modelValue\", t);\n      },\n    },\n    ints() {\n      return (\n        this.transition\n          ?.split(\" \")\n          .map((t) => Number(t))\n          .filter((n) => !isNaN(n)) ?? []\n      );\n    },\n    present() {\n      return this.states.map((s, i) => this.ints.includes(i));\n    },\n  },\n  watch: {\n    state: {\n      handler() {\n        if (this.transition === \"next\") this.mode = 1;\n        else if (this.transition) this.mode = 2;\n        else this.mode = 0;\n      },\n      immediate: true,\n    },\n    mode() {\n      if (this.mode === 1) this.transition = \"next\";\n      else if (!this.mode) this.transition = undefined;\n    },\n  },\n  methods: {\n    toggle(i) {\n      const ints = this.ints;\n      if (ints.includes(i)) ints.splice(ints.indexOf(i), 1);\n      else ints.push(i);\n\n      if (this.mode === 2) this.transition = ints.join(\" \");\n    },\n  },\n};\n</script>\n","import { render } from \"./TransitionEditor.vue?vue&type=template&id=6a02e6ce\"\nimport script from \"./TransitionEditor.vue?vue&type=script&lang=js\"\nexport * from \"./TransitionEditor.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <EditorCard icon=\"visibility\" header=\"display\" @action=\"add\">\n    <template #header>\n      <toggle\n        icon=\"opacity\"\n        :model-value=\"implicit\"\n        @update:modelValue=\"$emit('update:implicit', $event)\"\n      />\n    </template>\n    <div v-if=\"display\" class=\"col\">\n      <div v-for=\"(d, i) in display\" :key=\"i\" class=\"row\">\n        <btn icon=\"palette\" @click=\"toggle(i)\" />\n        <input\n          v-model=\"d.text\"\n          :class=\"colors[i]\"\n          type=\"text\"\n          placeholder=\"text\"\n        />\n        <input\n          v-model=\"d.ipa\"\n          class=\"text-ipa\"\n          :class=\"colors[i]\"\n          type=\"text\"\n          placeholder=\"ipa\"\n        />\n        <input\n          v-model=\"d.glossing\"\n          class=\"glossing\"\n          :class=\"colors[i]\"\n          type=\"text\"\n          placeholder=\"glossing\"\n        />\n        <btn icon=\"clear\" @click=\"remove(i)\" />\n      </div>\n    </div>\n  </EditorCard>\n</template>\n\n<script>\nimport EditorCard from \"@/components/EditorCard\";\n\nexport default {\n  name: \"PhraseStateDisplayEditor\",\n  components: {\n    EditorCard,\n  },\n  inject: [\"contextSource\"],\n  props: [\"modelValue\", \"implicit\", \"allowEmpty\"],\n  emits: [\"update:modelValue\", \"update:implicit\"],\n  computed: {\n    display: {\n      get() {\n        return this.modelValue;\n      },\n      set(d) {\n        this.$emit(\"update:modelValue\", d);\n      },\n    },\n    entities() {\n      return [undefined].concat(Object.keys(this.contextSource.value));\n    },\n    colors() {\n      return this.display.map(\n        (d) => \"colored-\" + (this.entities.indexOf(d.entity) - 1)\n      );\n    },\n  },\n  methods: {\n    add() {\n      if (!this.display) this.display = [];\n      this.display.push({});\n    },\n    toggle(j) {\n      let i = this.entities.indexOf(this.display[j].entity);\n      i = (i + 1) % this.entities.length;\n      this.display[j].entity = this.entities[i];\n    },\n    remove(i) {\n      if (this.allowEmpty || this.display.length > 1) {\n        this.display.splice(i, 1);\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./DisplayEditor.vue?vue&type=template&id=3ca086e4\"\nimport script from \"./DisplayEditor.vue?vue&type=script&lang=js\"\nexport * from \"./DisplayEditor.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Editor.vue?vue&type=template&id=446214d4\"\nimport script from \"./Editor.vue?vue&type=script&lang=js\"\nexport * from \"./Editor.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { watch, ref, Ref } from \"vue\";\n\ntype Options = {\n  defaultFile: unknown;\n  storage: string;\n  filename: string | (() => string);\n};\n\nexport const config: Options = {\n  defaultFile: {},\n  storage: \"\",\n  filename: \"\",\n};\n\nexport const file = ref();\n\nexport function resetFile() {\n  file.value = JSON.parse(JSON.stringify(config.defaultFile));\n}\n\nexport function saveFile() {\n  localStorage[config.storage] = JSON.stringify(file.value);\n}\n\nexport function setupEditor<T>(options: Partial<Options>) {\n  Object.assign(config, options);\n  try {\n    file.value = JSON.parse(localStorage[config.storage]);\n  } catch {\n    resetFile();\n  }\n  watch(file, saveFile, { deep: true });\n\n  return file as Ref<T>;\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n"],"sourceRoot":""}