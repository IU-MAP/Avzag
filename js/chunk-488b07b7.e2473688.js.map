{"version":3,"sources":["webpack:///./src/Phrasebook/CorpusEditor.vue?7b0a","webpack:///./src/Phrasebook/CorpusEditor.vue?2bb7","webpack:///./src/Phrasebook/Context/Editor.vue?b6c8","webpack:///./src/Phrasebook/CorpusEditor.vue","webpack:///./src/Phrasebook/Context/Editor.vue","webpack:///./src/Phrasebook/Context/Editor.vue?c492","webpack:///./src/Phrasebook/Context/Editor.vue?bfca","webpack:///./node_modules/uuid/dist/esm-browser/rng.js","webpack:///./node_modules/uuid/dist/esm-browser/regex.js","webpack:///./node_modules/uuid/dist/esm-browser/validate.js","webpack:///./node_modules/uuid/dist/esm-browser/stringify.js","webpack:///./node_modules/uuid/dist/esm-browser/v4.js","webpack:///./src/Phrasebook/CorpusEditor.vue?5859","webpack:///./src/Phrasebook/CorpusEditor.vue?95e4"],"names":["class","file","icon","header","item","section","add","uuidv4","shift","remove","s","i","key","id","name","type","placeholder","readonly","phrases","phrase","p","block","context","c","entity","tags","update","splice","components","EditorCard","ArrayControl","props","modelValue","Array","default","undefined","emits","setup","emit","get","set","value","split","filter","t","map","join","immediate","deep","render","__scopeId","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","validate","uuid","test","byteToHex","push","toString","substr","stringify","arr","offset","arguments","length","toLowerCase","TypeError","v4","options","buf","rnds","random","BlocksOrderEditor","ContextEditor","BlockEditor","defaultFile","filename","window","confirm","storage","contextSource"],"mappings":"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","file":"js/chunk-488b07b7.e2473688.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CorpusEditor.vue?vue&type=style&index=0&id=5919eba8&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CorpusEditor.vue?vue&type=style&index=1&id=5919eba8&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Editor.vue?vue&type=style&index=0&id=0c9a5b4a&lang=scss&scoped=true\"","<template>\n  <div v-if=\"file\" class=\"section col-2 small grid\">\n    <div class=\"col-2\">\n      <EditorCard icon=\"topic\" header=\"sections\">\n        <template #header>\n          <ArrayControl\n            v-model=\"file\"\n            v-model:item=\"section\"\n            :add=\"() => ({ id: uuidv4() })\"\n            shift\n            remove\n          />\n        </template>\n        <div class=\"col scroll\">\n          <input\n            v-for=\"(s, i) in file\"\n            :key=\"s.id\"\n            v-model=\"s.name\"\n            type=\"text\"\n            class=\"selectable\"\n            :placeholder=\"'section #' + i\"\n            :readonly=\"section !== s\"\n            @click=\"section = s\"\n          />\n        </div>\n      </EditorCard>\n      <EditorCard v-if=\"section\" icon=\"short_text\" header=\"phrases\">\n        <template #header>\n          <ArrayControl\n            v-model=\"section.phrases\"\n            v-model:item=\"phrase\"\n            :add=\"() => ({ id: uuidv4() })\"\n            shift\n            remove\n          />\n        </template>\n        <div class=\"col scroll\">\n          <input\n            v-for=\"(p, i) in section.phrases\"\n            :key=\"p.id\"\n            v-model=\"p.name\"\n            type=\"text\"\n            class=\"selectable\"\n            :placeholder=\"'phrase #' + i\"\n            :readonly=\"phrase !== p\"\n            @click=\"phrase = p\"\n          />\n        </div>\n      </EditorCard>\n      <template v-if=\"phrase\">\n        <BlocksOrderEditor\n          :key=\"phrase.id\"\n          v-model=\"block\"\n          v-model:phrase=\"phrase\"\n        />\n        <ContextEditor v-model=\"phrase.context\" />\n      </template>\n    </div>\n    <BlockEditor v-if=\"block\" v-model=\"block\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport ArrayControl from \"@/components/ArrayControl.vue\";\nimport EditorCard from \"@/components/EditorCard.vue\";\nimport BlocksOrderEditor from \"./Block/OrderEditor.vue\";\nimport ContextEditor from \"./Context/Editor.vue\";\nimport BlockEditor from \"./Block/Editor.vue\";\n\nimport { defineComponent, ref, provide, watch, computed } from \"vue\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { setupEditor } from \"@/editor\";\nimport { State, Context, CorpusPhrase, CorpusSection } from \"./types\";\nimport { createContext } from \"./utils\";\n\nexport default defineComponent({\n  components: {\n    ArrayControl,\n    EditorCard,\n    BlocksOrderEditor,\n    ContextEditor,\n    BlockEditor,\n  },\n  setup() {\n    const file = setupEditor<CorpusSection[]>({\n      defaultFile: [],\n      filename: () =>\n        window.confirm(\"You're resetting phrasebook corpus.\")\n          ? \"phrasebook\"\n          : \"\",\n      storage: \"editor.phrasebookCorpus\",\n    });\n    const section = ref<CorpusSection>();\n    const phrase = ref<CorpusPhrase>();\n    const block = ref<State[]>();\n    watch(file, (file) => {\n      if (!file?.length) {\n        section.value = undefined;\n        phrase.value = undefined;\n        block.value = undefined;\n      }\n    });\n\n    const contextSource = computed(() => phrase.value?.context);\n    const context = ref({} as Context);\n    provide(\"contextSource\", contextSource);\n    provide(\"context\", context);\n    watch(\n      contextSource,\n      (contextSource) => createContext(context, contextSource),\n      { immediate: true, deep: true }\n    );\n\n    return { file, section, phrase, block, uuidv4 };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n#header {\n  margin-top: -1 * map-get($margins, \"double\");\n  padding-top: 2 * map-get($margins, \"normal\");\n}\n.grid {\n  display: grid;\n  grid-template-columns: minmax(0, 1fr) minmax(0, 1.5fr);\n  gap: map-get($margins, \"double\");\n}\n@media only screen and (max-width: $mobile-width) {\n  .grid {\n    grid-template-columns: 100%;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.scroll {\n  max-height: 128px;\n}\n</style>\n","<template>\n  <EditorCard icon=\"list_alt\" header=\"context\">\n    <template #header>\n      <ArrayControl v-model=\"context\" :add=\"{ entity: 'entity', tags: [] }\" />\n    </template>\n    <div class=\"col scroll\">\n      <div v-for=\"(c, i) in context\" :key=\"i\" class=\"row\">\n        <input\n          v-model=\"c.entity\"\n          class=\"entity\"\n          :class=\"'colored-' + i\"\n          type=\"text\"\n          :placeholder=\"'entity #' + i\"\n        />\n        <input\n          v-model=\"tags[i]\"\n          class=\"flex\"\n          type=\"text\"\n          placeholder=\"tags\"\n          @change=\"update(i)\"\n        />\n        <btn icon=\"clear\" @click=\"context.splice(i, 1)\" />\n      </div>\n    </div>\n  </EditorCard>\n</template>\n\n<script lang=\"ts\">\nimport EditorCard from \"@/components/EditorCard.vue\";\nimport ArrayControl from \"@/components/ArrayControl.vue\";\nimport { computed, defineComponent, PropType, ref, watch } from \"vue\";\nimport { ContextSource } from \"../types\";\n\nexport default defineComponent({\n  name: \"ContextEditor\",\n  components: { EditorCard, ArrayControl },\n  props: {\n    modelValue: {\n      type: Array as PropType<ContextSource[]>,\n      default: undefined,\n    },\n  },\n  emits: [\"update:modelValue\"],\n  setup(props, { emit }) {\n    const context = computed({\n      get: () => props.modelValue,\n      set: (c) => emit(\"update:modelValue\", c),\n    });\n    const tags = ref<string[]>([]);\n    watch(\n      context,\n      (context) =>\n        (tags.value = context?.map(({ tags }) => tags?.join(\" \") ?? \"\") ?? []),\n      { immediate: true, deep: true }\n    );\n\n    function update(i: number) {\n      context.value[i].tags = tags.value[i]?.split(\" \").filter((t) => t) ?? [];\n    }\n\n    return { context, tags, update };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.entity {\n  width: 96px;\n}\n.scroll {\n  max-height: 128px;\n}\n</style>\n","\nimport EditorCard from \"@/components/EditorCard.vue\";\nimport ArrayControl from \"@/components/ArrayControl.vue\";\nimport { computed, defineComponent, PropType, ref, watch } from \"vue\";\nimport { ContextSource } from \"../types\";\n\nexport default defineComponent({\n  name: \"ContextEditor\",\n  components: { EditorCard, ArrayControl },\n  props: {\n    modelValue: {\n      type: Array as PropType<ContextSource[]>,\n      default: undefined,\n    },\n  },\n  emits: [\"update:modelValue\"],\n  setup(props, { emit }) {\n    const context = computed({\n      get: () => props.modelValue,\n      set: (c) => emit(\"update:modelValue\", c),\n    });\n    const tags = ref<string[]>([]);\n    watch(\n      context,\n      (context) =>\n        (tags.value = context?.map(({ tags }) => tags?.join(\" \") ?? \"\") ?? []),\n      { immediate: true, deep: true }\n    );\n\n    function update(i: number) {\n      context.value[i].tags = tags.value[i]?.split(\" \").filter((t) => t) ?? [];\n    }\n\n    return { context, tags, update };\n  },\n});\n","import { render } from \"./Editor.vue?vue&type=template&id=0c9a5b4a&scoped=true\"\nimport script from \"./Editor.vue?vue&type=script&lang=ts\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts\"\n\nimport \"./Editor.vue?vue&type=style&index=0&id=0c9a5b4a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0c9a5b4a\"\n\nexport default script","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","\nimport ArrayControl from \"@/components/ArrayControl.vue\";\nimport EditorCard from \"@/components/EditorCard.vue\";\nimport BlocksOrderEditor from \"./Block/OrderEditor.vue\";\nimport ContextEditor from \"./Context/Editor.vue\";\nimport BlockEditor from \"./Block/Editor.vue\";\n\nimport { defineComponent, ref, provide, watch, computed } from \"vue\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { setupEditor } from \"@/editor\";\nimport { State, Context, CorpusPhrase, CorpusSection } from \"./types\";\nimport { createContext } from \"./utils\";\n\nexport default defineComponent({\n  components: {\n    ArrayControl,\n    EditorCard,\n    BlocksOrderEditor,\n    ContextEditor,\n    BlockEditor,\n  },\n  setup() {\n    const file = setupEditor<CorpusSection[]>({\n      defaultFile: [],\n      filename: () =>\n        window.confirm(\"You're resetting phrasebook corpus.\")\n          ? \"phrasebook\"\n          : \"\",\n      storage: \"editor.phrasebookCorpus\",\n    });\n    const section = ref<CorpusSection>();\n    const phrase = ref<CorpusPhrase>();\n    const block = ref<State[]>();\n    watch(file, (file) => {\n      if (!file?.length) {\n        section.value = undefined;\n        phrase.value = undefined;\n        block.value = undefined;\n      }\n    });\n\n    const contextSource = computed(() => phrase.value?.context);\n    const context = ref({} as Context);\n    provide(\"contextSource\", contextSource);\n    provide(\"context\", context);\n    watch(\n      contextSource,\n      (contextSource) => createContext(context, contextSource),\n      { immediate: true, deep: true }\n    );\n\n    return { file, section, phrase, block, uuidv4 };\n  },\n});\n","import { render } from \"./CorpusEditor.vue?vue&type=template&id=5919eba8&scoped=true\"\nimport script from \"./CorpusEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./CorpusEditor.vue?vue&type=script&lang=ts\"\n\nimport \"./CorpusEditor.vue?vue&type=style&index=0&id=5919eba8&lang=scss&scoped=true\"\nimport \"./CorpusEditor.vue?vue&type=style&index=1&id=5919eba8&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5919eba8\"\n\nexport default script"],"sourceRoot":""}