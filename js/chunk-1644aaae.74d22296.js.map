{"version":3,"sources":["webpack:///./src/Phrasebook/Block/ConditionsEditor.vue?eab4","webpack:///./src/components/EditorCard.vue","webpack:///./src/components/EditorCard.vue?73a3","webpack:///./src/components/EditorCard.vue?01ae","webpack:///./src/components/ButtonAlert.vue","webpack:///./src/components/ButtonAlert.vue?c316","webpack:///./src/components/ButtonAlert.vue?2335","webpack:///./src/Phrasebook/Block/Editor.vue","webpack:///./src/Phrasebook/Block/ConditionsEditor.vue","webpack:///./src/Phrasebook/Block/ConditionsEditor.vue?df6e","webpack:///./src/Phrasebook/Block/TransitionEditor.vue","webpack:///./src/Phrasebook/Block/TransitionEditor.vue?8a28","webpack:///./src/Phrasebook/Block/DisplayEditor.vue","webpack:///./src/Phrasebook/Block/DisplayEditor.vue?6337","webpack:///./src/Phrasebook/Block/Editor.vue?7956","webpack:///./src/editor.ts","webpack:///./node_modules/core-js/modules/es.array.splice.js"],"names":["class","button","icon","emit","header","caption","name","props","type","String","default","emits","setup","_","slots","render","prompt","confirm","text","value","block","requirements","add","states","s","i","key","is-on","state","glossed","remove","display","implicit","conditions","allow-passive","transition","c","allowPassive","passive","entity","setEntity","entities","e","tag","tags","t","components","EditorCard","inject","computed","get","this","modelValue","set","$emit","Object","keys","contextSource","entries","reduce","methods","condition","push","splice","__scopeId","icons","ic","mode","present","toggle","Display","data","ints","split","map","Number","filter","n","isNaN","includes","watch","handler","immediate","undefined","indexOf","join","model-value","$event","d","colors","placeholder","ipa","glossing","concat","j","length","allowEmpty","ButtonAlert","ConditionsEditor","TransitionEditor","DisplayEditor","b","config","defaultFile","storage","filename","file","resetFile","JSON","parse","stringify","saveFile","localStorage","setupEditor","options","assign","deep","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","arguments","TypeError"],"mappings":"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","file":"js/chunk-1644aaae.74d22296.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ConditionsEditor.vue?vue&type=style&index=0&id=6e2fd21f&lang=scss&scoped=true\"","<template>\n  <div class=\"col\">\n    <div class=\"row\">\n      <btn v-if=\"button\" :icon=\"button\" @click=\"emit('action')\" />\n      <p class=\"icon\">{{ icon }}</p>\n      <h2 class=\"flex\">{{ header }}</h2>\n      <slot name=\"header\" />\n    </div>\n    <p v-if=\"caption\" class=\"text-caption text-faded\">\n      <slot name=\"caption\" />\n    </p>\n    <slot />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"EditorCard\",\n  props: {\n    button: { type: String, default: \"add\" },\n    icon: { type: String, default: \"\" },\n    header: { type: String, default: \"\" },\n  },\n  emits: [\"action\"],\n  setup(_, { emit, slots }) {\n    return { emit, caption: slots.caption };\n  },\n});\n</script>\n","\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"EditorCard\",\n  props: {\n    button: { type: String, default: \"add\" },\n    icon: { type: String, default: \"\" },\n    header: { type: String, default: \"\" },\n  },\n  emits: [\"action\"],\n  setup(_, { emit, slots }) {\n    return { emit, caption: slots.caption };\n  },\n});\n","import { render } from \"./EditorCard.vue?vue&type=template&id=93d652ba\"\nimport script from \"./EditorCard.vue?vue&type=script&lang=ts\"\nexport * from \"./EditorCard.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"row-0\">\n    <template v-if=\"prompt\">\n      <btn\n        class=\"highlight-font-alert\"\n        icon=\"delete_forever\"\n        @click=\"confirm\"\n      />\n      <btn icon=\"check\" @click=\"prompt = false\" />\n    </template>\n    <btn\n      v-else\n      class=\"highlight-font-alert\"\n      icon=\"delete\"\n      :text=\"text\"\n      @click=\"prompt = true\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { ref, defineComponent } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    text: { type: String, default: \"\" },\n  },\n  emits: [\"confirm\"],\n  setup(props, { emit }) {\n    const prompt = ref(false);\n    function confirm() {\n      prompt.value = false;\n      emit(\"confirm\");\n    }\n    return { prompt, confirm };\n  },\n});\n</script>\n","\nimport { ref, defineComponent } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    text: { type: String, default: \"\" },\n  },\n  emits: [\"confirm\"],\n  setup(props, { emit }) {\n    const prompt = ref(false);\n    function confirm() {\n      prompt.value = false;\n      emit(\"confirm\");\n    }\n    return { prompt, confirm };\n  },\n});\n","import { render } from \"./ButtonAlert.vue?vue&type=template&id=9c1bd3bc\"\nimport script from \"./ButtonAlert.vue?vue&type=script&lang=ts\"\nexport * from \"./ButtonAlert.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"block col-2\">\n    <ConditionsEditor\n      v-model=\"block.requirements\"\n      icon=\"lock\"\n      header=\"Requirements\"\n    >\n      If at least one of these conditions fails, the block will be completely\n      hidden.\n    </ConditionsEditor>\n    <EditorCard icon=\"tune\" header=\"States\" @action=\"add\">\n      <template v-if=\"state\" #header>\n        <toggle v-model=\"glossed\" icon=\"layers\" />\n        <p class=\"text-dot\" />\n        <ButtonAlert @confirm=\"remove\" />\n      </template>\n      <div class=\"row-1 wrap block-editor\">\n        <div v-for=\"(s, i) in states\" :key=\"i\" class=\"row\">\n          <btn icon=\"edit\" :is-on=\"state === s\" @click=\"state = s\" />\n          <Display :state=\"s\" :glossed=\"glossed\" />\n        </div>\n      </div>\n    </EditorCard>\n    <template v-if=\"state\">\n      <DisplayEditor\n        v-model=\"state.display\"\n        v-model:implicit=\"state.implicit\"\n      />\n      <ConditionsEditor\n        v-model=\"state.conditions\"\n        :allow-passive=\"true\"\n        icon=\"widgets\"\n        header=\"conditions\"\n      />\n      <TransitionEditor v-model=\"state.transition\" :states=\"states\" />\n    </template>\n  </div>\n</template>\n\n<script>\nimport ButtonAlert from \"@/components/ButtonAlert\";\nimport EditorCard from \"@/components/EditorCard\";\nimport ConditionsEditor from \"./ConditionsEditor\";\nimport TransitionEditor from \"./TransitionEditor\";\nimport DisplayEditor from \"./DisplayEditor\";\nimport Display from \"./Display\";\n\nexport default {\n  name: \"PhraseBlockEditor\",\n  components: {\n    ButtonAlert,\n    EditorCard,\n    ConditionsEditor,\n    TransitionEditor,\n    Display,\n    DisplayEditor,\n  },\n  props: [\"modelValue\"],\n  emits: [\"update:modelValue\"],\n  data() {\n    return {\n      state: undefined,\n      glossed: false,\n    };\n  },\n  computed: {\n    block: {\n      get() {\n        return this.modelValue;\n      },\n      set(b) {\n        this.$emit(\"update:modelValue\", b);\n      },\n    },\n    states() {\n      return this.block?.states;\n    },\n  },\n  watch: {\n    block: {\n      handler() {\n        if (!this.states?.length) {\n          this.block.states = [];\n          this.add();\n        } else this.state = this.states[this.states.length - 1];\n      },\n      immediate: true,\n    },\n  },\n  methods: {\n    add() {\n      const state = {\n        display: [{ text: \"new state\" }],\n        transition: \"next\",\n      };\n      this.states.push(state);\n      this.state = state;\n    },\n    remove() {\n      if (this.states.length > 1) {\n        this.states.splice(this.states.indexOf(this.state), 1);\n        this.state = this.states[this.states.length - 1];\n      }\n    },\n  },\n};\n</script>\n","<template>\n  <EditorCard :icon=\"icon\" :header=\"header\" @action=\"add\">\n    <template #caption><slot /></template>\n    <div class=\"scroll col\">\n      <div v-for=\"(c, i) in conditions\" :key=\"i\" class=\"row\">\n        <toggle v-if=\"allowPassive\" v-model=\"c.passive\" icon=\"call_missed\" />\n        <select v-model=\"c.entity\" @change=\"setEntity(c)\">\n          <option v-for=\"e in entities\" :key=\"e\" :value=\"e\">{{ e }}</option>\n        </select>\n        <p class=\"icon\">west</p>\n        <select v-if=\"c.entity\" v-model=\"c.tag\">\n          <option v-for=\"t in tags[c.entity]\" :key=\"t\" :value=\"t\">\n            {{ t }}\n          </option>\n        </select>\n        <btn icon=\"clear\" @click=\"remove(i)\" />\n      </div>\n    </div>\n  </EditorCard>\n</template>\n\n<script>\nimport EditorCard from \"@/components/EditorCard\";\n\nexport default {\n  name: \"PhraseConditionsEditor\",\n  components: { EditorCard },\n  inject: [\"contextSource\"],\n  props: [\"modelValue\", \"allowPassive\", \"header\", \"icon\"],\n  emits: [\"update:modelValue\"],\n  computed: {\n    conditions: {\n      get() {\n        return this.modelValue;\n      },\n      set(c) {\n        this.$emit(\"update:modelValue\", c);\n      },\n    },\n    entities() {\n      return Object.keys(this.contextSource.value);\n    },\n    tags() {\n      return Object.entries(this.contextSource.value).reduce(\n        (c, [entity, tags]) => {\n          c[entity] = [...tags];\n          return c;\n        },\n        {}\n      );\n    },\n  },\n  methods: {\n    setEntity(c) {\n      c.tag = this.tags[c.entity][0];\n    },\n    add() {\n      const condition = { entity: this.entities[0] };\n      this.setEntity(condition);\n      const conditions = this.conditions ?? [];\n      conditions.push(condition);\n      this.conditions = conditions;\n    },\n    remove(i) {\n      this.conditions.splice(i, 1);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.scroll {\n  max-height: 128px;\n}\n</style>\n","import { render } from \"./ConditionsEditor.vue?vue&type=template&id=6e2fd21f&scoped=true\"\nimport script from \"./ConditionsEditor.vue?vue&type=script&lang=js\"\nexport * from \"./ConditionsEditor.vue?vue&type=script&lang=js\"\n\nimport \"./ConditionsEditor.vue?vue&type=style&index=0&id=6e2fd21f&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6e2fd21f\"\n\nexport default script","<template>\n  <EditorCard button=\"\" icon=\"alt_route\" header=\"transition\">\n    <template #header>\n      <div class=\"row\">\n        <btn\n          v-for=\"(ic, i) in icons\"\n          :key=\"ic\"\n          :icon=\"ic\"\n          :is-on=\"mode === i\"\n          @click=\"mode = i\"\n        />\n      </div>\n    </template>\n    <div v-if=\"mode === 2\" class=\"row-1 wrap block-editor\">\n      <div v-for=\"(s, i) in states\" :key=\"i\" class=\"row\">\n        <btn icon=\"check\" :is-on=\"present[i]\" @click=\"toggle(i)\" />\n        <Display :state=\"s\" />\n      </div>\n    </div>\n  </EditorCard>\n</template>\n\n<script>\nimport EditorCard from \"@/components/EditorCard\";\nimport Display from \"./Display\";\n\nexport default {\n  name: \"PhraseStateTransitionEditor\",\n  components: {\n    EditorCard,\n    Display,\n  },\n  props: [\"modelValue\", \"states\"],\n  emits: [\"update:modelValue\"],\n  data() {\n    return {\n      mode: 0,\n      icons: [\"block\", \"arrow_forward\", \"star_outline\"],\n    };\n  },\n  computed: {\n    transition: {\n      get() {\n        return this.modelValue;\n      },\n      set(t) {\n        this.$emit(\"update:modelValue\", t);\n      },\n    },\n    ints() {\n      return (\n        this.transition\n          ?.split(\" \")\n          .map((t) => Number(t))\n          .filter((n) => !isNaN(n)) ?? []\n      );\n    },\n    present() {\n      return this.states.map((s, i) => this.ints.includes(i));\n    },\n  },\n  watch: {\n    state: {\n      handler() {\n        if (this.transition === \"next\") this.mode = 1;\n        else if (this.transition) this.mode = 2;\n        else this.mode = 0;\n      },\n      immediate: true,\n    },\n    mode() {\n      if (this.mode === 1) this.transition = \"next\";\n      else if (!this.mode) this.transition = undefined;\n    },\n  },\n  methods: {\n    toggle(i) {\n      const ints = this.ints;\n      if (ints.includes(i)) ints.splice(ints.indexOf(i), 1);\n      else ints.push(i);\n\n      if (this.mode === 2) this.transition = ints.join(\" \");\n    },\n  },\n};\n</script>\n","import { render } from \"./TransitionEditor.vue?vue&type=template&id=6a02e6ce\"\nimport script from \"./TransitionEditor.vue?vue&type=script&lang=js\"\nexport * from \"./TransitionEditor.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <EditorCard icon=\"visibility\" header=\"display\" @action=\"add\">\n    <template #header>\n      <toggle\n        icon=\"opacity\"\n        :model-value=\"implicit\"\n        @update:modelValue=\"$emit('update:implicit', $event)\"\n      />\n    </template>\n    <div v-if=\"display\" class=\"col\">\n      <div v-for=\"(d, i) in display\" :key=\"i\" class=\"row\">\n        <btn icon=\"palette\" @click=\"toggle(i)\" />\n        <input\n          v-model=\"d.text\"\n          :class=\"colors[i]\"\n          type=\"text\"\n          placeholder=\"text\"\n        />\n        <input\n          v-model=\"d.ipa\"\n          class=\"text-ipa\"\n          :class=\"colors[i]\"\n          type=\"text\"\n          placeholder=\"ipa\"\n        />\n        <input\n          v-model=\"d.glossing\"\n          class=\"glossing\"\n          :class=\"colors[i]\"\n          type=\"text\"\n          placeholder=\"glossing\"\n        />\n        <btn icon=\"clear\" @click=\"remove(i)\" />\n      </div>\n    </div>\n  </EditorCard>\n</template>\n\n<script>\nimport EditorCard from \"@/components/EditorCard\";\n\nexport default {\n  name: \"PhraseStateDisplayEditor\",\n  components: {\n    EditorCard,\n  },\n  inject: [\"contextSource\"],\n  props: [\"modelValue\", \"implicit\", \"allowEmpty\"],\n  emits: [\"update:modelValue\", \"update:implicit\"],\n  computed: {\n    display: {\n      get() {\n        return this.modelValue;\n      },\n      set(d) {\n        this.$emit(\"update:modelValue\", d);\n      },\n    },\n    entities() {\n      return [undefined].concat(Object.keys(this.contextSource.value));\n    },\n    colors() {\n      return this.display.map(\n        (d) => \"colored-\" + (this.entities.indexOf(d.entity) - 1)\n      );\n    },\n  },\n  methods: {\n    add() {\n      if (!this.display) this.display = [];\n      this.display.push({});\n    },\n    toggle(j) {\n      let i = this.entities.indexOf(this.display[j].entity);\n      i = (i + 1) % this.entities.length;\n      this.display[j].entity = this.entities[i];\n    },\n    remove(i) {\n      if (this.allowEmpty || this.display.length > 1) {\n        this.display.splice(i, 1);\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./DisplayEditor.vue?vue&type=template&id=3ca086e4\"\nimport script from \"./DisplayEditor.vue?vue&type=script&lang=js\"\nexport * from \"./DisplayEditor.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Editor.vue?vue&type=template&id=446214d4\"\nimport script from \"./Editor.vue?vue&type=script&lang=js\"\nexport * from \"./Editor.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { watch, ref, Ref } from \"vue\";\n\ntype Options = {\n  defaultFile: unknown;\n  storage: string;\n  filename: string | (() => string);\n};\n\nexport const config: Options = {\n  defaultFile: {},\n  storage: \"\",\n  filename: \"\",\n};\n\nexport const file = ref();\n\nexport function resetFile() {\n  file.value = JSON.parse(JSON.stringify(config.defaultFile));\n}\n\nexport function saveFile() {\n  localStorage[config.storage] = JSON.stringify(file.value);\n}\n\nexport function setupEditor<T>(options: Partial<Options>) {\n  Object.assign(config, options);\n  try {\n    file.value = JSON.parse(localStorage[config.storage]);\n  } catch {\n    resetFile();\n  }\n  watch(file, saveFile, { deep: true });\n\n  return file as Ref<T>;\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n"],"sourceRoot":""}