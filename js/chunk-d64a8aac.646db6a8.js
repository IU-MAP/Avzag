(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d64a8aac"],{2909:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n("6b75");function a(e){if(Array.isArray(e))return Object(c["a"])(e)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var o=n("06c5");function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e){return a(e)||r(e)||Object(o["a"])(e)||u()}},"293e":function(e,t,n){"use strict";n("8b20")},"3b5b":function(e,t,n){},"3c94":function(e,t,n){"use strict";n.r(t);n("b0c0");var c=n("7a23"),a=Object(c["N"])("data-v-262378b6");Object(c["w"])("data-v-262378b6");var r={key:0,class:"section col-1"},o={class:"col-1"},u={class:"row-1"},i={key:1,class:"col-1 flex"},l={class:"scroll"},s={key:0,class:"col"},b={class:"col-0"},d={key:1,class:"col-0"};Object(c["u"])();var O=a((function(e,t,n,a,O,j){var f=Object(c["B"])("toggle"),v=Object(c["B"])("btn"),p=Object(c["B"])("PhraseCard");return e.corpus?(Object(c["t"])(),Object(c["d"])("div",r,[Object(c["h"])("div",o,[Object(c["h"])("div",u,[Object(c["h"])(f,{modelValue:e.searching,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searching=t}),icon:"search"},null,8,["modelValue"]),e.searching?Object(c["M"])((Object(c["t"])(),Object(c["d"])("input",{key:0,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.query=t}),class:"flex",type:"text",placeholder:"Search all phrases..."},null,512)),[[c["H"],e.query]]):(Object(c["t"])(),Object(c["d"])("h2",i,[Object(c["M"])(Object(c["h"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.section=t}),style:{flex:"none"},onChange:t[4]||(t[4]=function(t){return e.select(e.section)})},[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.corpus,(function(e){return Object(c["t"])(),Object(c["d"])("option",{key:e.id,value:e},Object(c["D"])(e.name),9,["value"])})),128))],544),[[c["G"],e.section]])]))]),Object(c["h"])("div",l,[e.searching?(Object(c["t"])(),Object(c["d"])("div",s,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.phrases,(function(t,n){return Object(c["t"])(),Object(c["d"])("div",{key:n,class:"col"},[Object(c["h"])("h2",null,Object(c["D"])(e.corpus[n].name),1),Object(c["h"])("div",b,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(t,(function(t){return Object(c["t"])(),Object(c["d"])(v,{key:t,text:e.corpus[n].phrases[t].name,"is-on":e.phrase===e.corpus[n].phrases[t],onClick:function(c){return e.select(e.corpus[n],e.corpus[n].phrases[t])}},null,8,["text","is-on","onClick"])})),128))])])})),128))])):(Object(c["t"])(),Object(c["d"])("div",d,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.phrases,(function(t){return Object(c["t"])(),Object(c["d"])(v,{key:t.id,text:t.name,"is-on":e.phrase===t,onClick:function(n){return e.select(null,t)}},null,8,["text","is-on","onClick"])})),128))]))])]),e.phrase?(Object(c["t"])(),Object(c["d"])("div",{key:e.phrase.id,class:"col-1"},[Object(c["h"])(p,{phrase:e.phrase},null,8,["phrase"]),(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.phrasebooks,(function(t,n){return Object(c["t"])(),Object(c["d"])(p,{key:n,lect:n,phrase:t[e.phrase.id]},null,8,["lect","phrase"])})),128))])):Object(c["e"])("",!0)])):Object(c["e"])("",!0)})),j=(n("4de4"),n("caad"),n("d81d"),n("13d5"),n("2532"),n("3835")),f=Object(c["N"])("data-v-5de917eb");Object(c["w"])("data-v-5de917eb");var v={key:0,class:"col card flag"},p={key:0,class:"row small wrap",style:{width:"100%"}},h={class:"flex"},y={class:"row"},m={class:"row wrap flex"};Object(c["u"])();var k=f((function(e,t,n,a,r,o){var u=Object(c["B"])("toggle"),i=Object(c["B"])("btn"),l=Object(c["B"])("Context"),s=Object(c["B"])("Block"),b=Object(c["B"])("Notes"),d=Object(c["B"])("Flag");return e.phrase?(Object(c["t"])(),Object(c["d"])("div",v,[e.lect?(Object(c["t"])(),Object(c["d"])("div",p,[Object(c["h"])("h2",h,Object(c["D"])(e.lect),1),Object(c["h"])("div",y,[Object(c["h"])(u,{modelValue:e.playing,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.playing=t}),icon:"play_arrow"},null,8,["modelValue"]),Object(c["h"])(i,{icon:"content_copy",onClick:e.copy},null,8,["onClick"]),Object(c["h"])(u,{modelValue:e.glossed,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.glossed=t}),icon:"layers"},null,8,["modelValue"])])])):Object(c["e"])("",!0),Object(c["h"])(l,{translation:e.contextTranslation,blocks:e.blocks},null,8,["translation","blocks"]),Object(c["h"])("div",m,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.phrase.blocks,(function(t,n){return Object(c["t"])(),Object(c["d"])("div",{key:n,class:"blocks row"},[Object(c["h"])("p",{class:"playback",style:{width:e.playbacks[n]+"%"}},null,4),Object(c["h"])(s,{ref:function(t){return e.blocks.push(t)},block:t,glossed:e.glossed},null,8,["block","glossed"])])})),128))]),Object(c["h"])(b,{class:"text-caption",notes:e.phrase.notes},null,8,["notes"]),Object(c["h"])(d,{lect:e.lect,class:"blur"},null,8,["lect"])])):Object(c["e"])("",!0)})),x=(n("99af"),n("4160"),n("a15b"),n("159b"),n("2909")),g=n("5794"),w=n("72e9"),C=n("d9c7"),B=n("f929"),E=n("3a0b"),S=n("e7de"),V=Object(c["i"])({components:{Context:g["a"],Block:w["a"],Notes:C["a"],Flag:B["a"]},props:{lect:{type:String,default:""},phrase:{type:Object,default:void 0}},setup:function(e){var t=Object(c["y"])(!1),n=Object(c["b"])((function(){return e.lect?e.phrase.context:void 0}));Object(c["p"])((function(){return a.length=0}));var a=Object(c["x"])([]),r=Object(c["b"])((function(){return a.filter((function(e){var t=e.state;return t})).map((function(e){var t=e.text;return t})).join(" ")}));function o(){navigator.clipboard.writeText(r.value)}var u=Object(c["b"])((function(){return E["d"]+e.lect+"/phrasebook/"})),i=Object(c["b"])((function(){return a.map((function(e){var t=e.state;return null===t||void 0===t?void 0:t.texts.map((function(e){var t=e.plain;return t}))})).map((function(e){return u.value+(null===e||void 0===e?void 0:e.join(""))+".mp3"}))})),l=Object(c["b"])({get:function(){return S["playing"].value&&S["id"].value===e.lect},set:function(t){t?S["play"].apply(S,[e.lect].concat(Object(x["a"])(i.value))):S["stop"]()}}),s=Object(c["y"])([]);return Object(c["J"])([S["playback"],S["current"],l],(function(e){var t=Object(j["a"])(e,3),n=t[0],c=t[1],a=t[2];i.value.forEach((function(e,t){return s.value[t]=a&&t===c?100*n:0}))})),{glossed:t,blocks:a,copy:o,contextTranslation:n,urls:i,playing:l,playbacks:s,playback:S["playback"]}}});n("feb5");V.render=k,V.__scopeId="data-v-5de917eb";var _=V,z=(n("96cf"),n("1da1")),A=Object(c["C"])([]),I=Object(c["C"])(),N=Object(c["C"])(),T=Object(c["C"])(),J=Object(E["a"])(Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(E["b"])("phrasebook");case 2:return A.value=e.sent,e.next=5,Object(E["c"])("phrasebook");case 5:I.value=e.sent,N.value=A.value[0],T.value=N.value.phrases[0];case 8:case"end":return e.stop()}}),e)})))),D=n("7ec3"),U=Object(c["i"])({components:{PhraseCard:_},setup:function(){J();var e=Object(c["y"])({});Object(c["J"])(T,(function(t){return Object(D["c"])(e,null===t||void 0===t?void 0:t.context)}),{immediate:!0}),Object(c["v"])("context",e);var t=Object(c["y"])(!1),n=Object(c["y"])(""),a=Object(c["b"])((function(){var e;return t.value?A.value.reduce((function(e,t,c){return e[c]=t.phrases.map((function(e,t){return[e,t]})).filter((function(e){var t=Object(j["a"])(e,1),c=t[0];return c.name.includes(n.value)})).map((function(e){var t=Object(j["a"])(e,2),n=t[1];return n})),e[c].length||delete e[c],e}),{}):null===(e=N.value)||void 0===e?void 0:e.phrases}));function r(e,t){var n;e&&(N.value=e),T.value=null!==t&&void 0!==t?t:null===(n=N.value)||void 0===n?void 0:n.phrases[0]}return{searching:t,query:n,corpus:A,section:N,phrase:T,select:r,phrases:a,phrasebooks:I}}});n("a8e9");U.render=O,U.__scopeId="data-v-262378b6";t["default"]=U},"45fc":function(e,t,n){"use strict";var c=n("23e7"),a=n("b727").some,r=n("a640"),o=n("ae40"),u=r("some"),i=o("some");c({target:"Array",proto:!0,forced:!u||!i},{some:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"4b6c":function(e,t,n){},"4d5a":function(e,t,n){"use strict";n("5917")},5794:function(e,t,n){"use strict";var c=n("7a23"),a=Object(c["N"])("data-v-caacf090");Object(c["w"])("data-v-caacf090");var r={class:"row text-caption wrap"},o=Object(c["h"])("div",{class:"icon"},"info",-1),u=Object(c["g"])("â€¦");Object(c["u"])();var i=a((function(e,t,n,a,i,l){return Object(c["t"])(),Object(c["d"])("div",r,[o,e.any?(Object(c["t"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["z"])(e.translated,(function(e,t){return Object(c["t"])(),Object(c["d"])(c["a"],{key:t},[e.length?(Object(c["t"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["z"])(e,(function(e){return Object(c["t"])(),Object(c["d"])("p",{key:e+"--"+t,class:"colored-dot-"+t},Object(c["D"])(e),3)})),128)):Object(c["e"])("",!0)],64)})),128)):(Object(c["t"])(),Object(c["d"])(c["a"],{key:1},[u],64))])})),l=(n("4de4"),n("4160"),n("d81d"),n("45fc"),n("4fad"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0"),n("2909")),s=n("3835"),b=n("b85c"),d=Object(c["i"])({name:"Context",props:{translation:{type:Object,default:function(){return{}}},blocks:{type:Array,default:function(){return[]}}},setup:function(e){var t=Object(c["l"])("context",{}),n=Object(c["b"])((function(){var t,n={},c=Object(b["a"])(e.blocks);try{for(c.s();!(t=c.n()).done;){var a=t.value.state,r=null===a||void 0===a?void 0:a.conditions;r&&Object.entries(r).forEach((function(e){var t=Object(s["a"])(e,2),c=t[0],a=t[1];return Object.entries(a).forEach((function(e){var t=Object(s["a"])(e,1),a=t[0];n[c]||(n[c]=new Set),n[c].add(a)}))}))}}catch(o){c.e(o)}finally{c.f()}return n}));function a(e,t){return(null===e||void 0===e?void 0:e[t])||t}var r=Object(c["b"])((function(){return Object.entries(t.value).map((function(t){var c=Object(s["a"])(t,2),r=c[0],o=c[1];return Object(l["a"])(o).filter((function(e){var t;return!(null!==(t=n.value[r])&&void 0!==t&&t.has(e))})).map((function(t){var n;return a(null===(n=e.translation)||void 0===n?void 0:n[r],t)}))}))})),o=Object(c["b"])((function(){return r.value.some((function(e){return null===e||void 0===e?void 0:e.length}))}));return{translated:r,any:o}}});n("4d5a");d.render=i,d.__scopeId="data-v-caacf090";t["a"]=d},5917:function(e,t,n){},"72e9":function(e,t,n){"use strict";var c=n("7a23"),a=Object(c["N"])("data-v-354bd589"),r=a((function(e,t,n,a,r,o){var u=Object(c["B"])("VState");return e.state?Object(c["M"])((Object(c["t"])(),Object(c["d"])("button",{key:0,class:["small",{disabled:e.disabled,glossed:e.glossed}],onClick:t[2]||(t[2]=function(){return e.move&&e.move.apply(e,arguments)})},[Object(c["h"])(u,{glossed:e.glossed,state:e.state,onText:t[1]||(t[1]=function(t){return e.text=t})},null,8,["glossed","state"])],2)),[[c["I"],e.text]]):Object(c["e"])("",!0)})),o=(n("c975"),n("af66")),u=n("7ec3"),i=Object(c["i"])({name:"Block",components:{VState:o["a"]},props:{block:{type:Array,default:void 0},glossed:Boolean},emits:["update:modelValue"],setup:function(e){var t=Object(c["y"])(),n=Object(c["b"])((function(){var e;return!(null!==(e=t.value)&&void 0!==e&&e.transition)})),a=Object(c["y"])(""),r=Object(c["l"])("context",{});function o(e){var n;Object(c["E"])(e)!==Object(c["E"])(t.value)&&(Object(u["a"])(r,null===(n=t.value)||void 0===n?void 0:n.conditions,!1),Object(u["a"])(r,null===e||void 0===e?void 0:e.conditions,!0),t.value=e)}function i(){var a,i;if(!n.value){var l,s=null===(a=t.value)||void 0===a?void 0:a.transition,b=e.block;if("next"===s){var d=t.value?b.indexOf(Object(c["E"])(t.value)):-1;l=b[(d+1)%b.length]}else s&&(l=Object(u["d"])(s,b,r.value));o(l),Object(u["b"])(null===(i=l)||void 0===i?void 0:i.conditions,r.value)[0]<0&&(t.value=void 0)}}return Object(c["J"])(r,(function(t){var n=Object(u["d"])(void 0,e.block,t);o(n)}),{immediate:!0,deep:!0}),{move:i,state:t,disabled:n,text:a}}});n("92f8");i.render=r,i.__scopeId="data-v-354bd589";t["a"]=i},"7ec3":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return i}));n("4160"),n("d81d"),n("4fad"),n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0");var c=n("3835");function a(){return{texts:[{plain:"new state"}],transition:"next",conditions:{}}}function r(e,t){t&&(e.value={},t.forEach((function(t){var n=t.entity;return e.value[n]=new Set})))}function o(e,t){if(!e)return[1,0];for(var n=0,a=0,r=0,o=Object.entries(e);r<o.length;r++)for(var u=Object(c["a"])(o[r],2),i=u[0],l=u[1],s=0,b=Object.entries(l);s<b.length;s++){var d,O=Object(c["a"])(b[s],2),j=O[0],f=O[1],v=null===(d=t[i])||void 0===d?void 0:d.has(j);if(!f&&!v)return[-1,0];v&&(n+=1),a+=1}return[n/(a||1),a]}function u(e,t,n){var a,r,u=-1,i=0,l=null!==(a=null===e||void 0===e?void 0:e.map((function(e){return t[e]})))&&void 0!==a?a:t;return l.forEach((function(e){var t=o(e.conditions,n),a=Object(c["a"])(t,2),l=a[0],s=a[1];(1===u?1===l&&s>i:l>u)&&(r=e,u=l,i=s)})),r}function i(e,t,n){t&&e.value&&Object.entries(t).forEach((function(t){var a=Object(c["a"])(t,2),r=a[0],o=a[1];return Object.entries(o).forEach((function(t){var a=Object(c["a"])(t,2),o=a[0],u=a[1],i=e.value[r];u&&i&&(n?i.add(o):i.delete(o))}))}))}},"8b20":function(e,t,n){},"92f8":function(e,t,n){"use strict";n("3b5b")},"99af":function(e,t,n){"use strict";var c=n("23e7"),a=n("d039"),r=n("e8b5"),o=n("861d"),u=n("7b0b"),i=n("50c4"),l=n("8418"),s=n("65f0"),b=n("1dde"),d=n("b622"),O=n("2d00"),j=d("isConcatSpreadable"),f=9007199254740991,v="Maximum allowed index exceeded",p=O>=51||!a((function(){var e=[];return e[j]=!1,e.concat()[0]!==e})),h=b("concat"),y=function(e){if(!o(e))return!1;var t=e[j];return void 0!==t?!!t:r(e)},m=!p||!h;c({target:"Array",proto:!0,forced:m},{concat:function(e){var t,n,c,a,r,o=u(this),b=s(o,0),d=0;for(t=-1,c=arguments.length;t<c;t++)if(r=-1===t?o:arguments[t],y(r)){if(a=i(r.length),d+a>f)throw TypeError(v);for(n=0;n<a;n++,d++)n in r&&l(b,d,r[n])}else{if(d>=f)throw TypeError(v);l(b,d++,r)}return b.length=d,b}})},a15b:function(e,t,n){"use strict";var c=n("23e7"),a=n("44ad"),r=n("fc6a"),o=n("a640"),u=[].join,i=a!=Object,l=o("join",",");c({target:"Array",proto:!0,forced:i||!l},{join:function(e){return u.call(r(this),void 0===e?",":e)}})},a8e9:function(e,t,n){"use strict";n("c5ea")},af66:function(e,t,n){"use strict";var c=n("7a23"),a=Object(c["N"])("data-v-661aca89");Object(c["w"])("data-v-661aca89");var r={class:"segments"},o={class:"row dashes"};Object(c["u"])();var u=a((function(e,t,n,a,u,i){return Object(c["t"])(),Object(c["d"])("div",{class:["display row",{glossed:e.canGloss}]},[Object(c["h"])("div",r,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.types,(function(t,n){return Object(c["t"])(),Object(c["d"])("p",{key:t,class:"text-"+t},[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.texts[n],(function(t,n){return Object(c["t"])(),Object(c["d"])("span",{key:n,class:e.textColors[n]},Object(c["D"])(t),3)})),128))],2)})),128))]),Object(c["h"])("div",o,[(Object(c["t"])(!0),Object(c["d"])(c["a"],null,Object(c["z"])(e.dashColors,(function(e,t){return Object(c["t"])(),Object(c["d"])("p",{key:t,class:e},null,2)})),128))])],2)})),i=(n("4de4"),n("c975"),n("a15b"),n("d81d"),n("45fc"),n("4fad"),n("b64b"),n("07ac"),n("3835")),l=Object(c["i"])({name:"State",props:{state:{type:Object,default:function(){return{}}},glossed:{type:Boolean,default:!1}},emits:["text"],setup:function(e,t){var n=t.emit,a=Object(c["l"])("context",{}),r=Object(c["b"])((function(){return Object.keys(a.value)})),o=Object(c["b"])((function(){return e.glossed&&e.state.texts.some((function(e){var t=e.ipa,n=e.gloss;return t||n}))})),u=Object(c["b"])((function(){return o.value?["ipa","gloss"]:["plain"]})),l=Object(c["b"])((function(){return u.value.map((function(t){var n;return null===(n=e.state.texts)||void 0===n?void 0:n.map((function(e){return e[t]}))}))}));Object(c["J"])(l,(function(e){if(e){var t=e.map((function(e){return null===e||void 0===e?void 0:e.join("")})),c=1===t.length?t[0]:t.join("\n");n("text",c)}}),{immediate:!0,deep:!0});var s=Object(c["b"])((function(){return e.state.texts.map((function(e){var t=e.entity;return null!==t&&void 0!==t?t:""})).map((function(e){return r.value.indexOf(e)})).map((function(e){return"colored-"+e}))})),b=Object(c["b"])((function(){return e.state.transition&&e.state.conditions?Object.entries(e.state.conditions).filter((function(e){var t=Object(i["a"])(e,2),n=t[1];return Object.values(n).some((function(e){return e}))})).map((function(e){var t=Object(i["a"])(e,1),n=t[0];return r.value.indexOf(n)})).map((function(e){return"colored-back-"+e})):[]}));return{types:u,texts:l,canGloss:o,textColors:s,dashColors:b}}});n("293e");l.render=u,l.__scopeId="data-v-661aca89";t["a"]=l},c5ea:function(e,t,n){},c975:function(e,t,n){"use strict";var c=n("23e7"),a=n("4d64").indexOf,r=n("a640"),o=n("ae40"),u=[].indexOf,i=!!u&&1/[1].indexOf(1,-0)<0,l=r("indexOf"),s=o("indexOf",{ACCESSORS:!0,1:0});c({target:"Array",proto:!0,forced:i||!l||!s},{indexOf:function(e){return i?u.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},feb5:function(e,t,n){"use strict";n("4b6c")}}]);
//# sourceMappingURL=chunk-d64a8aac.646db6a8.js.map