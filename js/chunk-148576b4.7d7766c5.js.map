{"version":3,"sources":["webpack:///./src/components/ButtonAlert.vue","webpack:///./src/components/ButtonAlert.vue?c316","webpack:///./src/components/ButtonAlert.vue?2335","webpack:///./src/editor.ts","webpack:///./src/EditorNavigation.vue","webpack:///./src/EditorNavigation.vue?7a84","webpack:///./src/EditorNavigation.vue?33eb","webpack:///./src/EditorNavigation.vue?12df"],"names":["class","prompt","icon","confirm","text","props","type","String","default","emits","setup","emit","value","render","config","defaultFile","storage","filename","file","resetFile","JSON","parse","stringify","saveFile","localStorage","setupEditor","options","Object","assign","deep","id","custom","to","navigate","menu","menus","name","key","loadLect","loadJSON","saveJSON","components","ButtonAlert","route","router","lect","window","json","f","navigator","clipboard","writeText","push","__scopeId"],"mappings":"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","file":"js/chunk-148576b4.7d7766c5.js","sourcesContent":["<template>\n  <div class=\"row-0\">\n    <template v-if=\"prompt\">\n      <btn\n        class=\"highlight-font-alert\"\n        icon=\"delete_forever\"\n        @click=\"confirm\"\n      />\n      <btn icon=\"check\" @click=\"prompt = false\" />\n    </template>\n    <btn\n      v-else\n      class=\"highlight-font-alert\"\n      icon=\"delete\"\n      :text=\"text\"\n      @click=\"prompt = true\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { ref, defineComponent } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    text: { type: String, default: \"\" },\n  },\n  emits: [\"confirm\"],\n  setup(props, { emit }) {\n    const prompt = ref(false);\n    function confirm() {\n      prompt.value = false;\n      emit(\"confirm\");\n    }\n    return { prompt, confirm };\n  },\n});\n</script>\n","\nimport { ref, defineComponent } from \"vue\";\n\nexport default defineComponent({\n  props: {\n    text: { type: String, default: \"\" },\n  },\n  emits: [\"confirm\"],\n  setup(props, { emit }) {\n    const prompt = ref(false);\n    function confirm() {\n      prompt.value = false;\n      emit(\"confirm\");\n    }\n    return { prompt, confirm };\n  },\n});\n","import { render } from \"./ButtonAlert.vue?vue&type=template&id=9c1bd3bc\"\nimport script from \"./ButtonAlert.vue?vue&type=script&lang=ts\"\nexport * from \"./ButtonAlert.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { watch, ref, Ref } from \"vue\";\n\ntype Options = {\n  defaultFile: unknown;\n  storage: string;\n  filename: string | (() => string);\n};\n\nexport const config: Options = {\n  defaultFile: {},\n  storage: \"\",\n  filename: \"\",\n};\n\nexport const file = ref();\n\nexport function resetFile() {\n  file.value = JSON.parse(JSON.stringify(config.defaultFile));\n}\n\nexport function saveFile() {\n  localStorage[config.storage] = JSON.stringify(file.value);\n}\n\nexport function setupEditor<T>(options: Partial<Options>) {\n  Object.assign(config, options);\n  try {\n    file.value = JSON.parse(localStorage[config.storage]);\n  } catch {\n    resetFile();\n  }\n  watch(file, saveFile, { deep: true });\n\n  return file as Ref<T>;\n}\n","<template>\n  <div id=\"root\" class=\"small\">\n    <div class=\"section scroll row-1\">\n      <div class=\"row-1\">\n        <router-link v-slot=\"{ navigate }\" custom :to=\"{ name: 'Home' }\">\n          <btn icon=\"arrow_back\" @click=\"navigate\" />\n        </router-link>\n        <select v-model=\"menu\">\n          <option v-for=\"{ text, name } in menus\" :key=\"name\" :value=\"name\">\n            {{ text }}\n          </option>\n        </select>\n      </div>\n      <div class=\"row-1 controls\">\n        <btn icon=\"language\" @click=\"loadLect\" />\n        <btn icon=\"code\" @click=\"loadJSON\" />\n        <btn icon=\"integration_instructions\" @click=\"saveJSON\" />\n        <p class=\"text-dot\" />\n        <ButtonAlert @confirm=\"resetFile\" />\n      </div>\n    </div>\n  </div>\n  <router-view />\n</template>\n\n<script lang=\"ts\">\nimport ButtonAlert from \"@/components/ButtonAlert.vue\";\n\nimport { ref, watch, defineComponent } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { loadJSON as loadDBJSON } from \"@/store\";\nimport { config, file, resetFile } from \"@/editor\";\n\nexport default defineComponent({\n  components: { ButtonAlert },\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n\n    const menus = [\n      {\n        text: \"Phonology\",\n        name: \"PhonologyEditor\",\n      },\n      {\n        text: \"Converter\",\n        name: \"ConverterEditor\",\n      },\n      {\n        text: \"Phrasebook\",\n        name: \"PhrasebookEditor\",\n      },\n      {\n        text: \"Phrasebook Corpus\",\n        name: \"PhrasebookCorpusEditor\",\n      },\n    ];\n    const menu = ref((route.name ?? menus[0].name) as string);\n    watch(menu, (menu) => router.push({ name: menu }));\n\n    async function loadLect() {\n      let json;\n      if (typeof config.filename === \"string\") {\n        const lect = window.prompt(\"Enter lect name\");\n        if (!lect) return;\n        json = await loadDBJSON(lect + \"/\" + config.filename);\n      } else {\n        json = await loadDBJSON(config.filename());\n      }\n      if (json) file.value = json;\n    }\n    function loadJSON() {\n      const f = JSON.parse(window.prompt(\"Enter JSON\") ?? \"0\");\n      if (f) file.value = f;\n    }\n    function saveJSON() {\n      navigator.clipboard.writeText(JSON.stringify(file.value));\n    }\n\n    return { menu, menus, loadLect, loadJSON, saveJSON, resetFile };\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n#root {\n  background-color: var(--color-foreground);\n  margin: -1 * map-get($margins, \"normal\");\n  margin-bottom: map-get($margins, \"double\");\n  padding: map-get($margins, \"normal\");\n  border-radius: 0;\n  box-shadow: map-get($shadows, \"elevated\");\n  :not(.icon) {\n    font-weight: bold;\n  }\n}\n.controls {\n  flex: 1;\n  justify-content: flex-end;\n}\nselect {\n  flex: 0;\n}\n@media only screen and (max-width: $mobile-width) {\n  #root .section {\n    flex-flow: column;\n  }\n}\n</style>\n","\nimport ButtonAlert from \"@/components/ButtonAlert.vue\";\n\nimport { ref, watch, defineComponent } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { loadJSON as loadDBJSON } from \"@/store\";\nimport { config, file, resetFile } from \"@/editor\";\n\nexport default defineComponent({\n  components: { ButtonAlert },\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n\n    const menus = [\n      {\n        text: \"Phonology\",\n        name: \"PhonologyEditor\",\n      },\n      {\n        text: \"Converter\",\n        name: \"ConverterEditor\",\n      },\n      {\n        text: \"Phrasebook\",\n        name: \"PhrasebookEditor\",\n      },\n      {\n        text: \"Phrasebook Corpus\",\n        name: \"PhrasebookCorpusEditor\",\n      },\n    ];\n    const menu = ref((route.name ?? menus[0].name) as string);\n    watch(menu, (menu) => router.push({ name: menu }));\n\n    async function loadLect() {\n      let json;\n      if (typeof config.filename === \"string\") {\n        const lect = window.prompt(\"Enter lect name\");\n        if (!lect) return;\n        json = await loadDBJSON(lect + \"/\" + config.filename);\n      } else {\n        json = await loadDBJSON(config.filename());\n      }\n      if (json) file.value = json;\n    }\n    function loadJSON() {\n      const f = JSON.parse(window.prompt(\"Enter JSON\") ?? \"0\");\n      if (f) file.value = f;\n    }\n    function saveJSON() {\n      navigator.clipboard.writeText(JSON.stringify(file.value));\n    }\n\n    return { menu, menus, loadLect, loadJSON, saveJSON, resetFile };\n  },\n});\n","import { render } from \"./EditorNavigation.vue?vue&type=template&id=62968abc&scoped=true\"\nimport script from \"./EditorNavigation.vue?vue&type=script&lang=ts\"\nexport * from \"./EditorNavigation.vue?vue&type=script&lang=ts\"\n\nimport \"./EditorNavigation.vue?vue&type=style&index=0&id=62968abc&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-62968abc\"\n\nexport default script","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditorNavigation.vue?vue&type=style&index=0&id=62968abc&lang=scss&scoped=true\""],"sourceRoot":""}